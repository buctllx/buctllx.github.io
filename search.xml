<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ElasticSearch æ“ä½œå¼‚å¸¸æ€»ç»“</title>
    <url>/2021/12/15/ElasticSearch-%E6%93%8D%E4%BD%9C%E5%BC%82%E5%B8%B8%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h1 id="index-å†™å…¥æ•°æ®-forbidden-é—®é¢˜">1. Index å†™å…¥æ•°æ® FORBIDDEN é—®é¢˜</h1>
<h2 id="é—®é¢˜æè¿°">1.1 é—®é¢˜æè¿°</h2>
<p>åœ¨ä½¿ç”¨ä¸ƒç‰›äº‘çš„ Logkit å¾€ ElasticSearch å‘é€æ•°æ®çš„æ—¶å€™å‡ºç°äº†ä»¥ä¸‹å¼‚å¸¸ä¿¡æ¯ï¼›</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"># SendError: bulk failed with last error</span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;_index&quot;</span>:<span class="string">&quot;dev_cbim_tool_log&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;_type&quot;</span>:<span class="string">&quot;cbim_tool_log&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;_id&quot;</span>:<span class="string">&quot;UhoDvX0B7FSmwLI_OPym&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;status&quot;</span>:<span class="number">403</span>,</span><br><span class="line">    <span class="attr">&quot;error&quot;</span>:&#123;</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>:<span class="string">&quot;cluster_block_exception&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;reason&quot;</span>:<span class="string">&quot;blocked by: [FORBIDDEN/12/index read-only / allow delete (api)];&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"># failDatas size : <span class="number">33</span>	</span><br></pre></td></tr></table></figure>
<p>å…¶æ ¸å¿ƒå¼‚å¸¸æç¤ºæ˜¯ï¼š[FORBIDDEN/12/index read-only / allow delete (api)]</p>
<span id="more"></span>
<h2 id="åŸå› åˆ†æ">1.2 åŸå› åˆ†æ</h2>
<p>ä»å­—é¢æ„æ€çœ‹ï¼ŒES ç¦æ­¢æ•°æ®å†™å…¥ï¼›</p>
<p>è”æƒ³åˆ°æœ€è¿‘æœåŠ¡å™¨å‘ç”Ÿçš„ä¸€ç³»åˆ—é—®é¢˜ï¼Œä¸€åˆ‡éƒ½èƒ½è§£é‡Šçš„é€šäº†ï¼›</p>
<p>æœ€è¿‘å‘ç°ï¼šES é›†ç¾¤çš„ä¸€ä¸ªèŠ‚ç‚¹æŒ‚äº†ï¼ˆä¸»è¦æ˜¯å› ä¸ºæœåŠ¡å™¨çš„ç£ç›˜åäº†ï¼‰ï¼›</p>
<p>åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œè§¦å‘äº† ES çš„ä¿æŠ¤æœºåˆ¶ï¼Œå› æ­¤å‡ºç°äº†ä¸Šé¢çš„æƒ…å†µï¼›</p>
<h2 id="è§£å†³æ–¹æ³•">1.3 è§£å†³æ–¹æ³•</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl -XPUT -H &quot;Content-Type: application/json&quot; http://localhost:9200/_all/_settings -d &#x27;&#123;&quot;index.blocks.read_only_allow_delete&quot;: null&#125;&#x27;</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒé“¾æ¥ï¼š[å¦‚ä½•ä¿®å¤ ElasticSearch <a href="https://techoverflow.net/2019/04/17/how-to-fix-elasticsearch-forbidden-12-index-read-only-allow-delete-api/">FORBIDDEN/12/index read-only / allow delete ï¼ˆapiï¼‰] â€“ TechOverflow</a></p>
<h1 id="elasticsearch-å¯åŠ¨å‚æ•°é—®é¢˜">2. ElasticSearch å¯åŠ¨å‚æ•°é—®é¢˜</h1>
<p>é€šè¿‡ docker å¯åŠ¨ es çš„æ—¶å€™ï¼Œç›¸å…³å‚æ•°è®¾ç½®è·Ÿ es çš„é•œåƒç‰ˆæœ¬æœ‰å…³ï¼›</p>
<p>è¿™é‡Œä¸»è¦è¯´æ˜å¸¸è§çš„å„ç§ es è®¾ç½®é—®é¢˜</p>
<h2 id="unknown-setting-discovery.seed_hosts">2.1 unknown setting [discovery.seed_hosts]</h2>
<h3 id="äº§ç”ŸèƒŒæ™¯">äº§ç”ŸèƒŒæ™¯</h3>
<p>ä½¿ç”¨2019å¹´çš„è€è„šæœ¬å¯åŠ¨ es çš„ docker å®ä¾‹ï¼›</p>
<p>æ³¨ï¼šç¬”è€…æ˜¯ 2021.12.15 pull æœ€æ–°çš„ es é•œåƒå¯åŠ¨å®ä¾‹çš„ï¼Œå¯åŠ¨å®ä¾‹ä½¿ç”¨çš„å‚æ•°æ˜¯ 2019 å¹´åº•æ—¶çš„ï¼›</p>
<h3 id="åŸå› ">åŸå› </h3>
<p>2019 å¹´åº•çš„ es é•œåƒå’Œ 2021 å¹´çš„é•œåƒæ–‡ä»¶å‚æ•°è®¾ç½®ä¸ä¸€è‡´ï¼Œ</p>
<p>å¯ä»¥é€šè¿‡ dock inspect elasticsearch æŸ¥çœ‹</p>
<h3 id="è§£å†³æ–¹æ³•-1">è§£å†³æ–¹æ³•</h3>
<p>ä½¿ç”¨ä¸‹é¢çš„é…ç½®æ›¿ä»£</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">discovery.zen.ping.unicast.hosts:</span> [<span class="string">&quot;192.168.10.11:9300&quot;</span>,<span class="string">&quot;192.168.10.12:9300&quot;</span>,<span class="string">&quot;192.168.10.13:9300&quot;</span>]</span><br></pre></td></tr></table></figure>
<p><font color="red">æ³¨æ„ï¼šå¯åŠ¨è„šæœ¬ï¼Œæœ€å¥½è·Ÿ docker é•œåƒé…å¥—ä½¿ç”¨</font></p>
<h3 id="ç±»ä¼¼çš„é—®é¢˜">ç±»ä¼¼çš„é—®é¢˜</h3>
<p>unknown setting [cluster.initial_master_nodes]</p>
<h2 id="es-ç¼“å­˜è®¾ç½®">2.2 ES ç¼“å­˜è®¾ç½®</h2>
<p>é»˜è®¤è®¾ç½®ï¼šES_JAVA_OPTS="-Xms256m -Xmx256m"</p>
<p>å¯åŠ¨çš„æ—¶å€™å¯ä»¥åŠ  -e æŒ‡å®šå‚æ•°</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">-e ES_JAVA_OPTS=&quot;-Xms1g -Xmx1g&quot;</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®è¿‡å¤§å¯èƒ½å¯¼è‡´æœ¬æœºç¼“å­˜ä¸å¤Ÿï¼Œå¯åŠ¨æ—¶æœ‰å¦‚ä¸‹é”™è¯¯æç¤ºï¼š</p>
<blockquote>
<p>max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]</p>
</blockquote>
<p>è§£å†³æ–¹æ³•ï¼šä¿®æ”¹ centos ç³»ç»Ÿçš„ç¼“å­˜è®¾ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. open and edit conf</span></span><br><span class="line">vi /etc/sysctl.conf</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2. add at last vm.max_map_count=262144</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3. apply</span></span><br><span class="line">/sbin/sysctl -p</span><br></pre></td></tr></table></figure>
<h1 id="elasticsearch-é›†ç¾¤çŠ¶æ€æ’æŸ¥">3. ElasticSearch é›†ç¾¤çŠ¶æ€æ’æŸ¥</h1>
<p><a href="https://blog.csdn.net/laoyang360/article/details/109699085">Elasticsearch é›†ç¾¤æ•…éšœæ’æŸ¥åŠä¿®å¤æŒ‡å—_é“­æ¯…å¤©ä¸‹ï¼ˆå…¬ä¼—å·åŒåï¼‰-CSDNåšå®¢</a></p>
<h1 id="es-ç´¢å¼•-primary-shard-is-unassigned-è§£å†³æ–¹æ³•">4. ES ç´¢å¼• primary shard is unassigned è§£å†³æ–¹æ³•</h1>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">POST /_cluster/reroute</span><br><span class="line">&#123;</span><br><span class="line">  &quot;commands&quot; : [</span><br><span class="line">  &#123;</span><br><span class="line">    &quot;allocate_stale_primary&quot; : &#123;</span><br><span class="line">    &quot;index&quot; : &quot;.monitoring-kibana-6-2021.12.17&quot;, </span><br><span class="line">    &quot;shard&quot; : 0,</span><br><span class="line">    &quot;node&quot; : &quot;es-node-2&quot;,</span><br><span class="line">    &quot;accept_data_loss&quot; : true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>[ES é‡åˆ° unassigned shardå¦‚ä½•å¤„ç†ï¼Ÿ_weixin_34050519çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_34050519/article/details/85936609)</p>
<p><a href="https://blog.csdn.net/dlm_bk/article/details/102840031">è§£å†³elasticsearchåˆ†ç‰‡unassignedçš„3ä¸ªæ–¹æ³•_dlm_bkçš„åšå®¢-CSDNåšå®¢_esåˆ†ç‰‡unassigned</a></p>
]]></content>
      <categories>
        <category>ElasticSearch</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
        <tag>ES</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo Next Theme ä½¿ç”¨é—®é¢˜æ€»ç»“</title>
    <url>/2021/12/21/Hexo-Next-Theme-%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<div class="note info"><p>ä¸¤ä¸ªè·¯å¾„è¯´æ˜ï¼š</p>
<p>site root directoryï¼šåšå®¢ç«™ç‚¹æ ¹ç›®å½•</p>
<p>theme root directoryï¼šåšå®¢ä¸»é¢˜æ ¹ç›®å½•</p>
<p>åé¢è¯´æ˜é—®é¢˜ä¼šä¸€ç›´æ²¿ç”¨è¿™ä¸­å«æ³•ï¼›</p>
</div>
<h1 id="éƒ¨ç½²åæœç´¢åŠŸèƒ½æ— æ³•ä½¿ç”¨">1. éƒ¨ç½²åâ€œæœç´¢â€åŠŸèƒ½æ— æ³•ä½¿ç”¨</h1>
<p><strong>åŸå› </strong></p>
<p>ä½¿ç”¨äº†æœ€æ–°çš„ master ç‰ˆæœ¬ï¼Œmaster åˆ†æ”¯æ˜¯ä¸»é¢˜ä½œè€…çš„å¼€å‘åˆ†æ”¯ï¼Œæ¯å‘¨éƒ½ä¼šæ›´æ–°ï¼Œå½“æ—¶ä¸ç¨³å®š</p>
<span id="more"></span>
<p><strong>è§£å†³æ–¹æ³•</strong></p>
<p>æ‹‰å»ç¨³å®šç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œä¸»è¦çœ‹æœ€æ–°çš„ Tag</p>
<p>å‚è€ƒ Issues é“¾æ¥ï¼šhttps://github.com/hexojs/hexo/issues/4654</p>
<h1 id="æ›¿æ¢å›¾ç‰‡èµ„æºè·¯å¾„">2. æ›¿æ¢å›¾ç‰‡èµ„æºè·¯å¾„</h1>
<p>ä¸»é¢˜æ¶‰åŠåˆ°çš„ï¼Œå„ç§å›¾ç‰‡èµ„æºéƒ½æ˜¯å¯ä»¥æ›¿æ¢çš„ï¼Œ</p>
<p>**æ›¿æ¢è·¯å¾„ï¼štheme root directory*</p>
<p>ä¸ºäº†æ˜¾ç¤ºæ•ˆæœï¼Œæ³¨æ„æ›¿æ¢çš„å›¾ç‰‡æœ€å¥½æ˜¯å¯¹åº”åƒç´ çš„ï¼Œè€Œä¸”ä¸æ˜“è¿‡å¤§ï¼Œå›¾ç‰‡ç±»å‹å¯ä»¥è‡ªå·±ä¿®æ”¹</p>
<p>å¯æ›¿æ¢å›¾ç‰‡è¯´æ˜ï¼š</p>
<table>
<thead>
<tr class="header">
<th>å›¾ç‰‡åç§°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>avatar</td>
<td>åšä¸»å›¾åƒ</td>
</tr>
<tr class="even">
<td>favicon-16x16-next</td>
<td>ç½‘ç«™å›¾æ ‡ 16x16 åƒç´ </td>
</tr>
<tr class="odd">
<td>favicon-32x32-next</td>
<td>ç½‘ç«™å›¾æ ‡ 32x32 åƒç´ </td>
</tr>
<tr class="even">
<td>logo</td>
<td>log</td>
</tr>
<tr class="odd">
<td>apple-touch-icon-next</td>
<td>è§¦æ‘¸å›¾æ ‡</td>
</tr>
<tr class="even">
<td>alipay</td>
<td>æ”¯ä»˜å®æ”¶æ¬¾äºŒç»´ç </td>
</tr>
<tr class="odd">
<td>weixin</td>
<td>å¾®ä¿¡æ”¶æ¬¾äºŒç»´ç </td>
</tr>
</tbody>
</table>
<h1 id="å¢åŠ è‡ªå®šä¹‰çš„æ ‡ç­¾åˆ†ç±»é¡µé¢">3. å¢åŠ è‡ªå®šä¹‰çš„â€œæ ‡ç­¾â€ï¼Œâ€œåˆ†ç±»â€é¡µé¢</h1>
<p>é»˜è®¤å®‰è£…å¥½çš„ next ä¸»é¢˜ï¼Œæ˜¯æ²¡æœ‰â€œæ ‡ç­¾â€ï¼Œâ€œåˆ†ç±»â€é¡µé¢çš„ï¼›</p>
<p>éœ€è¦ä½¿ç”¨è€…è‡ªå·±æ–°å¢é¡µé¢ï¼š</p>
<p>æ–°å¢æ–¹æ³•ï¼šä»¥â€œæ ‡ç­¾â€ä¹Ÿä¸ºä¾‹è¯´æ˜ï¼š</p>
<ol type="1">
<li><p>ä½¿ç”¨ hexo å‘½ä»¤æ–°å»º tags.mdé¡µé¢</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">cd</span> site root directory</span></span><br><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure></li>
<li><p>æ‰“å¼€ tags.md å¹¶ä¿®æ”¹é¡µé¢ç±»å‹ type ä¿¡æ¯</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">title</span>: Tags</span><br><span class="line"><span class="attribute">date</span>: <span class="number">2021</span>-<span class="number">12</span>-<span class="number">22</span> <span class="number">12</span>:<span class="number">00</span>:<span class="number">00</span></span><br><span class="line"><span class="attribute">type</span>: tags</span><br></pre></td></tr></table></figure></li>
<li><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># cd next/_config.yml</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h1 id="å¼€å¯é¦–é¡µæ–‡ç« éƒ¨åˆ†æ˜¾ç¤º">4. å¼€å¯é¦–é¡µæ–‡ç« éƒ¨åˆ†æ˜¾ç¤º</h1>
<p>next ä¸»é¢˜é»˜è®¤çš„æ˜¯å°†ä½ çš„æ–‡ç« å…¨ç¯‡æ˜¾ç¤ºåœ¨è‡ªå·±çš„é¦–é¡µä¸Šï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œé¦–é¡µå„ä¸ªæ–‡ç« å¤ªé•¿äº†ä¸åˆ©äºç¿»é˜…</p>
<p>æƒ³è¦è®©æ–‡ç« éƒ¨åˆ†æ˜¾ç¤ºï¼Œå¹¶å‡ºç°â€œé˜…è¯»å…¨æ–‡çš„æŒ‰é’®â€ï¼Œåªéœ€è¦åœ¨ä¸ªäººçš„æ–‡ç«  Markdown æºæ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œä»£ç å°±è¡Œ</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br></pre></td></tr></table></figure>
<p>å…·ä½“ä½ç½®ï¼Œè‡ªå·±ç¡®å®šï¼Œåœ¨è‡ªå·±æƒ³è¦æ˜¾ç¤ºçš„æ–‡ç« éƒ¨åˆ†ä¸‹é¢åŠ ä¸Šå³å¯åªåœ¨é¦–é¡µæ˜¾ç¤ºæ‰€éœ€çš„æ–‡ç« éƒ¨åˆ†ã€‚</p>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<p><a href="https://theme-next.js.org/docs/theme-settings/custom-pages.html?highlight=categories#Adding-Â«TagsÂ»-Page">Custom Pages | NexT (theme-next.js.org)</a></p>
<p><a href="https://github.com/iissnan/hexo-theme-next/wiki/åˆ›å»ºåˆ†ç±»é¡µé¢">åˆ›å»ºåˆ†ç±»é¡µé¢ Â· iissnan/hexo-theme-next Wiki (github.com)</a></p>
<p><a href="https://knner.wang/2019/11/03/Hexo-ThemeNext-Writing.html">Hexo + Theme Next -- å†™ä½œ | Knner.Wang's Blog</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
        <category>Hexo Theme</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Theme</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo é›†æˆ PicGo Github å›¾åºŠ</title>
    <url>/2022/01/20/Hexo-%E9%9B%86%E6%88%90-PicGo-Github-%E5%9B%BE%E5%BA%8A/</url>
    <content><![CDATA[<h1 id="èƒŒæ™¯è¯´æ˜">0ã€èƒŒæ™¯è¯´æ˜</h1>
<p>åšä¸»åŸæ¥ä½¿ç”¨ä¸ƒç‰›äº‘å›¾åºŠï¼Œå¥½å¤„ï¼š10G å…è´¹ç©ºé—´ï¼›åå¤„ï¼šåŸŸåæœ‰æ•ˆæœŸä¸€ä¸ªæœˆï¼›è¶…å‡ºä¸€ä¸ªæœˆå°±æ²¡æ³•ä½¿ç”¨äº†ï¼›</p>
<p>å› è€Œè½¬å‘äº†å…¶ä»–å›¾åºŠï¼Œå‘ç° PicGo ä¸­æ”¯æŒçš„å›¾åºŠæœ‰ Githubï¼Œè§‰å¾—æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©</p>
<p>ä½¿ç”¨ Github å›¾åºŠçš„å¥½å¤„ï¼š</p>
<ol type="1">
<li>æ²¡æœ‰åŸŸåé™åˆ¶ï¼›</li>
<li>ä»“åº“è™½ç„¶ç©ºé—´æœ‰é™ï¼ˆ1Gï¼‰ï¼Œä½†æ˜¯æ»¡äº†å¯ä»¥å†æ–°å»ºä¸€ä¸ªä»“åº“ï¼Œå› æ­¤ç›¸å½“äºæ— é™</li>
<li>æœ‰äººè¯´æ…¢ï¼Œä½†æ˜¯å¯ä»¥è®¾ç½®åŠ é€Ÿ</li>
<li>ç¨³å®šï¼Œä¸ç”¨æ‹…å¿ƒæŒ‚äº†æˆ–è€…å¤±æ•ˆ</li>
</ol>
<span id="more"></span>
<p>å‚è€ƒï¼š</p>
<p><a href="https://www.cnblogs.com/52duan/p/12551393.html">MarkDownã€Hexoåšå®¢ã€Codingæ‰˜ç®¡ã€GitHubåšå›¾åºŠã€CDNåŠ é€Ÿ - æ®µåä¸‰ - åšå®¢å›­ (cnblogs.com)</a></p>
<h1 id="æ–°å»ºä¸€ä¸ªä»“åº“">1ã€æ–°å»ºä¸€ä¸ªä»“åº“</h1>
<ol type="1">
<li>åå­—è‡ªå®šä¹‰ï¼Œä¾‹å¦‚ï¼špic_bed</li>
<li>é€‰æ‹© Public</li>
<li>å‹¾é€‰åˆå§‹åŒ–å¤é€‰æ¡†ï¼š Initialize this repository with a README</li>
<li>ç‚¹å‡» Create repository åˆ›å»ºæˆåŠŸ</li>
<li><a href="https://github.com/settings/tokens/new">New personal access token (github.com)</a> é…ç½®å›¾åºŠçš„æ—¶å€™è¦ç”¨ï¼š</li>
<li>Noteä¸‹é¢çš„æ–‡æœ¬æ¡†å†…å®¹è‡ªå®šä¹‰</li>
<li>ä¸‹é¢å¾ˆå¤šå¤é€‰æ¡†ï¼Œåªéœ€è¦å‹¾é€‰ repo ä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå¤é€‰æ¡†</li>
<li>æœ€ä¸‹é¢ç‚¹å‡»Generate tokenå³å¯ç”Ÿæˆ</li>
<li>ä¸‹é¢è¦ç”¨ï¼Œå¦‚æœå¿˜è®°äº†å¯ä»¥åœ¨é‡æ–°ç”Ÿæˆ</li>
</ol>
<h1 id="å®‰è£…é…ç½®-picgo">2ã€å®‰è£…é…ç½® <a href="https://molunerfinn.com/PicGo/">PicGo</a></h1>
<p>ä¸‹è½½å®‰è£…ï¼Œè¿™é‡Œä¸å†è¯´æ˜ï¼Œ</p>
<p>å®‰è£…åå¯åŠ¨ PicGoï¼Œæ‰¾åˆ° Github å›¾åºŠï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220120182829709.png" alt="image-20220120182829709" /><figcaption aria-hidden="true">image-20220120182829709</figcaption>
</figure>
<p>å¡«å†™ç¬¬ä¸€æ­¥ä¸­åˆ›å»ºçš„ ä»“åº“åï¼Œåˆ†æ”¯åï¼Œä»¥åŠ Token</p>
<p>ç„¶åâ€œç¡®å®šâ€ï¼Œå¹¶è®¾ç½®ä¸ºé»˜è®¤å›¾åºŠå³å¯</p>
<h1 id="é…ç½®-jsdelivç»™å›¾ç‰‡é•¶ä¸ŠåŠ é€Ÿå™¨">3ã€é…ç½® JsDelivï¼Œç»™å›¾ç‰‡é•¶ä¸ŠåŠ é€Ÿå™¨</h1>
<ul>
<li>æ¯”å¦‚åœ¨GitHubçš„å›¾ç‰‡è·¯å¾„æ˜¯ï¼šhttps://github.com/user/pic_bed/img/test_image.png</li>
<li>æ‹¼æ¥é“¾æ¥æ–¹æ³•1ï¼šhttps://cdn.jsdelivr.net/gh/user/pic_bed@latest/img/test_image.png</li>
<li>æ‹¼æ¥é“¾æ¥æ–¹æ³•2ï¼šhttps://cdn.jsdelivr.net/gh/user/pic_bed/img/test_image.png</li>
</ul>
<p><strong>å°†æ–¹æ³•1å’Œæ–¹æ³•2æ‹¼æ¥èµ·æ¥çš„é“¾æ¥å‰ç¼€è¾“å…¥åˆ°ä¸Šå›¾ç¬¬5æ­¥çš„è‡ªå®šä¹‰åŸŸåä¸­å³å¯</strong></p>
<ul>
<li>æ‹¼æ¥é“¾æ¥æ–¹æ³•1ï¼šhttps://cdn.jsdelivr.net/gh/user/pic_bed@latest/</li>
<li>æ‹¼æ¥é“¾æ¥æ–¹æ³•2ï¼šhttps://cdn.jsdelivr.net/gh/user/pic_bed/</li>
</ul>
<h1 id="å†-typora-ä¸­é€‰æ‹©-picgo-app-ä½œä¸ºå›¾ç‰‡ä¸Šä¼ æœåŠ¡">4ã€å† Typora ä¸­é€‰æ‹© PicGo app ä½œä¸ºå›¾ç‰‡ä¸Šä¼ æœåŠ¡</h1>
<p><a href="https://buctllx.github.io/2021/12/06/Typora-è®¾ç½®å…³è”ä¸ƒç‰›äº‘å›¾åºŠ/#3-Typora-å›¾ç‰‡å­˜å‚¨è®¾ç½®">Typora è®¾ç½®å…³è”ä¸ƒç‰›äº‘å›¾åºŠ | ConorLuo åšå®¢ (buctllx.github.io)</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
        <category>PicGo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>PicGo</tag>
      </tags>
  </entry>
  <entry>
    <title>Microsoft.Toolkit.Mvvm ä½¿ç”¨è®°å½•</title>
    <url>/2022/03/16/Microsoft-Toolkit-Mvvm-%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<h1 id="microsoft.toolkit.mvvm-ä»‹ç»">1. Microsoft.Toolkit.Mvvm ä»‹ç»</h1>
<blockquote>
<p>æ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ (MVVM) æ˜¯ç”¨äºè§£è€¦ UI ä»£ç å’Œé UI ä»£ç çš„ UI ä½“ç³»ç»“æ„è®¾è®¡æ¨¡å¼ã€‚ å€ŸåŠ© MVVMï¼Œå¯ä»¥åœ¨ XAML ä¸­ä»¥å£°æ˜æ–¹å¼å®šä¹‰ UIï¼Œå¹¶ä½¿ç”¨æ•°æ®ç»‘å®šæ ‡è®°å°† UI é“¾æ¥åˆ°åŒ…å«æ•°æ®å’Œå‘½ä»¤çš„å…¶ä»–å±‚ã€‚</p>
</blockquote>
<p>MVVM æœ€æ—©æ˜¯ Microsoft æå‡ºæ¥çš„ï¼Œä½†æ˜¯å®˜æ–¹ä¸€ç›´æ²¡æœ‰æä¾›æ¡†æ¶ï¼›å¾ˆå¤šäººä¼šè¯´ Prism æ¡†æ¶ï¼Œä½†æ˜¯ Prism å·²ç»å‡ºèµ°äº†ï¼Œè€Œä¸”æ¯”è¾ƒè‡ƒè‚¿ï¼›è‡³äº MVVMLight ä¹Ÿå¾ˆä¹…æ²¡æœ‰æ›´æ–°äº†ï¼Œç›´åˆ° 2020 å¹´ Windows Community Toolkit å¼€æºäº†ä¸€å¥— MVVM æ¡†æ¶ Microsoft.Toolkit.Mvvmã€‚</p>
<span id="more"></span>
<p>Windows Community Toolkit é™¤äº†æä¾›å¼€æºæ¡†æ¶ï¼Œä¹Ÿè´´å¿ƒçš„åœ¨æ–‡æ¡£ä¸­æä¾›äº†ï¼ŒåŸºæœ¬çš„ä½¿ç”¨æ¡ˆä¾‹ï¼Œä»¥åŠä»å…¶ä»– MVVM æ¡†æ¶è¿ç§»åˆ° Microsoft.Toolkit.Mvvm æ¡†æ¶çš„è¯´æ˜æ–‡æ¡£ã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.microsoft.com/zh-cn/windows/communitytoolkit/mvvm/introduction">Introduction to the MVVM Toolkit - Windows Community Toolkit | Microsoft Docs</a></p>
<p>[<a href="https://www.cnblogs.com/dino623/p/building_MVVM_programs_using_MVVM_Toolkit.html">WPF] ä½¿ç”¨ MVVM Toolkit æ„å»º MVVM ç¨‹åº - dino.c - åšå®¢å›­ (cnblogs.com)</a></p>
<p>MVVM Toolkit å»¶ç»­äº† MVVMLight çš„é£æ ¼ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ç»„ä»¶ï¼Œè€Œä¸”å®ƒåŸºäº .NET Standard 2.0ï¼Œå¯ç”¨äºUWP, WinForms, WPF, Xamarin, Uno ç­‰å¤šä¸ªå¹³å°ã€‚ç›¸æ¯”å®ƒçš„å‰èº« MVVMLightï¼Œå®ƒæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ›´é«˜ï¼šç‰ˆæœ¬å·æ›´é«˜ï¼Œä¸€å‡ºæ‰‹å°±æ˜¯ 7.0ã€‚</li>
<li>æ›´å¿«ï¼šé€Ÿåº¦æ›´å¿«ï¼ŒMVVM Toolkit ä»ä¸€å¼€å§‹å°±ä»¥é«˜æ€§èƒ½ä¸ºå®ç°ç›®æ ‡ã€‚</li>
<li>æ›´å¼ºï¼šåå°æ›´å¼ºï¼ŒMVVM Toolkit çš„å…¨ç§°æ˜¯ 'Microsoft.Toolkit.Mvvm'ï¼Œæ ¹æ­£è‹—çº¢ã€‚</li>
</ul>
<h1 id="å„ä¸ªç»„ä»¶è¯´æ˜">2. å„ä¸ªç»„ä»¶è¯´æ˜</h1>
<p>å‰é¢è¯´åˆ° MVVM Toolkit å»¶ç»­äº† MVVMLight çš„é£æ ¼ï¼Œå› æ­¤ä»–ä»¬å¤§éƒ¨åˆ†çš„ç»„ä»¶éƒ½æ˜¯ç›¸åŒçš„</p>
<h2 id="observableobject">2.1 ObservableObject</h2>
<p>ObservableObject å®ç°äº† <a href="https://docs.microsoft.com/dotnet/api/system.componentmodel.inotifypropertychanged"><code>INotifyPropertyChanged</code></a> å’Œ<a href="https://docs.microsoft.com/dotnet/api/system.componentmodel.inotifypropertychanging"><code>INotifyPropertyChanging</code></a>ï¼Œå¹¶è§¦å‘ <code>PropertyChanged</code> å’Œ <code>PropertyChanging</code> äº‹ä»¶ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span> : <span class="title">ObservableObject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> =&gt; name;</span><br><span class="line">        <span class="keyword">set</span> =&gt; SetProperty(<span class="keyword">ref</span> name, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™æ®µç¤ºä¾‹ä»£ç ä¸­ï¼Œå¦‚æœ name å’Œ value çš„å€¼ä¸åŒï¼Œé¦–å…ˆè§¦å‘ <code>PropertyChanging</code> äº‹ä»¶ï¼Œç„¶åè§¦å‘ <code>PropertyChanged</code>ã€‚</p>
<h2 id="relaycommand">2.2 RelayCommand</h2>
<p><code>RelayCommand</code> å’Œ <code>RelayCommand&lt;T&gt;</code> å®ç°äº† <code>ICommand</code> æ¥å£ï¼Œ<code>INotifyPropertyChanged</code> å’Œ <code>ICommand</code> æ˜¯ MVVM æ¨¡å¼çš„åŸºç¡€ã€‚ä¸‹é¢çš„ä»£ç ä½¿ç”¨ <code>ObservableObject</code> å’Œ <code>RelayCommand</code> å±•ç¤ºä¸€ä¸ªåŸºæœ¬çš„ ViewModelï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyViewModel</span> : <span class="title">ObservableObject</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span>(<span class="params"></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        IncrementCounterCommand = <span class="keyword">new</span> RelayCommand(IncrementCounter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> counter;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> Counter</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> =&gt; counter;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">set</span> =&gt; SetProperty(<span class="keyword">ref</span> counter, <span class="keyword">value</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ICommand IncrementCounterCommand &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">IncrementCounter</span>(<span class="params"></span>)</span> =&gt; Counter++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Page</span></span></span><br><span class="line"><span class="tag">    <span class="attr">x:Class</span>=<span class="string">&quot;MyApp.Views.MyPage&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:viewModels</span>=<span class="string">&quot;using:MyApp.ViewModels&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Page.DataContext</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">viewModels:MyViewModel</span> <span class="attr">x:Name</span>=<span class="string">&quot;ViewModel&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Page.DataContext</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">StackPanel</span> <span class="attr">Spacing</span>=<span class="string">&quot;8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TextBlock</span> <span class="attr">Text</span>=<span class="string">&quot;&#123;x:Bind ViewModel.Counter, Mode=OneWay&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">            <span class="attr">Content</span>=<span class="string">&quot;Click me!&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">Command</span>=<span class="string">&quot;&#123;x:Bind ViewModel.IncrementCounterCommand&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StackPanel</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Page</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™æ®µç¤ºä¾‹é‡Œ <code>IncrementCounterCommand</code> åŒ…è£…äº† <code>IncrementCounter</code> å‡½æ•°æä¾›ç»™ Button ç»‘å®šã€‚<code>IncrementCounter</code> å‡½æ•°æ›´æ”¹ <code>Counter</code> çš„å€¼å¹¶é€šè¿‡ <code>PropertyChanged</code> äº‹ä»¶é€šçŸ¥ç»‘å®šçš„ TextBlockã€‚</p>
<h2 id="asyncrelaycommand">2.3 AsyncRelayCommand</h2>
<p><code>AsyncRelayCommand</code> å’Œ <code>AsyncRelayCommand&lt;T&gt;</code> ä¹Ÿå®ç°äº† <code>ICommand</code>ï¼Œä¸è¿‡å®ƒä»¬æ”¯æŒå¼‚æ­¥æ“ä½œï¼Œæä¾›çš„ <code>ExecutionTask</code> å’Œ <code>IsRunning</code> ä¸¤ä¸ªå±æ€§å¯¹ç›‘è§†ä»»åŠ¡è¿è¡ŒçŠ¶æ€ååˆ†æœ‰ç”¨ã€‚</p>
<p>ä¾‹å¦‚è¿™ä¸ª ViewModelï¼š</p>
<figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    DownloadTextCommand = <span class="keyword">new</span> AsyncRelayCommand(DownloadTextAsync);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> IAsyncRelayCommand DownloadTextCommand &#123; <span class="keyword">get</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">async</span> Task&lt;<span class="built_in">string</span>&gt; <span class="title">DownloadTextAsync</span>(<span class="params"></span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">await</span> Task.Delay(<span class="number">3000</span>); <span class="comment">// Simulate a web request</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello world!&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ç›¸å…³çš„ UI ä»£ç ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Page.Resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">converters:TaskResultConverter</span> <span class="attr">x:Key</span>=<span class="string">&quot;TaskResultConverter&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Page.Resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">StackPanel</span> <span class="attr">Spacing</span>=<span class="string">&quot;8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextBlock</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Run</span> <span class="attr">Text</span>=<span class="string">&quot;Task status:&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Run</span> <span class="attr">Text</span>=<span class="string">&quot;&#123;x:Bind ViewModel.DownloadTextCommand.ExecutionTask.Status, Mode=OneWay&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">LineBreak</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Run</span> <span class="attr">Text</span>=<span class="string">&quot;Result:&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Run</span> <span class="attr">Text</span>=<span class="string">&quot;&#123;x:Bind ViewModel.DownloadTextCommand.ExecutionTask, Converter=&#123;StaticResource TaskResultConverter&#125;, Mode=OneWay&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">TextBlock</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Content</span>=<span class="string">&quot;Click me!&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Command</span>=<span class="string">&quot;&#123;x:Bind ViewModel.DownloadTextCommand&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">muxc:ProgressRing</span></span></span><br><span class="line"><span class="tag">        <span class="attr">HorizontalAlignment</span>=<span class="string">&quot;Left&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">IsActive</span>=<span class="string">&quot;&#123;x:Bind ViewModel.DownloadTextCommand.IsRunning, Mode=OneWay&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">StackPanel</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç‚¹å‡» <code>Button</code> å <code>DownloadTextAsync</code> å¼€å§‹è¿è¡Œï¼Œåœ¨ UI ä¸Š TextBlock å’Œ ProgressRing ç»‘å®šåˆ° <code>ExecutionTask</code> å’Œ <code>IsRunning</code> å¹¶æ˜¾ç¤ºä»»åŠ¡è¿è¡ŒçŠ¶æ€ï¼Œæœ€åé€šè¿‡ <code>TaskResultConverter</code> æ˜¾ç¤ºä»»åŠ¡ç»“æœã€‚</p>
<p><a href="https://img2020.cnblogs.com/blog/38937/202108/38937-20210819221618229-510116488.gif"><img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/38937-20210819221618229-510116488.gif" alt="img" /></a></p>
<h2 id="messenger">2.4 Messenger</h2>
<p>å¯¹äºä¸»è¦ç›®çš„æ˜¯æ¾è€¦åˆçš„ MVVM æ¡†æ¶ï¼Œæä¾›ä¸€ä¸ªç”¨äºæ¶ˆæ¯äº¤æ¢çš„ç³»ç»Ÿååˆ†æœ‰å¿…è¦ã€‚MVVM Toolkit ä¸­ç”¨äºæ¶ˆæ¯äº¤æ¢çš„æ ¸å¿ƒæ˜¯ <code>WeakReferenceMessenger</code> ç±»ã€‚</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Create a message</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">LoggedInUserChangedMessage</span> : <span class="title">ValueChangedMessage</span>&lt;<span class="title">User</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LoggedInUserChangedMessage</span>(<span class="params">User user</span>) : <span class="title">base</span>(<span class="params">user</span>)</span></span><br><span class="line">    &#123;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Register a message in some module</span></span><br><span class="line">WeakReferenceMessenger.Default.Register&lt;LoggedInUserChangedMessage&gt;(<span class="keyword">this</span>, (r, m) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Handle the message here, with r being the recipient and m being the</span></span><br><span class="line">    <span class="comment">// input messenger. Using the recipient passed as input makes it so that</span></span><br><span class="line">    <span class="comment">// the lambda expression doesn&#x27;t capture &quot;this&quot;, improving performance.</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Send a message from some other module</span></span><br><span class="line">WeakReferenceMessenger.Default.Send(<span class="keyword">new</span> LoggedInUserChangedMessage(user));</span><br></pre></td></tr></table></figure>
<p>æ­£å¦‚è¿™æ®µä»£ç æ‰€ç¤ºï¼Œ<code>WeakReferenceMessenger</code> ä¸»è¦é€šè¿‡ <code>Register</code> å’Œ <code>Send</code> è¿›è¡Œä¿¡æ¯äº¤æ¢ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼ç±»ä¼¼äº MVVMLight çš„ messenger ç±»ã€‚MVVM Toolkit å¦å¤–è¿˜æä¾›äº†ä¸€ä¸ª <code>StrongReferenceMessenger</code> ç±»ï¼Œæ›´å¤šä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒè¿™ç¯‡ <a href="https://github.com/CommunityToolkit/MVVM-Samples/blob/master/docs/mvvm/Messenger.md">æ–‡æ¡£</a>ã€‚<code>Messenger</code> åŠŸèƒ½å¼ºå¤§ä¸”ç®€å•æ˜“ç”¨ï¼Œä½†ä¹Ÿç”±äºè¯¯ç”¨ä¼šå¸¦æ¥é£é™©è€Œå¼•å‘äº†ä¸€äº›äº‰è®®ï¼Œæœ‰å¿…è¦æ›´è¯¦ç»†åœ°ç†è§£å®ƒçš„åŸç†å’Œç”¨æ³•ä»¥é¿å…å®ƒå¸¦æ¥çš„å…¶å®ƒé£é™©ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯ç®€å•åœ°ä»‹ç»ä¸€ä¸‹å®ƒçš„ç”¨æ³•ã€‚</p>
<h2 id="observablerecipient">2.5 ObservableRecipient</h2>
<p><code>ObservableRecipient</code> ç»§æ‰¿äº† <code>ObservableObject</code> å¹¶æ”¯æŒä» <code>Messenger</code> æ¥æ”¶ä¿¡æ¯ï¼Œå¯é€šè¿‡ <code>IsActive</code> å±æ€§æ¿€æ´»æˆ–åœç”¨ã€‚å®ƒå¯ä»¥ç”¨ä½œ ViewModel çš„åŸºç±»ï¼Œäº‹å®ä¸Šå®ƒçš„ä½œç”¨åŸºæœ¬ä¸Šç›¸é‡äº MVVMLight ä¸­çš„ <a href="https://github.com/lbugnion/mvvmlight/blob/master/GalaSoft.MvvmLight/GalaSoft.MvvmLight%20(PCL)/ViewModelBase.cs">ViewModelBase</a> ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyViewModel</span> : <span class="title">ObservableRecipient</span>, <span class="title">IRecipient</span>&lt;<span class="title">LoggedInUserRequestMessage</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Receive</span>(<span class="params">LoggedInUserRequestMessage message</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Handle the message here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="viewmodellocator">2.6 ViewModelLocator</h2>
<p>åœ¨ MVVMLight ä¸­ï¼Œå¾ˆå¤šäººä½¿ç”¨ ViewModelLocatorï¼Œç„¶ååœ¨ xaml ä¸­ binding View çš„ DataContextï¼Œä½†æ˜¯åˆ°äº† Microsoft.Toolkit.Mvvm ä¸­ï¼Œå´æ²¡æœ‰é»˜è®¤æä¾›ï¼Œè¿™é‡Œæ ¹æ®å®˜æ–¹çš„ Ioc è¿ç§»è¯´æ˜ï¼Œç»™å‡ºä¸€ä¸ª WPF åº”ç”¨ç¨‹åºçš„ ViewModelLocator çš„å®ç°æ–¹å¼ã€‚</p>
<p>éœ€è¦çš„ Package</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.Extensions.DependencyInjection&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;6.0.0&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PackageReference</span> <span class="attr">Include</span>=<span class="string">&quot;Microsoft.Toolkit.Mvvm&quot;</span> <span class="attr">Version</span>=<span class="string">&quot;7.1.2&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>ViewModelLocator.cs ä»£ç æ–‡ä»¶å¦‚ä¸‹</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Toolkit.Mvvm.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">ViewModelLocator</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ViewModelLocator</span>(<span class="params"></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        ConfigureServices();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> Configures the services for the application.</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> IServiceProvider <span class="title">ConfigureServices</span>(<span class="params"></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> services = <span class="keyword">new</span> ServiceCollection();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Services</span></span><br><span class="line">        <span class="comment">// services.AddSingleton&lt;IContactsService, ContactsService&gt;();</span></span><br><span class="line">        <span class="comment">// services.AddSingleton&lt;IPhoneService, PhoneService&gt;();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Viewmodels</span></span><br><span class="line">        services.AddTransient&lt;MainViewModel&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> serviceProvider = services.BuildServiceProvider();</span><br><span class="line">        Ioc.Default.ConfigureServices(serviceProvider);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> serviceProvider;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> MainViewModel? MainVM &#123; <span class="keyword">get</span> &#123; <span class="keyword">return</span> Ioc.Default.GetService&lt;MainViewModel&gt;(); &#125; &#125;</span><br><span class="line"></span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>
<p>App.xaml æ·»åŠ ä»¥ä¸‹èµ„æº</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Application.Resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">local:ViewModelLocator</span> <span class="attr">x:Key</span>=<span class="string">&quot;Locator&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Application.Resources</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ View xaml ä¸­çš„ä½¿ç”¨æ–¹æ³•</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Window</span> <span class="attr">x:Class</span>=<span class="string">&quot;Test.MainWindow&quot;</span></span></span><br><span class="line"><span class="tag">		<span class="attr">DataContext</span>=<span class="string">&quot;&#123;Binding Source=&#123;StaticResource Locator&#125;, Path=MainVM&#125;&quot;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="attr">Window</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å³å¯å®ç° MVVMLight ä¸­ Locator çš„æ•ˆæœã€‚</p>
<h1 id="the-æ€§èƒ½">3. The æ€§èƒ½</h1>
<p><a href="https://img2020.cnblogs.com/blog/38937/202108/38937-20210819221730002-1263673884.png"><img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/38937-20210819221730002-1263673884.png" alt="img" /></a></p>
<p>MVVM Toolkit åœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¸ºäº†è¿½æ±‚å“è¶Šçš„æ€§èƒ½åšäº†å¾ˆå¤šåŠªåŠ›ï¼Œä¾‹å¦‚æä¾›ä¸€ä¸ª <code>StrongReferenceMessenger</code> ç±»ï¼Œæ€§èƒ½å¦‚ä¸Šå›¾æ‰€ç¤ºåœ°æœ‰äº†å¤§å¹…æå‡ã€‚åˆä¾‹å¦‚ä¸‹é¢è¿™ç¯‡æ–‡ç« æ‰€ä»‹ç»çš„ï¼š</p>
<p><a href="https://devblogs.microsoft.com/ifdef-windows/mvvm-toolkit-preview-3-the-journey-of-an-api/">MVVM Toolkit Preview 3 &amp; The Journey of an API</a></p>
<p>æœ‰å…´è¶£çš„è¯å¯ä»¥é€šè¿‡æºç è¯¦ç»†äº†è§£ä¸€ä¸‹ã€‚</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
        <category>MVVM</category>
      </categories>
      <tags>
        <tag>MVVM</tag>
      </tags>
  </entry>
  <entry>
    <title>Git fetch åŒæ—¶æ›´æ–°å­æ¨¡å—</title>
    <url>/2021/12/02/Git-fetch-%E5%90%8C%E6%97%B6%E6%9B%B4%E6%96%B0%E5%AD%90%E6%A8%A1%E5%9D%97/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°">1. é—®é¢˜æè¿°</h2>
<p>é»˜è®¤æƒ…å†µï¼Œgit checkout; git fetch å¦‚æœå­æ¨¡å— submodule çš„ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œ git æ˜¯ä¸ä¼šè‡ªåŠ¨æ›´æ–°å­æ¨¡å—ï¼›</p>
<span id="more"></span>
<h2 id="ä¼ ç»Ÿè§£å†³æ–¹æ³•">2. ä¼ ç»Ÿè§£å†³æ–¹æ³•ï¼š</h2>
<p>cd submodules æ–‡ä»¶å¤¹ï¼›</p>
<p>git checkout / fetchï¼›</p>
<h2 id="é«˜çº§è§£å†³æ–¹æ³•">3. é«˜çº§è§£å†³æ–¹æ³•ï¼š</h2>
<p>åœ¨å…¨å±€è¿›è¡Œ Git è®¾ç½®ï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">1</th>
<th style="text-align: left;">git config --global submodule.recurse true</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>è®¾ç½® submodule.recurse true åï¼Œä¸ä»…ä»… git checkout ä¼šè‡ªåŠ¨åˆ‡æ¢å­æ¨¡å—ï¼Œgit fetch / pull ä¹Ÿä¼šè‡ªåŠ¨æ‹‰å–å­æ¨¡å—çš„æ›´æ–°</p>
<p>æ³¨æ„ï¼šè¿™ä¸ªè®¾ç½®å¯¹ç”¨æˆ·æœºå™¨ä¸Šå®‰è£…çš„ git ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œè¯¦è§ä¸‹é¢è¯´æ˜</p>
<p>åœ¨å‘è¡Œè¯´æ˜ä¸­æåˆ°äº†è¿™ä¸€ç‚¹ï¼šhttps://github.com/git/git/commit/e1104a5ee539408b81566066aaa6963cb87d5cd6#diff-c24776ff22455a30fbb78e378b7df0b0R139</p>
<p>submodule.recurse é€‰é¡¹å·²æ·»åŠ åˆ° git 2.14</p>
]]></content>
      <categories>
        <category>Git ç›¸å…³</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Nginx åå‘ä»£ç† FileBrowser</title>
    <url>/2022/03/23/Nginx-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86-FileBrowser/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä¸»è¦è¯´æ˜å¦‚æœä½¿ç”¨ Nginx æ–¹å‘ä»£ç†å·²ç»å¯åŠ¨çš„ FileBrowser æœåŠ¡ã€‚</p>
<span id="more"></span>
<h1 id="å‡†å¤‡å·¥ä½œ">1. å‡†å¤‡å·¥ä½œ</h1>
<p>å¼€å§‹æœ¬æ–‡çš„ä¸»è¦å†…å®¹å‰ï¼Œé»˜è®¤å·²ç»åšå¥½äº†ä»¥ä¸‹å‡†å¤‡å·¥ä½œ</p>
<ol type="1">
<li>ä½¿ç”¨ linux ç³»ç»Ÿï¼Œæ¯”å¦‚ centosï¼›</li>
<li>å·²å®‰è£…å¹¶å¯åŠ¨ nginx æœåŠ¡</li>
<li>å·²å®‰è£…å¹¶å¯åŠ¨ filebrowser æœåŠ¡</li>
</ol>
<h1 id="æœ‰å…³-filebrowser-çš„é…ç½®">2. æœ‰å…³ FileBrowser çš„é…ç½®</h1>
<p>å¦‚æœä¸çŸ¥é“å·²ç»å¯åŠ¨çš„ filebrowser æœåŠ¡çš„ç›¸å…³é…ç½®ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1. æŸ¥çœ‹ filebrowser æœåŠ¡çš„è¿›ç¨‹ (å¯ä»¥çœ‹åˆ°å¯åŠ¨å‘½ä»¤çš„ç›¸å…³å‚æ•°ï¼Œæ¯”å¦‚è¯´é…ç½®æ–‡ä»¶ï¼Œæ•°æ®åº“æ–‡ä»¶ç­‰)</span></span><br><span class="line">ps -ef |grep filebrowser</span><br><span class="line">pstree -ap |grep filebrowser</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220323190406153.png" alt="image-20220323190406153" /><figcaption aria-hidden="true">image-20220323190406153</figcaption>
</figure>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 2. å¯¼å‡º filebrowser çš„é…ç½®ä¿¡æ¯</span></span><br><span class="line">cd /etc/filebrowser  # é¦–å…ˆè¿›å…¥åŒ…å« filebrowser å¯æ‰§è¡Œæ–‡ä»¶çš„ç›®å½•</span><br><span class="line">filebrowser config cat # ä¸´æ—¶æŸ¥çœ‹</span><br><span class="line">filebrowser config export config.json # å¯¼å‡º filebrowser é…ç½®ä¿¡æ¯åˆ° config.json æ–‡ä»¶</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¦‚æœå­˜åœ¨å¤šä¸ª db å¯ä»¥é€šè¿‡ -d å‚æ•°å¯¼å‡ºæŒ‡å®šæ•°æ®åº“ä¸­å­˜å‚¨çš„é…ç½®ä¿¡æ¯(å…¶ä»–å‘½ä»¤ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåé¢ä¸åœ¨é‡å¤è¯´æ˜ä¸¾ä¾‹)</span></span><br><span class="line">filebrowser -d /etc/filebrowser/filebrowser.db config export config.json</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯èƒ½ç”¨åˆ°çš„å…¶ä»–å‘½ä»¤</span></span><br><span class="line">filebrowser users update admin -p admin # æ›´æ–° admin ç”¨æˆ·çš„å¯†ç ä¸º admin</span><br><span class="line">filebrowser config set --port 18080  # é‡æ–°è®¾ç½®ç«¯å£ä¿¡æ¯</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸‹ json ä¿¡æ¯æ˜¯æˆ‘ç”¨åˆ°çš„é…ç½®</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;port&quot;</span>: <span class="number">18080</span>,</span><br><span class="line">    <span class="attr">&quot;root&quot;</span>:<span class="string">&quot;/data/file&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;database&quot;</span>:<span class="string">&quot;/etc/filebrowser/filebrowser.db&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;log&quot;</span>:<span class="string">&quot;/etc/filebrowser/log.log&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;plugin&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;baseURL&quot;</span>: <span class="string">&quot;/files&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;allowCommands&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;allowEdit&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;allowNew&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;commands&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;ls&quot;</span>,</span><br><span class="line">        <span class="string">&quot;df&quot;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class="note info"><p>éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼š</p>
<ol type="1">
<li><strong>baseURL</strong> é…ç½®é¡¹çš„å€¼åœ¨åé¢ nginx çš„é…ç½®ä¸­è¦ä½¿ç”¨åˆ°ï¼Œä¸€å®šè¦è®°å½•ä¸‹æ¥ï¼›å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œé»˜è®¤å€¼æ˜¯ filesï¼Œ å¼ºçƒˆå»ºè®®è®¾ç½®ä¸€ä¸‹ï¼›</li>
<li>ä½¿ç”¨ vi æˆ–è€… vim å†™ json é…ç½®æ–‡ä»¶çš„æ—¶å€™ä¸€å®šè¦æ³¨æ„ï¼Œç¼©è¿›ç¬¦å·æ˜¯ ç©ºæ ¼ï¼Œè€Œä¸”ä¸èƒ½å’Œ tab æ··åˆç”¨ï¼›å°¤å…¶æ˜¯ä»ç½‘é¡µä¸Šé¢å¤åˆ¶ json æ–‡æœ¬çš„æ—¶å€™ä¸€å®šè¦ç¡®ä¿æ˜¯ç©ºæ ¼ï¼ˆæœ‰äº›ç½‘é¡µä¸Šçš„ç¼©è¿›æ˜¯ tabï¼Œä½†æ˜¯é»˜è®¤ç©ºç™½çœ‹ä¸åˆ°ï¼‰</li>
<li>å¦‚æœåœ¨ filebrowser å¯åŠ¨åé€šè¿‡ ui è®¾ç½®äº†ä¸€äº›æ“ä½œï¼Œæˆ–è€…æ·»åŠ äº†ä¸€äº›ç”¨æˆ·ï¼Œé‚£ä¹ˆé€šè¿‡ä¸Šé¢çš„å‘½åå¯èƒ½è·å–ä¸åˆ°æœ€æ–°çš„é…ç½®ä¿¡æ¯ï¼Œæˆ–è€…å‡ºç° timeout çš„é—®é¢˜ï¼Œè¿™æ—¶å€™éœ€è¦å…³é—­ filebrowser æœåŠ¡ï¼Œç„¶åé€šè¿‡ -d å‚æ•°æ‰§è¡Œ db å°±å¯ä»¥äº†ï¼›</li>
</ol>
</div>
<h1 id="åœ¨-nginx-ä¸­é…ç½®-filebrowser-æœåŠ¡">3. åœ¨ Nginx ä¸­é…ç½® FileBrowser æœåŠ¡</h1>
<p>æ ¸å¿ƒé…ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">    <span class="attribute">listen</span>       <span class="number">80</span>;</span><br><span class="line">    <span class="attribute">server_name</span>  ai.cbim.com <span class="number">10.80.253.133</span>;</span><br><span class="line">    <span class="attribute">access_log</span>  /var/logs/nginx/filebrowser.access.log;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># file browser url</span></span><br><span class="line">    <span class="attribute">location</span><span class="regexp"> ^~</span> /files/ &#123;</span><br><span class="line">        <span class="attribute">proxy_pass</span>  http://127.0.0.1:18080/;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> Host $proxy_host;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Real-IP $remote_addr;</span><br><span class="line">        <span class="attribute">proxy_set_header</span> X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ–°å¢æˆ–è€…ä¿®æ”¹å®Œ nginx çš„é…ç½®æ–‡ä»¶åï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æµ‹è¯• / é‡æ–°è½½å…¥é…ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æµ‹è¯• é…ç½®æ–‡ä»¶çš„è¯­æ³•æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">nginx -t</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> é‡æ–°è½½å…¥ä¿®æ”¹åçš„ é…ç½®æ–‡ä»¶</span></span><br><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure>
<p>æœ€åå°±å¯ä»¥é€šè¿‡è®¾å®šçš„åŸŸåæˆ–è€… IP è®¿é—® filebrowser äº†</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220323195000831.png" alt="image-20220323195000831" /><figcaption aria-hidden="true">image-20220323195000831</figcaption>
</figure>
<div class="note info"><p>éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼š</p>
<ol type="1">
<li>server_name ä¸è¦å’Œ nginx/conf.d ä¸­å…¶ä»–çš„é…ç½®æ–‡ä»¶ä¸­çš„ server_name é‡å¤ï¼Œå¦åˆ™å¯èƒ½è¢«å¿½ç•¥ï¼›</li>
<li><strong>location</strong> åé¢çš„åŒ¹é…é¡¹ï¼Œä¸€å®šè¦å’Œ å‰é¢ filebrowser é…ç½®æ–‡ä»¶ä¸­çš„ <strong>baseURL</strong> é…ç½®é¡¹ä¿æŒä¸€è‡´ï¼Œå¦åˆ™æ— æ³•ä»£ç†æˆåŠŸï¼›</li>
<li><strong>location</strong> çš„å…·ä½“åŒ¹é…è§„åˆ™è§†æƒ…å†µè€Œå®šï¼Œæˆ‘è¿™é‡Œé€šè¿‡ ^~ åŒ¹é…ä»¥ files å¼€å¤´çš„æ‰€æœ‰ apiï¼›^~ å¦‚æœåˆ é™¤ï¼Œè€Œåˆæ²¡æœ‰å…¶ä»– location åŒ¹é…è§„åˆ™ï¼ŒåŒæ ·ä¼šå¯¼è‡´ä»£ç†å¤±è´¥ï¼Œæ— æ³•è®¿é—® filebrowser</li>
<li>æœ€åè®¿é—®çš„æ—¶å€™ï¼Œå¦‚æœæ˜¯å±€åŸŸç½‘åŸŸåï¼Œè®¿é—®å‰æœ€å¥½å…³æ‰ vpn æˆ–è€…å…¶ä»–ä¸€ç±»çš„ä»£ç†è½¯ä»¶ï¼Œå¦åˆ™ä¹Ÿå¯èƒ½ä¼šè®¿é—®å¤±è´¥ï¼›</li>
</ol>
</div>
<h1 id="ç›¸å…³å‚è€ƒèµ„æ–™">4. ç›¸å…³å‚è€ƒèµ„æ–™ï¼š</h1>
<p><a href="http://nginx.org/en/docs/">nginx documentation</a></p>
<p><a href="https://github.com/filebrowser/filebrowser">filebrowser/filebrowser: ğŸ“‚ Web File Browser (github.com)</a></p>
<p><a href="https://filebrowser.org/">Welcome - File Browser</a></p>
<p><a href="https://www.cnblogs.com/shanyu20/p/15477202.html">file browserä»‹ç» - shanyu20 - åšå®¢å›­ (cnblogs.com)</a></p>
<p><a href="https://github.com/filebrowser/filebrowser/issues/627">timeout on commands that connect to a locked database Â· Issue #627 Â· filebrowser/filebrowser (github.com)</a></p>
<p><a href="https://github.com/filebrowser/filebrowser/issues/549">Usable configuration for executing command behind NGINX. Â· Issue #549 Â· filebrowser/filebrowser (github.com)</a></p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
        <category>Nginx</category>
      </categories>
      <tags>
        <tag>Nginx</tag>
        <tag>FileBrowsern</tag>
      </tags>
  </entry>
  <entry>
    <title>Revit æ„ä»¶å‚æ•°ä½“ç³»è¯´æ˜</title>
    <url>/2022/01/20/Revit-%E6%9E%84%E4%BB%B6%E5%8F%82%E6%95%B0%E4%BD%93%E7%B3%BB%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[<h1 id="revit-æ„ä»¶åˆ†ç±»è¯´æ˜">1ã€Revit æ„ä»¶åˆ†ç±»è¯´æ˜</h1>
<p>ä»ä¸åŒçš„ç»´åº¦ Revit æ„ä»¶ï¼ˆå›¾å…ƒï¼‰æœ‰ä¸åŒçš„åˆ†ç±»ï¼›</p>
<p>å¯¹ç”¨ç”¨æˆ·æ¥è¯´ï¼šæœ€ä¸ºç†Ÿæ‚‰çš„å°±æ˜¯â€œé¡¹ç›®æµè§ˆå™¨â€ä¸­â€œæ—â€èŠ‚ç‚¹çš„ä¸‰çº§åˆ†ç±»ï¼š</p>
<p>è¿™é‡Œä¸»è¦ä»‹ç»ä»¥ä¸‹å‡ ç§åˆ†ç±»ç»´åº¦ï¼›</p>
<span id="more"></span>
<h2 id="å¸¸è§çš„ä¸‰çº§åˆ†ç±»">1.1 å¸¸è§çš„ä¸‰çº§åˆ†ç±»</h2>
<p>ä¸‰çº§åˆ†ç±»ï¼Œä¸€èˆ¬ç”¨äºç”¨æˆ·åˆ†ç±»ç®¡ç†å„ç§æ„ä»¶ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿæ£€ç´¢ä½¿ç”¨ï¼›</p>
<p>æ¯ä¸€çº§åˆ†ç±»éƒ½æœ‰è‡ªå·±çš„å‚æ•°ï¼Œåªä¸è¿‡ç”¨æˆ·ç»å¸¸å…³æ³¨çš„æ—¶ï¼šç±»å‹å‚æ•°ã€å®ä¾‹å‚æ•°è€Œå·²</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121142116181.png" alt="image-20220121142116181" /><figcaption aria-hidden="true">image-20220121142116181</figcaption>
</figure>
<h3 id="ä¸€çº§åˆ†ç±»---ç±»åˆ«">1.1.1 ä¸€çº§åˆ†ç±» - ç±»åˆ«</h3>
<p>è‹±æ–‡åå­—ä¹Ÿæ˜¯ API çš„åå­—ï¼šCategory</p>
<p>Category æ˜¯ Revit è½¯ä»¶å†…ç½®çš„åŸºç¡€æ•°æ®ï¼Œä¸èƒ½è¢«ç”¨æˆ·å’Œå¼€å‘è€…â€œå¢åˆ æ”¹â€ï¼Œç”¨æˆ·åªæœ‰ä½¿ç”¨æƒé™ï¼›</p>
<p>å¯¹äºæŸä¸ªç¡®å®šçš„ Revit ç‰ˆæœ¬ Category æ•°é‡æ˜¯å›ºå®šçš„ï¼Œåªæœ‰åœ¨ Revit ç‰ˆæœ¬çš„å˜åŒ–çš„æ—¶å€™ Category æ‰å¯èƒ½å˜åŒ–ï¼ˆä¸€èˆ¬æ˜¯æ–°å¢ï¼‰</p>
<p>Category å†…éƒ¨ä¹Ÿæ˜¯æœ‰è”ç³»çš„ï¼Œå…·ä½“å˜ç°ä¸ºå­ç±»åˆ« SubCategoryï¼Œè¿™ä¸€ç‚¹ä¸€èˆ¬ç”¨æˆ·æ˜¯çœ‹ä¸åˆ°çš„ï¼›</p>
<p>ä¸‹é¢æ˜¯ Revit API æš´éœ²å‡ºæ¥çš„æ‰€æœ‰çš„ Categoryï¼Œå¯ä»¥é€šè¿‡åˆ‡èŠ±ç‰ˆæœ¬æŸ¥çœ‹ï¼›</p>
<p><a href="https://www.revitapidocs.com/2020/ba1c5b30-242f-5fdc-8ea9-ec3b61e6e722.htm">Revit API BuiltInCategory Enumeration (revitapidocs.com)</a></p>
<p>ç»è¿‡ä¸ªäººç»Ÿè®¡ Category å‘ç°ï¼š</p>
<p>æ€»æ•°ï¼š2000+</p>
<p>ä¸€èˆ¬é¡¹ç›®ä¸­ç”¨åˆ°çš„ï¼š900å·¦å³</p>
<p>å®é™…å»ºæ¨¡å¸¸ç”¨çš„ï¼šä¸è¶…è¿‡100</p>
<h3 id="äºŒçº§åˆ†ç±»---æ—">1.1.2 äºŒçº§åˆ†ç±» - æ—</h3>
<p>Family</p>
<p>åœ¨ç±»åˆ«ä¹‹ä¸‹çš„äºŒçº§åˆ†ç±»ï¼›</p>
<p>æ‰€æœ‰æ·»åŠ åˆ° Revit é¡¹ç›®ä¸­çš„å›¾å…ƒéƒ½æ˜¯ä½¿ç”¨æ—åˆ›å»ºçš„ã€‚</p>
<p>æ— åœ¨ Revit ä¸­ä¹Ÿåˆ†ä¸ºå¤šç§ç±»å‹ï¼Œå…·æœ‰ä¸€å®šçš„å¯æ‰©å±•æ€§ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„æ—éƒ½èƒ½æ‰©å±•ï¼Œåé¢ 1.2 ç« èŠ‚ä¼šè¯´æ˜</p>
<p>è¿™é‡Œéœ€è¦ç‰¹æ®Šè¯´æ˜çš„æ˜¯ï¼šæ—å¹¶ä¸æ˜¯å•ä¸€çš„æ„ä»¶ï¼Œå®ƒæ˜¯å¯ä»¥åµŒå¥—ï¼Œå¤åˆçš„ï¼Œä»è€Œç”Ÿæˆæ›´åŠ å¤æ‚é«˜çº§çš„æ—ï¼›</p>
<p>æ›´å¤šè¯¦ç»†è¯´æ˜å‚è§ Autodesk Revit å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://help.autodesk.com/view/RVT/2016/CHS/?guid=GUID-4EBB97AD-C7B6-4828-91EB-BC0E99B81E43">å¸®åŠ©: Revit æ— (autodesk.com)</a></p>
<h3 id="ä¸‰çº§åˆ†ç±»---ç±»å‹">1.1.3 ä¸‰çº§åˆ†ç±» - ç±»å‹</h3>
<p>xxx_Typeï¼ŒFamilySymbol</p>
<p>ä¸€ä¸ªæ—ï¼Œå¯ä»¥æœ‰å¤šä¸ªç±»å‹ï¼›ä¸€èˆ¬å«ï¼šæ—ç±»å‹ï¼›</p>
<p>ç±»å‹æ˜¯ç”¨æˆ·å»ºæ¨¡çš„æ—¶å€™å¿…é¡»æŒ‡å®šçš„ä¿¡æ¯ï¼Œ</p>
<p>æŒ‡å®šäº†ç±»å‹ï¼Œå°±åªå®šäº†æ—å’Œç±»åˆ«ï¼›</p>
<p>ç±»å‹ä¸‹é¢å°±æ˜¯â€œå›¾å…ƒâ€äº†ï¼Œä¹Ÿå¯ä»¥å«æ„ä»¶ï¼›æ‰€è°“å›¾å…ƒï¼Œå°±æ˜¯åœ¨æ¨¡å‹è§†å›¾ä¸­å®å®åœ¨åœ¨çœ‹åˆ°çš„å¯¹è±¡ï¼Œä½†è¢«é€‰ä¸­æ—¶ï¼Œä¼šé«˜äº®æ˜¾ç¤ºï¼Œå¹¶ä¸”ä¼šåœ¨â€œå±æ€§â€çª—å£ä¸­æ˜¾ç¤ºå›¾å…ƒçš„å‚æ•°ä¿¡æ¯ï¼›</p>
<p><font color="red">â€œå±æ€§â€çª—å£ä¸­æ˜¾ç¤ºçš„å¹¶ä¸æ˜¯å›¾å…ƒæ‰€æœ‰çš„å±æ€§ä¿¡æ¯</font></p>
<h2 id="æŒ‰æ—ç±»å‹åˆ†ç±»">1.2 æŒ‰æ—ç±»å‹åˆ†ç±»</h2>
<h3 id="ç³»ç»Ÿæ—">1.2.1 ç³»ç»Ÿæ—</h3>
<p>ç‰¹ç‚¹ï¼š</p>
<ol type="1">
<li>Revit è½¯ä»¶å†…ç½®çš„ï¼Œæ‰€æœ‰çš„ rvt æ–‡ä»¶éƒ½æ˜¯ä¸€æ ·çš„ï¼›</li>
<li>æœ‰é™çš„ï¼›</li>
<li>ç”¨æˆ·ä¸èƒ½è‡ªå·±æ·»åŠ  / åˆ é™¤ï¼ˆRevit å‡çº§çš„æ—¶å€™æˆ–è®¸ä¼šæ–°å¢ï¼‰ï¼›</li>
</ol>
<p>å¸¸è§çš„ç³»ç»Ÿæ—ï¼šå¢™ï¼Œæ¥¼æ¿ã€å„ç§ç®¡çº¿ã€å±‹é¡¶ã€â€¦â€¦</p>
<h3 id="è½½å…¥æ—">1.2.2 è½½å…¥æ—</h3>
<p>ç‰¹ç‚¹ï¼š</p>
<ol type="1">
<li>ä»¥ rfa æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼›</li>
<li>å¯ä»¥è½½å…¥ä¸åŒçš„ rvt æ–‡ä»¶ä¸­å¤ç”¨ï¼›</li>
<li>ç”¨æˆ·å¯ä»¥è‡ªå·±æ–°å¢æˆ–è€…åˆ é™¤ï¼›</li>
</ol>
<p>å¸¸è§çš„ç³»ç»Ÿæ—ï¼šæ¢ã€æŸ±ã€ç®¡ä»¶ã€ç®¡é“é™„ä»¶ã€æœ«ç«¯ã€å®¶å…·ã€è®¾å¤‡â€¦â€¦</p>
<h3 id="å†…å»ºæ—">1.2.3 å†…å»ºæ—</h3>
<p>ç‰¹ç‚¹ï¼š</p>
<ol type="1">
<li>åªå­˜åœ¨äºæŸä¸€ä¸ª rvt æ–‡ä»¶å†…ï¼Œä¸èƒ½è¢«å¤ç”¨ï¼›</li>
<li>åªåŒ…å«ä¸€ä¸ªç±»å‹ä¸”ç±»å‹åç§°å’Œæ—åç§°ä¸€æ ·</li>
<li>ç”¨æˆ·å¯ä»¥è‡ªå·±æ–°å¢æˆ–è€…åˆ é™¤ï¼›</li>
</ol>
<p>å¯ä»¥éšæ„æŒ‡å®šï¼Œåˆ›å»ºçš„æ—¶å€™åªéœ€è¦æŒ‡å®š ç±»åˆ«ï¼Œè¾“å…¥ä¸€ä¸ªæ—åç§°ï¼ŒRevit å°±ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªå†…å»ºæ—</p>
<h2 id="æŒ‰-category-ç±»å‹åˆ†ç±»">1.3 æŒ‰ Category ç±»å‹åˆ†ç±»</h2>
<p>è¿™ç§åˆ†ç±»æ˜¯æŒ‰ç…§ Category çš„å±æ€§ä¿¡æ¯ Category Type è¿›è¡Œåˆ’åˆ†çš„</p>
<p>ä¸€èˆ¬è¾ƒå°‘å…³æ³¨</p>
<h3 id="æ¨¡å‹ç±»æ„ä»¶æ¨¡å‹æ—">1.3.1 æ¨¡å‹ç±»æ„ä»¶(æ¨¡å‹æ—)</h3>
<p>å¯ä»¥åœ¨ä¸‰ç»´è§†å›¾ä¸­è¿›è¡ŒæŸ¥çœ‹çš„ï¼›</p>
<p>ä¾‹å¦‚ï¼šå¢™ã€æ¢ã€æ¿ã€æŸ±ã€â€¦â€¦</p>
<h3 id="è¯¦å›¾ç±»æ„ä»¶æ³¨é‡Šæ—">1.3.2 è¯¦å›¾ç±»æ„ä»¶(æ³¨é‡Šæ—)</h3>
<p>åœ¨å¹³é¢è§†å›¾ä¸­è¿›è¡Œè¾…åŠ©æŸ¥çœ‹ï¼Œä¸èƒ½åœ¨ä¸‰ç»´è§†å›¾ä¸­çœ‹åˆ°ï¼›</p>
<p>ä¾‹å¦‚ï¼šæ ‡è®°ã€å°ºå¯¸æ ‡æ³¨ã€â€¦â€¦</p>
<h3 id="åˆ†æç±»æ„ä»¶åˆ†ææ—">1.3.3 åˆ†æç±»æ„ä»¶(åˆ†ææ—)</h3>
<p>Revit ä¸­æœ‰ä¸€ä¸ªå•ç‹¬çš„åˆ†ææ¨¡å—ï¼Œåˆ†ææ—ç”¨æ¥å±•ç¤ºåˆ†æç»“æœçš„</p>
<p>ä¾‹å¦‚ï¼šåˆ†æå¢™ã€åˆ†ææŸ±ã€â€¦â€¦</p>
<h3 id="å†…éƒ¨ç±»æ„ä»¶å†…éƒ¨æ—">1.3.4 å†…éƒ¨ç±»æ„ä»¶(å†…éƒ¨æ—)</h3>
<p>Revit å†…éƒ¨ä½¿ç”¨çš„ï¼›</p>
<p>ç”¨æˆ·ä¸€èˆ¬ä¸ç›´æ¥ä½¿ç”¨ï¼Œé€šå¸¸èµ·åˆ°è¾…åŠ©ç±»çš„æ„ä»¶ï¼›</p>
<p>ä¾‹å¦‚ï¼šç»“æ„è¿æ¥å¤„ç†ç¨‹åºã€éƒ¨ä»¶ã€â€¦â€¦</p>
<h1 id="revit-å‚æ•°åˆ†ç±»è¯´æ˜">2ã€Revit å‚æ•°åˆ†ç±»è¯´æ˜</h1>
<p>Revit å‚æ•°ä¹Ÿæœ‰å¤šä¸ªåˆ†ç±»çš„ç»´åº¦ï¼Œ</p>
<p>è¿™é‡Œä¸»è¦ä»‹ç»ä»¥ä¸‹å‡ ç§åˆ†ç±»ç»´åº¦</p>
<h2 id="æŒ‰ä½œç”¨çš„å±‚çº§">2.1 æŒ‰ä½œç”¨çš„å±‚çº§</h2>
<p>ä½œç”¨å±‚çº§åŒ…å«äº†ä¸‰çº§åˆ†ç±»ï¼Œåœ¨ 1.1 ä¸­è¯´æ˜è¿‡ï¼Œæ¯ä¸€çº§éƒ½æœ‰è‡ªå·±çš„æè¿°å‚æ•°ï¼›</p>
<p>é™¤äº†ä¸‰çº§åˆ†ç±»ï¼Œè¿™é‡Œè¡¥å……è¯´æ˜äº†â€œé¡¹ç›®å‚æ•°â€å’Œâ€œå®ä¾‹å‚æ•°â€</p>
<h3 id="é¡¹ç›®çº§å‚æ•°">2.1.1 é¡¹ç›®çº§å‚æ•°</h3>
<p>è¿™é‡Œé¡¹ç›®æœ‰åˆ«äºå»ºç­‘è®¾è®¡çš„é¡¹ç›®ï¼Œæ„æ€æ˜¯ rvt æ–‡ä»¶ï¼ŒRevit é»˜è®¤ä¸€ä¸ª rvt æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œrvt æ–‡ä»¶çº§åˆ«çš„å‚æ•°å°±æ˜¯é¡¹ç›®å‚æ•°ï¼Œä¸åŒçš„ rvt æ–‡ä»¶å¯ä»¥å®šä¹‰ä¸åŒæ•°é‡çš„å‚æ•°ï¼›</p>
<p>æ‰€æœ‰çš„é¡¹ç›®å‚æ•°é›†åˆåœ¨ä¸€èµ·ï¼Œå«åšâ€œé¡¹ç›®ä¿¡æ¯â€ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª Category ç±»åˆ«</p>
<p>ç¬¦åˆ Revit æ·»åŠ å‚æ•°çš„ç»Ÿä¸€æµç¨‹</p>
<p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„é¡¹ç›®å‚æ•°å«â€œå…¨å±€å‚æ•°â€ï¼Œæ˜¯ 2016 R2 ä»¥åæ–°å¢çš„ï¼Œå…·ä½“å‚è§ 2.2</p>
<h3 id="æ—çº§å‚æ•°">2.1.2 æ—çº§å‚æ•°</h3>
<p>è¢«ç”¨æ¥æè¿°æ— Family çš„ç›¸å…³ä¿¡æ¯ï¼›</p>
<p>ä¸€è¾¹è¾ƒå°‘ä½¿ç”¨ï¼Œä¸”ä¸èƒ½å¢åˆ æ”¹</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121181936225.png" alt="image-20220121181936225" /><figcaption aria-hidden="true">image-20220121181936225</figcaption>
</figure>
<h3 id="ç±»å‹çº§å‚æ•°">2.1.3 ç±»å‹çº§å‚æ•°</h3>
<p>ä¸€ä¸ªæ—ä¸€èˆ¬æœ‰å¤šä¸ªç±»å‹ï¼Œä¸€ä¸ªç±»å‹ä¹‹æ‰€ä»¥åŒºåˆ«äºå¦ä¸€ä¸ªç±»å‹ï¼Œå°±æ˜¯å› ä¸ºç±»å‹å‚æ•°çš„å‚æ•°å€¼ä¸ä¸€æ ·ï¼ˆå¦‚æœä¸€æ ·ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¤ä¸ºæ˜¯ç›¸åŒçš„ç±»å‹ï¼Œå°±æ²¡å¿…è¦æ–°å»ºè¿™ä¸ªç±»å‹äº†ï¼‰</p>
<p>ä¸ºäº†æè¿°æ—ä¸‹é¢çš„å¤šä¸ªç±»å‹ï¼Œå› æ­¤äº§ç”Ÿäº†ç±»å‹å‚æ•°ï¼›</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121182705093.png" alt="image-20220121182705093" /><figcaption aria-hidden="true">image-20220121182705093</figcaption>
</figure>
<h3 id="å®ä¾‹çº§å‚æ•°">2.1.4 å®ä¾‹çº§å‚æ•°</h3>
<p>è§†å›¾ä¸­çœ‹åˆ°çš„æ¯ä¸€ä¸ªå›¾å…ƒï¼Œéƒ½æœ‰è‡ªå·±çš„å±æ€§ä¿¡æ¯ï¼Œè¿™äº›å±æ€§ä¿¡æ¯éƒ½æ˜¯é€šè¿‡å®ä¾‹å‚æ•°æè¿°çš„ï¼›</p>
<p>å…·ä½“å˜ç°ä¸ºï¼šRevit â€œå±æ€§â€çª—å£ä¸­çœ‹åˆ°çš„å‚æ•°ï¼ˆä¸Šé¢æˆªå›¾ï¼Œå·¦ä¾§éƒ¨åˆ†ï¼‰</p>
<h2 id="æŒ‰å‚æ•°çš„å®šä¹‰">2.2 æŒ‰å‚æ•°çš„å®šä¹‰</h2>
<p>è¿™ç§åˆ†ç±»æ–¹å¼ï¼Œåªå…³å¿ƒå‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Œä¸å…³å¿ƒè¿™ä¸ªå‚æ•°å°†ä¼šè¢«ç”¨äºæè¿°å“ªä¸ªå¯¹è±¡ï¼›</p>
<p>é€šè¿‡ä¸åŒä¸åŒçš„å®šä¹‰æ–¹å¼ï¼Œå¯ä»¥å°†å‚æ•°åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼›</p>
<h3 id="å†…ç½®å‚æ•°">2.2.1 å†…ç½®å‚æ•°</h3>
<p>BuiltinParameter</p>
<p>åœ¨ Revit ä¸­é€šè¿‡æšä¸¾çš„æ–¹å¼æš´éœ²å‡ºæ¥ï¼Œç”¨æˆ·ä¸èƒ½åšä»»ä½•ä¿®æ”¹ï¼›</p>
<p><a href="https://www.revitapidocs.com/2020/fb011c91-be7e-f737-28c7-3f1e1917a0e0.htm">BuiltInParameter Enumeration (revitapidocs.com)</a></p>
<h3 id="å…±äº«å‚æ•°">2.2.2 å…±äº«å‚æ•°</h3>
<p>ç”¨æˆ·é€šè¿‡å…±äº«å‚æ•°æ–‡ä»¶å®šä¹‰ï¼›</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ä¸€ä¸ªç”¨æˆ·å®šä¹‰å¹¶ä½¿ç”¨ä¸€ä¸ªå…±äº«å‚æ•°æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åšåˆ°å¤šä¸ªç”¨æˆ·ä½¿ç”¨åŒä¸€ä¸ªå…±äº«å‚æ•°æ–‡ä»¶ï¼›</p>
<h3 id="æ—å‚æ•°">2.2.3 æ—å‚æ•°</h3>
<p>åœ¨ç¼–è¾‘ rfa æ–‡ä»¶è¿‡ç¨‹ä¸­å®šä¹‰çš„å‚æ•°ï¼›</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121185129566.png" alt="image-20220121185129566" /><figcaption aria-hidden="true">image-20220121185129566</figcaption>
</figure>
<p>æ ¹æ®åˆ›å»ºæ–¹å¼çš„ä¸åŒï¼Œè¿˜å¯ä»¥åˆ’åˆ†ä¸ºï¼š</p>
<ol type="1">
<li>å…±äº«å‚æ•°</li>
<li>ä¸€èˆ¬æ—å‚æ•°
<ol type="1">
<li>è¿™ç±»å‚æ•°æ¯”è¾ƒç‰¹æ®Šï¼Œè¯¥ç±»å‹çš„å‚æ•°åªèƒ½åœ¨æ—æ–‡ä»¶èŒƒå›´å†…å®šä¹‰ï¼Œ</li>
<li>ç®€å•æ¥è¯´å°±æ˜¯ï¼Œåªèƒ½åœ¨ç¼–è¾‘ rfa æ–‡ä»¶çš„æ—¶å€™è¿›è¡Œå®šä¹‰ï¼›ä¸”æœ‰æ•ˆçš„ä½¿ç”¨èŒƒå›´åªèƒ½åœ¨ rfa æ–‡ä»¶å†…éƒ¨ï¼›</li>
<li>è¿™ä¸­å‚æ•°æ˜¯é€ æˆ revit å‚æ•°è¢«æ»¥ç”¨çš„ä¸€ä¸ªåŸå› </li>
</ol></li>
</ol>
<p>æ—å‚æ•°ï¼Œåœ¨æ—å†…éƒ¨ä½œç”¨çš„å±‚çº§ï¼Œè¿˜å¯ä»¥åˆ’åˆ†ä¸ºï¼š</p>
<ul>
<li>ç±»å‹å‚æ•°</li>
<li>å®ä¾‹å‚æ•°ï¼›</li>
</ul>
<p>å‚è€ƒï¼š2.1 ä¸­çš„ç±»å‹å‚æ•°å’Œå®ä¾‹å‚æ•°ï¼›</p>
<h3 id="å…¨å±€å‚æ•°">2.2.4 å…¨å±€å‚æ•°</h3>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220124162335058.png" alt="image-20220124162335058" /><figcaption aria-hidden="true">image-20220124162335058</figcaption>
</figure>
<p>å…¨å±€å‚æ•°æ˜¯ Autodesk åœ¨ Revit 2016 R2 ç‰ˆæœ¬ï¼ˆ17 åŠå…¶ä»¥åçš„ç‰ˆæœ¬éƒ½æœ‰ï¼‰å¢åŠ çš„å†…å®¹ï¼Œæ˜¯ç»§å…±äº«å‚æ•°ä¸é¡¹ç›®å‚æ•°ä¹‹åæ–°å¢åŠ çš„ä¸€ç§å‚æ•°ã€‚</p>
<p>å…¨å±€å‚æ•°ç‰¹å®šäºå•ä¸ªé¡¹ç›®æ–‡ä»¶ï¼Œä½†æœªåƒé¡¹ç›®å‚æ•°é‚£æ ·æŒ‡å®šç»™ç±»åˆ«ã€‚å…¨å±€å‚æ•°å¯ä»¥æ˜¯ç®€å•å€¼ã€æ¥è‡ªè¡¨è¾¾å¼çš„å€¼æˆ–ä½¿ç”¨å…¶ä»–å…¨å±€å‚æ•°ä»æ¨¡å‹è·å–çš„å€¼ã€‚</p>
<p>æœ‰ç‚¹ç±»ä¼¼äºæ—æ–‡ä»¶é‡Œçš„â€œä¸€èˆ¬æ—å‚æ•°â€</p>
<p>è¯¦ç»†çš„ä½¿ç”¨æ–¹å¼å’Œæ¡ˆä¾‹ï¼Œå‚è§å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://help.autodesk.com/view/RVT/2016/CHS/?guid=GUID-1AA9B2DC-C08B-458E-BA93-C72C109D61C8">å¸®åŠ©: å…¨å±€å‚æ•° (autodesk.com)</a></p>
<h1 id="revit-å‚æ•°ç®¡ç†ä½“ç³»">3ã€Revit å‚æ•°ç®¡ç†ä½“ç³»</h1>
<p>Revit ä¸­çš„å‚æ•°ä¸»è¦æœ‰ä¸¤ç±»ï¼š</p>
<p>å¸¸è§„å‚æ•°</p>
<p>æè´¨ç±»å‚æ•°</p>
<h2 id="å¸¸è§„å‚æ•°çš„å®šä¹‰ç®¡ç†ä½“ç³»">3.1 å¸¸è§„å‚æ•°çš„å®šä¹‰ç®¡ç†ä½“ç³»</h2>
<p>åœ¨ Revit ä¸­æ‰€æœ‰çš„å‚æ•°éƒ½å¿…é¡»å…ˆå®šä¹‰ï¼Œç„¶åæ‰èƒ½è¢«ä½¿ç”¨ï¼›</p>
<p>å…³äºå‚æ•°å®šä¹‰ï¼ŒRevit æœ‰è‡ªå·±çš„ä¸€å¥—ç®¡ç†ä½“ç³»ï¼›</p>
<p>ä¸‹é¢æˆªå›¾æ˜¯å„ç§å‚æ•°çš„å®šä¹‰æˆªå›¾</p>
<div class="tabs" id="å„ç§å‚æ•°å®šä¹‰"><ul class="nav-tabs"><li class="tab active"><a href="#å„ç§å‚æ•°å®šä¹‰-1">[å…±äº«å‚æ•°å®šä¹‰]</a></li><li class="tab"><a href="#å„ç§å‚æ•°å®šä¹‰-2">[é¡¹ç›®å‚æ•°å®šä¹‰]</a></li><li class="tab"><a href="#å„ç§å‚æ•°å®šä¹‰-3">[é¡¹ç›®å‚æ•°ä½¿ç”¨å…±äº«å‚æ•°å®šä¹‰]</a></li><li class="tab"><a href="#å„ç§å‚æ•°å®šä¹‰-4">[æ—å‚æ•°å®šä¹‰]</a></li></ul><div class="tab-content"><div class="tab-pane active" id="å„ç§å‚æ•°å®šä¹‰-1"><figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121145632974.png" alt="image-20220121145632974" /><figcaption aria-hidden="true">image-20220121145632974</figcaption>
</figure></div><div class="tab-pane" id="å„ç§å‚æ•°å®šä¹‰-2"><figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121150553052.png" alt="image-20220121150553052" /><figcaption aria-hidden="true">image-20220121150553052</figcaption>
</figure></div><div class="tab-pane" id="å„ç§å‚æ•°å®šä¹‰-3"><figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121151733095.png" alt="image-20220121151733095" /><figcaption aria-hidden="true">image-20220121151733095</figcaption>
</figure></div><div class="tab-pane" id="å„ç§å‚æ•°å®šä¹‰-4"><figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121151930344.png" alt="image-20220121151930344" /><figcaption aria-hidden="true">image-20220121151930344</figcaption>
</figure></div></div></div>
<p>ä»ä¸Šé¢çš„æˆªå›¾å¯ä»¥çœ‹å‡ºæ¥ï¼Œç”¨äºå‚æ•°ç®¡ç†çš„ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªä¿¡æ¯ï¼š</p>
<ul>
<li>è§„ç¨‹</li>
<li>å‚æ•°ç±»å‹</li>
<li>å‚æ•°åˆ†ç»„</li>
<li>å‚æ•°åˆ†ç»„æ–¹å¼</li>
<li>ç±»å‹ or å®ä¾‹</li>
<li>æ˜¯å¦æŠ¥å‘Šå‚æ•°</li>
</ul>
<p>è¿™äº›ä¿¡æ¯ï¼Œä¸»è¦ç”¨äºæè¿°ä¸€ä¸ªå‚æ•°ï¼Œæ–¹ä¾¿ Revit å¯¹å‚æ•°è¿›è¡Œç®¡ç†ï¼›</p>
<p><font color="red">â€œå‚æ•°å®šä¹‰â€å¹¶ä¸å…³æ³¨è¿™ä¸ªå‚æ•°å°†ä¼šè¢«ç”¨äºæè¿°ä»€ä¹ˆå¯¹è±¡ï¼Œæˆ–è€…å•ä½æ˜¯ä»€ä¹ˆï¼›</font>å‚æ•°çš„ æè¿°å¯¹è±¡ï¼Œå•ä½ä¿¡æ¯ï¼Œåˆ™æ˜¯é€šè¿‡ä¸€ç§å…³è”å…³ç³»è¿›è¡Œä½¿ç”¨</p>
<p>å› ä¸ºï¼š</p>
<ol type="1">
<li>ä¸€ä¸ªå‚æ•°çš„å®šä¹‰å¯ä»¥è¢«ç”¨äºæè¿°ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¯¹è±¡ï¼Œåœ¨ç»™å¯¹è±¡æ·»åŠ å‚æ•°çš„æ—¶å€™ï¼Œå»é€‰æ‹©å·²ç»å®šä¹‰å¥½çš„å‚æ•°å°±è¡Œäº†ï¼›ã€æ·»åŠ é¡¹ç›®å‚æ•°çš„åæœ€å³ä¾§ä¼šæœ‰å…³è”å¯¹è±¡çš„é€‰æ‹©ã€‘</li>
<li>ä¸€ä¸ªå‚æ•°å¯èƒ½æ²¡æœ‰å•ä½æˆ–è€…æœ‰å¤šä¸ªå•ä½ï¼›å…·ä½“é€‰æ‹©å“ªä¸ªå•ä½ï¼Œåœ¨æ˜¾ç¤ºæˆ–è€…ä½¿ç”¨çš„æ—¶å€™ç¡®å®šå°±å¯ä»¥äº†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼›</li>
</ol>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220121174516331.png" alt="image-20220121174516331" /><figcaption aria-hidden="true">image-20220121174516331</figcaption>
</figure>
<h2 id="æè´¨ç±»å‚æ•°ç®¡ç†ä½“ç³»">3.2 æè´¨ç±»å‚æ•°ç®¡ç†ä½“ç³»</h2>
<p>æè´¨ç±»å‚æ•°ï¼Œå› ä¸ºæ¶‰åŠåˆ°æ¸²æŸ“ã€æ˜¾ç¤ºï¼Œå› æ­¤ååˆ†å¤æ‚ï¼›Autodesk çš„å¾ˆå¤šå»ºæ¨¡è½¯ä»¶ä½¿ç”¨çš„æè´¨åº“éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œå¹¶ä¸å…±äº«ï¼›</p>
<p>å› ä¸ºæè´¨ç›¸å…³çš„å‚æ•°ä½“ç³»å¤ªè¿‡å¤æ‚ï¼ŒAPIæš´éœ²æœ‰æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥ä¸‹é¢ä¸»è¦ä»¥ä»‹ç»ä¸ºä¸»ï¼›</p>
<p>åŠŸèƒ½å…¥å£ï¼šç®¡ç† -&gt; è®¾ç½® -&gt; æè´¨</p>
<p>åœ¨è¿™é‡Œç”¨æˆ·å¯ä»¥è‡ªå·±åˆ›å»ºã€å®šä¹‰ã€ç¼–è¾‘ã€ä¿®æ”¹ä¸æè´¨ç›¸å…³çš„å„ç§ä¿¡æ¯ï¼›</p>
<div class="tabs" id="æè´¨-ç¤ºä¾‹"><ul class="nav-tabs"><li class="tab active"><a href="#æè´¨-ç¤ºä¾‹-1">[åœŸå»ºæè´¨ - ç¤ºä¾‹]</a></li><li class="tab"><a href="#æè´¨-ç¤ºä¾‹-2">[æœºç”µæè´¨ - ç¤ºä¾‹]</a></li></ul><div class="tab-content"><div class="tab-pane active" id="æè´¨-ç¤ºä¾‹-1"><figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220124163727041.png" alt="image-20220124163727041" /><figcaption aria-hidden="true">image-20220124163727041</figcaption>
</figure></div><div class="tab-pane" id="æè´¨-ç¤ºä¾‹-2"><figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220124163317836.png" alt="image-20220124163317836" /><figcaption aria-hidden="true">image-20220124163317836</figcaption>
</figure></div></div></div>
<p>ä»ä¸Šé¢çš„æˆªå›¾çœ‹ï¼Œæè´¨ä¿¡æ¯ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç±»ä¿¡æ¯ï¼š</p>
<ul>
<li>æ ‡è¯†</li>
<li>å›¾å½¢</li>
<li>å¤–è§‚</li>
<li>ç‰©ç†ï¼ˆå¯é€‰ï¼‰</li>
<li>çƒ­åº¦ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<p>æ¯ä¸€ç±»ï¼Œéƒ½åŒ…å«è‹¥å¹²å‚æ•°ï¼Œå¹¶ä¸”é€šè¿‡åˆ†ç»„è¿›è¡Œç®¡ç†</p>
<h2 id="é€šç”¨å‚æ•°å€¼çš„ç®¡ç†">3.3 é€šç”¨å‚æ•°å€¼çš„ç®¡ç†</h2>
<p>ä¸Šé¢è¯´å®Œäº†å‚æ•°å®šä¹‰ï¼Œå¦å¤–ä¸€ä¸ªè¯é¢˜å°±æ˜¯å‚æ•°å€¼ï¼›</p>
<h3 id="é€šç”¨å‚æ•°å€¼ç‰¹ç‚¹">3.3.1 é€šç”¨å‚æ•°(å€¼)ç‰¹ç‚¹</h3>
<p>å› ä¸ºå­˜åœ¨è¿™æ ·ä¸€éƒ¨åˆ†å‚æ•°ï¼Œä»–ä»¬å¯¹äºå‚æ•°å€¼çš„å¡«å†™æ˜¯æœ‰ä¸€äº›åŸºæœ¬è¦æ±‚çš„ï¼›</p>
<p>æ¯”å¦‚è¯´ï¼šé¢œè‰²ï¼Œåªèƒ½åœ¨ 0 ~ 255 ä¹‹é—´ï¼›</p>
<p>è¿˜æœ‰ä¸€ç±»ï¼šæä¾›ä¸€äº›åŸºæœ¬çš„å‚æ•°å€¼ï¼Œè®©ç”¨æˆ·è¿›è¡Œé€‰æ‹©ï¼›åŒæ—¶å¯ä»¥æš´éœ²ä¸€äº›å‚æ•°å€¼å®šä¹‰çš„æ¥å£ï¼Œè®©ç”¨æˆ·å¯ä»¥å…ˆå®šä¹‰å‚æ•°å€¼ï¼Œç„¶åå†é€‰æ‹©å‚æ•°å€¼è¿›è¡Œä½¿ç”¨ã€‚</p>
<p>è¿™ç±»å‚æ•°å€¼éƒ½æœ‰ä¸€äº›ç‰¹ç‚¹ï¼š</p>
<ol type="1">
<li>æœ‰é™</li>
<li>å¯æšä¸¾</li>
<li>æ¯”è¾ƒå¸¸è§ã€é€šç”¨</li>
<li>è·Ÿå…¶ä»–å‚æ•°æˆ–è€…å¯¹è±¡æœ‰å…³è”å…³ç³»</li>
</ol>
<p>è¿™ç±»å‚æ•°ï¼Œä¸»è¦é›†ä¸­åœ¨ <strong>ç®¡ç† -&gt; è®¾ç½®</strong> é¢æ¿ä¸­</p>
<h3 id="ä¾‹å­">3.3.2 ä¾‹å­</h3>
<h4 id="è§„ç¨‹ç±»å‚æ•°">ï¼ˆ1ï¼‰è§„ç¨‹ç±»å‚æ•°ï¼š</h4>
<p>è§„ç¨‹å‚æ•°å„å¤„éƒ½æœ‰ç”¨ï¼Œå‚æ•°å€¼æ˜¯ Revit è§„å®šçš„æœ‰é™çš„å‡ ä¸ªï¼Œä¸å…¶ä»–å‚æ•°æœ‰å…³è”ï¼Œæ¯”å¦‚è¯´ï¼šå‚æ•°åˆ†ç»„ï¼Œå­è§„ç¨‹ç­‰</p>
<h4 id="å»ºç­‘ç©ºé—´-ç±»å‹å‚æ•°">ï¼ˆ2ï¼‰å»ºç­‘/ç©ºé—´ ç±»å‹å‚æ•°</h4>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220124171308987.png" alt="image-20220124171308987" /><figcaption aria-hidden="true">image-20220124171308987</figcaption>
</figure>
<h4 id="æœºç”µ---ç³»ç»Ÿç±»å‹-å‚æ•°">ï¼ˆ3ï¼‰æœºç”µ - ç³»ç»Ÿç±»å‹ å‚æ•°</h4>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220124170329124.png" alt="image-20220124170329124" /><figcaption aria-hidden="true">image-20220124170329124</figcaption>
</figure>
<h4 id="æ˜¾ç¤ºç±»å‚æ•°å€¼">ï¼ˆ4ï¼‰æ˜¾ç¤ºç±»å‚æ•°(å€¼)</h4>
<ul>
<li>å¡«å……æ ·å¼</li>
<li>çº¿æ ·å¼</li>
<li>çº¿å®½</li>
<li>çº¿å‹å›¾æ¡ˆ</li>
<li>æè´¨èµ„æº</li>
</ul>
<p>è¿™äº›è·Ÿæè´¨æˆ–è€…æ˜¾ç¤ºç±»çš„å‚æ•°éƒ½æœ‰å…³ç³»ï¼Œä¸»è¦å½±å“çš„å°±æ˜¯æ¸²æŸ“æ˜¾ç¤ºã€‚</p>
]]></content>
      <categories>
        <category>Revit</category>
      </categories>
      <tags>
        <tag>Revit</tag>
      </tags>
  </entry>
  <entry>
    <title>Typora è®¾ç½®å…³è”ä¸ƒç‰›äº‘å›¾åºŠ</title>
    <url>/2021/12/06/Typora-%E8%AE%BE%E7%BD%AE%E5%85%B3%E8%81%94%E4%B8%83%E7%89%9B%E4%BA%91%E5%9B%BE%E5%BA%8A/</url>
    <content><![CDATA[<h1 id="ä¸ƒç‰›äº‘å­˜å‚¨ç¯å¢ƒå‡†å¤‡">1. ä¸ƒç‰›äº‘å­˜å‚¨ç¯å¢ƒå‡†å¤‡</h1>
<h2 id="æ³¨å†Œ">1.1 æ³¨å†Œ</h2>
<p>ä¸ƒç‰›äº‘å®˜ç½‘ï¼š<a href="https://www.qiniu.com/">ä¸ƒç‰›äº‘ - å›½å†…é¢†å…ˆçš„ä¼ä¸šçº§äº‘æœåŠ¡å•† (qiniu.com)</a></p>
<p>æ³¨å†Œæµç¨‹ä¸åœ¨è¿™é‡Œè¯¦ç»†è¯´æ˜ï¼›</p>
<p>è¯´ä¸€ä¸‹æ³¨æ„äº‹é¡¹ï¼š</p>
<ol type="1">
<li>æ³¨å†Œåï¼Œéœ€è¦å®åè®¤è¯</li>
<li>ä¸ªäººè®¤è¯ å³å¯</li>
</ol>
<span id="more"></span>
<h2 id="æ–°å»ºå›¾åºŠå­˜å‚¨ç©ºé—´">1.2 æ–°å»ºå›¾åºŠå­˜å‚¨ç©ºé—´</h2>
<ol type="1">
<li>ç™»å½•åï¼Œé€šè¿‡â€œç®¡ç†æ§åˆ¶å°â€è¿›å…¥ç®¡ç†é¡µé¢ï¼›</li>
<li>ç‚¹å‡»â€œå¯¹è±¡å­˜å‚¨ Kodoâ€ï¼›</li>
<li>ç‚¹å‡»â€œç©ºé—´ç®¡ç†â€ -&gt; â€œæ–°å»ºç©ºé—´â€ è¿›è¡Œå›¾åºŠç©ºé—´åˆ›å»ºï¼›</li>
<li>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè®¾ç½®å®Œç›¸å…³å‚æ•°ï¼Œå³å¯åˆ›å»ºä¸€ä¸ªå›¾åºŠå­˜å‚¨ç©ºé—´ï¼›</li>
</ol>
<figure>
<img src="http://r3oaewll2.hb-bkt.clouddn.com/image-20211207135828755.png" alt="image-20211207135828755" /><figcaption aria-hidden="true">image-20211207135828755</figcaption>
</figure>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ol type="1">
<li>è®¿é—®æƒé™é€‰æ‹©â€œå…¬å¼€â€</li>
<li>å­˜å‚¨åŒºåŸŸä¸€èˆ¬é€‰æ‹©â€œè·ç¦»è‡ªå·±æ¯”è¾ƒè¿‘çš„â€ï¼Œå¹¶ä¸”ä¸åŒåŒºåŸŸæœ‰ä¸åŒçš„ä»£å·ï¼Œåé¢ä¼šç”¨åˆ°</li>
</ol>
<h1 id="picgo-å®‰è£…">2. PicGo å®‰è£…</h1>
<p>PicGo æœ‰ä¸¤ç§ç±»å‹ï¼›</p>
<ol type="1">
<li>PicGo Appï¼ˆåº”ç”¨ç¨‹åºï¼‰</li>
<li>PicGo-Coreï¼ˆå‘½ä»¤è¡Œç‰ˆæœ¬ï¼‰</li>
</ol>
<h2 id="å®‰è£…">2.1 å®‰è£…</h2>
<h3 id="å›¾å½¢ç•Œé¢ç‰ˆæœ¬">2.1.1 å›¾å½¢ç•Œé¢ç‰ˆæœ¬</h3>
<p><a href="https://github.com/Molunerfinn/PicGo/releases">PicGoå›¾å½¢</a></p>
<p>é€‰æ‹©å¯¹åº”ç³»ç»Ÿçš„å®‰è£…åŒ…å®‰è£…å³å¯</p>
<h3 id="å‘½ä»¤è¡Œç‰ˆæœ¬">2.1.2 å‘½ä»¤è¡Œç‰ˆæœ¬</h3>
<p><a href="https://github.com/PicGo/PicGo-Core">PicGo-core</a></p>
<ul>
<li>æ²¡æœ‰nodejsç¯å¢ƒï¼Œä½¿ç”¨typoraä¸€é”®å®‰è£…å³å¯</li>
<li>æœ¬æœºæœ‰nodjsç¯å¢ƒï¼Œç›´æ¥npmå…¨å±€å®‰è£…</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install picgo -g</span><br><span class="line"><span class="meta">#</span><span class="bash"> or</span></span><br><span class="line">yarn global add picgo</span><br></pre></td></tr></table></figure>
<p>æ’ä»¶å®‰è£…</p>
<p><a href="https://github.com/yuki-xin/picgo-plugin-web-uploader">picgo-plugin-web-uploader</a></p>
<p>è¿™æ˜¯ä¸€æ¬¾å¯ä»¥ä¸Šä¼ è‡ªå®šä¹‰å›¾åºŠçš„æ’ä»¶</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">picgo install web-uploader</span><br></pre></td></tr></table></figure>
<h2 id="é…ç½®">2.2 é…ç½®</h2>
<p>å…³äºå­˜å‚¨åŒºåŸŸçš„å¡«å†™è·Ÿåœ¨ä¸ƒç‰›äº‘ä¸Šæ–°å»ºç©ºé—´çš„åœ°ç†ä½ç½®æœ‰å…³ï¼›</p>
<p>å…·ä½“å‚è€ƒï¼š<a href="https://developer.qiniu.com/kodo/1671/region-endpoint-fq">å­˜å‚¨åŒºåŸŸ_äº§å“ç®€ä»‹_å¯¹è±¡å­˜å‚¨ - ä¸ƒç‰›å¼€å‘è€…ä¸­å¿ƒ (qiniu.com)</a></p>
<figure>
<img src="http://r3oaewll2.hb-bkt.clouddn.com/image-20211206144124515.png" alt="image-20211206144124515" /><figcaption aria-hidden="true">image-20211206144124515</figcaption>
</figure>
<h3 id="å›¾å½¢ç‰ˆç›´æ¥å›¾å½¢ç•Œé¢é…ç½®">2.2.1 å›¾å½¢ç‰ˆç›´æ¥å›¾å½¢ç•Œé¢é…ç½®</h3>
<p>å‚è€ƒé…ç½®</p>
<figure>
<img src="http://r3oaewll2.hb-bkt.clouddn.com/image-20211208133520184.png" alt="image-20211208133520184" /><figcaption aria-hidden="true">image-20211208133520184</figcaption>
</figure>
<h3 id="å›¾å½¢ç‰ˆç›´æ¥å›¾å½¢ç•Œé¢é…ç½®-1">2.2.2 å›¾å½¢ç‰ˆç›´æ¥å›¾å½¢ç•Œé¢é…ç½®</h3>
<p>å‚è€ƒé…ç½®æ–‡ä»¶</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;picBed&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;uploader&quot;</span>: <span class="string">&quot;qi_niu&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;current&quot;</span>: <span class="string">&quot;qi_niu&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;qi_niu&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;accessKey&quot;</span>: <span class="string">&quot;you-access-key&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;secretKey&quot;</span>: <span class="string">&quot;you-secret-key&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;bucket&quot;</span>: <span class="string">&quot;blog-pic-resp&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;http://you-url&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;area&quot;</span>: <span class="string">&quot;z1&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;options&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;path&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;picgoPlugins&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;picgo-plugin-web-uploader&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="section"></h2>
<h1 id="typora-å›¾ç‰‡å­˜å‚¨è®¾ç½®">3. Typora å›¾ç‰‡å­˜å‚¨è®¾ç½®</h1>
<p>è®¾ç½®å…¥å£ï¼šè®¾ç½® - åå¥½è®¾ç½® - å›¾åƒï¼›</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="http://r3oaewll2.hb-bkt.clouddn.com/image-20211207102745086.png" alt="image-20211207102745086" /><figcaption aria-hidden="true">image-20211207102745086</figcaption>
</figure>
<figure>
<img src="http://r3oaewll2.hb-bkt.clouddn.com/image-20211207102901759.png" alt="image-20211207102901759" /><figcaption aria-hidden="true">image-20211207102901759</figcaption>
</figure>
<ol type="1">
<li>æ’å…¥å›¾ç‰‡æ—¶ï¼šé€‰æ‹©ï¼šä¸Šä¼ å›¾ç‰‡ï¼›</li>
<li>ä¸Šä¼ æœåŠ¡è®¾å®š
<ol type="1">
<li>ä¸Šä¼ æœåŠ¡ï¼šé€‰æ‹©ï¼šPicGoï¼ˆappï¼‰</li>
<li>PicGo è·¯å¾„ï¼šé€‰æ‹©ï¼šè‡ªå·±å®‰è£…æ—¶å€™çš„è·¯å¾„</li>
</ol></li>
</ol>
<p>å½“ä¸Šè¿°ä¸¤å¤§é¡¹è®¾ç½®å®Œæ¯•åï¼Œç‚¹å‡»ï¼šâ€œéªŒè¯å›¾ç‰‡ä¸Šä¼ é€‰é¡¹â€</p>
<p>è®¾ç½®æˆåŠŸåï¼Œä¼šå‡ºç°â€œéªŒè¯æˆåŠŸâ€çš„æç¤ºï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p>å¦‚æœä½ çš„ä¸»é¢˜è®¾ç½®æ˜¯ Onedark ä¸€ç±»çš„é»‘è‰²ä¸»é¢˜ï¼Œè¿™ä¸ªæç¤ºå¯èƒ½ä¼šä¸æ˜æ˜¾ï¼Œéœ€è¦ä»”ç»†æŸ¥çœ‹æ‰èƒ½çœ‹åˆ°ï¼›</p>
<figure>
<img src="http://r3oaewll2.hb-bkt.clouddn.com/image-20211207103956991.png" alt="image-20211207103956991" /><figcaption aria-hidden="true">image-20211207103956991</figcaption>
</figure>
<figure>
<img src="http://r3oaewll2.hb-bkt.clouddn.com/image-20211207104327148.png" alt="image-20211207104327148" /><figcaption aria-hidden="true">image-20211207104327148</figcaption>
</figure>
]]></content>
      <categories>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>PicGo</tag>
        <tag>Typora</tag>
      </tags>
  </entry>
  <entry>
    <title>Visual Studio *.sln file ç¼–è¾‘ bug è®°å½•</title>
    <url>/2022/03/03/Visual-Studio-sln-file-%E7%BC%96%E8%BE%91-bug-%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>sln æ˜¯ Visual Studio 20xx è‡ªåŠ¨åˆ›å»ºçš„è§£å†³æ–¹æ¡ˆæ–‡ä»¶ï¼Œé‡Œé¢å­˜æ”¾äº†æœ‰å…³è§£å†³æ–¹æ¡ˆçš„è®¾ç½®ä¿¡æ¯ï¼Œä»¥åŠæœ‰å…³è§£å†³æ–¹æ¡ˆä¸‹é¡¹ç›®æ–‡ä»¶çš„ç»„ç»‡ã€ç»“æ„ã€é…ç½®ä¿¡æ¯ï¼›</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡ Visual Studio çš„å¯è§†åŒ–æ“ä½œ å¯¹ sln æ–‡ä»¶é—´æ¥è¿›è¡Œç¼–è¾‘ä¿®æ”¹çš„ï¼Œä½†æ˜¯æœ‰æ—¶å€™ä¸ºäº†æé«˜æ•ˆæœï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œç¼–è¾‘æ“ä½œï¼›</p>
<p>è¿™é‡Œä¸»è¦è®°å½•æ‰‹åŠ¨ç¼–è¾‘ sln æ–‡ä»¶é‡åˆ°çš„é—®é¢˜ï¼š</p>
<span id="more"></span>
<h1 id="æœ‰å…³-sln-æ–‡ä»¶çš„ä»‹ç»">0. æœ‰å…³ sln æ–‡ä»¶çš„ä»‹ç»</h1>
<p>è¿™é‡Œå‡è®¾è¯»è€…å¯¹ sln æ–‡ä»¶æœ‰ä¸€å®šäº†è§£ï¼Œå› æ­¤ä¸åœ¨è¯¦ç»†è¯´æ˜ï¼Œä¸»è¦ç”¨æ¥è¯´æ˜é‡åˆ°çš„é—®é¢˜</p>
<p>æœ‰å…³ sln æ–‡ä»¶å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.microsoft.com/zh-cn/visualstudio/extensibility/internals/solution-dot-sln-file?view=vs-2022">è§£å†³æ–¹æ¡ˆ (ã€‚Sln) æ–‡ä»¶ - Visual Studio (Windows) | Microsoft Docs</a></p>
<p><a href="https://blog.walterlv.com/post/understand-the-sln-file">ç†è§£ Visual Studio è§£å†³æ–¹æ¡ˆæ–‡ä»¶æ ¼å¼ï¼ˆ.slnï¼‰ - walterlv</a></p>
<h1 id="sln-ä¿®æ”¹åä¸èµ·æ•ˆçš„-bug">1. sln ä¿®æ”¹åä¸èµ·æ•ˆçš„ bug</h1>
<p>è½¯ä»¶ç¯å¢ƒï¼švisual studio 2022ï¼Œsublime 3</p>
<h2 id="é—®é¢˜æè¿°">1.1 é—®é¢˜æè¿°</h2>
<p>ä½¿ç”¨ sublime æ‰“å¼€ sln æ–‡ä»¶ï¼Œç„¶åç¼–è¾‘ GlobalSection(SolutionConfigurationPlatforms) = preSolution ä¿¡æ¯ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220303141026555.png" alt="image-20220303141026555" /><figcaption aria-hidden="true">image-20220303141026555</figcaption>
</figure>
<p>çº¢æ¡†é‡Œé¢æ˜¯æ–°å¢çš„å†…å®¹ï¼›</p>
<p>ä¿®æ”¹åä¿å­˜ï¼Œç„¶åå† visual studio ä¸­é‡æ–°è½½å…¥ï¼Œå‘ç°ï¼šæ–°å¢çš„è§£å†³æ–¹æ¡ˆé…ç½®é¡¹ï¼Œå¹¶æ²¡æœ‰å‡ºç°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220303141324034.png" alt="image-20220303141324034" /><figcaption aria-hidden="true">image-20220303141324034</figcaption>
</figure>
<p>æ³¨ï¼šä¸€å¼€å§‹ç¼–è¾‘ï¼Œå…¨éƒ¨æ²¡æœ‰å‡ºç°ï¼Œè¿™é‡Œä¸ºäº†è¯´æ˜é—®é¢˜ï¼Œæ•…æ„æ˜¾ç¤º å‡º Release R21 Storeï¼Œä¾¿äºåé¢åˆ†æé—®é¢˜</p>
<h2 id="é—®é¢˜åˆ†æ">1.2 é—®é¢˜åˆ†æ</h2>
<p>æ ¹æ® 1.1 ä¸­çš„ç°è±¡å‘ç°ï¼Œå·²ç»æ˜¾ç¤ºçš„é…ç½®é¡¹æ˜¯ Release R21 Storeï¼Œå¯¹åº” sln æ–‡ä»¶ä¸­çš„æ˜¯ 31 è¡Œï¼Œæ²¡æœ‰æ˜¾ç¤ºçš„æ˜¯ 32~40 è¡Œï¼Œè¿™å…¶ä¸­æœ‰ä»€ä¹ˆåŒºåˆ«ä¸éš¾å‘ç°ã€‚</p>
<p>å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼š31 è¡Œä½¿ç”¨çš„ ç¼©è¿›æ˜¯ tab é”®ï¼Œ32~40 è¡Œä½¿ç”¨çš„æ˜¯ç©ºæ ¼ spaceï¼›</p>
<p>æ³¨é‡Šï¼šæˆªå›¾ä¸­çš„ â€”â€” ä»£è¡¨ Tab é”®ï¼Œâ€¦â€¦ ä»£è¡¨ Space ç©ºæ ¼é”®</p>
<p>éš¾é“ç«Ÿç„¶æ˜¯ç¼©è¿›ç¬¦å·çš„é—®é¢˜ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>é€šè¿‡éªŒè¯å‘ç°ï¼šæœç„¶æ˜¯ç¼©è¿›ç¬¦å·å¯¼è‡´çš„</p>
<h2 id="é—®é¢˜æ€»ç»“">1.3 é—®é¢˜æ€»ç»“</h2>
<p>äº§ç”Ÿé—®é¢˜çš„åŸå› ï¼š</p>
<p>ç¬”è€…å†æ ¹æ® githu ä¸Šä¸€ç¯‡æŠ€æœ¯æ–‡æ¡£çš„ä»‹ç»ï¼Œè¿›è¡Œ sln æ–‡ä»¶çš„ç¼–è¾‘ä¿®æ”¹ï¼Œæ–‡æ¡£ä¸­å»ºè®®ä½¿ç”¨ç¼–è¾‘å™¨æ‰“å¼€æ‰‹åŠ¨ä¿®æ”¹ï¼Œè€Œä¸”é™„åŠ ä¸Šäº†ä¿®æ”¹çš„å†…å®¹ï¼Œäºæ˜¯æˆ‘ä¾¿å¾ˆè½»æ˜“çš„ç‚¹å‡» copy æŒ‰é’®ï¼Œè¿›è¡Œå¤åˆ¶ã€ç²˜è´´ï¼Œå‘ç°æ²¡æœ‰ä»»ä½•æ•ˆæœã€‚</p>
<p>æµªè´¹äº†åŠå¤©çš„äº‹ä»¶æ‰å‘ç°æ˜¯ ç¼©è¿›ç¬¦å·å¯¼è‡´çš„ï¼Œ</p>
<p>è€Œä¸”è¿˜æ˜¯åœ¨ Sublime ä¸­é€‰ä¸­çŠ¶æ€ä¸‹æ‰èƒ½å‘ç°çš„</p>
<p>å¤åˆ¶ç²˜è´´ä»£ç å®³æ­»äººï¼Œä¸€å®šè¦æ³¨æ„ã€‚</p>
]]></content>
      <categories>
        <category>VisualStudio</category>
      </categories>
      <tags>
        <tag>VisualStudio</tag>
      </tags>
  </entry>
  <entry>
    <title>WPF åœ¨ Trigger ä¸­ä¿®æ”¹ Button Content æ³¨æ„äº‹é¡¹</title>
    <url>/2021/12/02/WPF-%E5%9C%A8-Trigger-%E4%B8%AD%E4%BF%AE%E6%94%B9-Button-Content-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°">1. é—®é¢˜æè¿°</h2>
<p>xaml ä»£ç å—å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Button Content=&quot;333&quot;&gt;</span><br><span class="line">                &lt;Button.Style&gt;</span><br><span class="line">                    &lt;Style TargetType=&quot;Button&quot;&gt;</span><br><span class="line">                        &lt;Setter Property=&quot;Width&quot; Value=&quot;70&quot;/&gt;</span><br><span class="line">                        &lt;Setter Property=&quot;Height&quot; Value=&quot;27&quot;/&gt;</span><br><span class="line">                        &lt;Style.Triggers&gt;</span><br><span class="line">                            &lt;DataTrigger Binding=&quot;&#123;Binding ElementName=listBox, Path=SelectedIndex&#125;&quot; Value=&quot;2&quot;&gt;</span><br><span class="line">                                &lt;Setter Property=&quot;Content&quot; Value=&quot;three&quot; /&gt;</span><br><span class="line">                            &lt;/DataTrigger&gt;</span><br><span class="line">                        &lt;/Style.Triggers&gt;</span><br><span class="line">                    &lt;/Style&gt;</span><br><span class="line">                &lt;/Button.Style&gt;</span><br><span class="line">            &lt;/Button&gt;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œåï¼Œè§¦å‘ DataTrigger å‘ç° Button çš„ Content æ²¡æœ‰å˜åŒ–</p>
<span id="more"></span>
<h2 id="åŸå› å’Œè§£å†³æ–¹æ³•">2. åŸå› å’Œè§£å†³æ–¹æ³•</h2>
<p>åŸå› ï¼šå®šä¹‰ Button çš„æ—¶å€™ç›´æ¥æŒ‡å®š Content ç›¸å½“äºå®šæ­»äº† Button çš„ Content ï¼Œæ‰€ä»¥åœ¨ Style çš„ Trigger ä¸­å°±æ— æ³•ä¿®æ”¹äº†ï¼›</p>
<p>æ³¨æ„ï¼š è¿™ä¸ªæ—¶å€™å¦‚æœæŒ‡å®šæœ‰é»˜è®¤çš„ Button Styleï¼Œé»˜è®¤æ ·å¼ä¹Ÿä¼šå¤±æ•ˆï¼›åŸå› æ˜¯é‡å†™äº† Styleï¼›</p>
<p>è§£å†³æ–¹æ¡ˆï¼šå°† Content çš„é»˜è®¤å€¼ï¼Œå†™è¿› Button.Styleï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Button&gt;</span><br><span class="line">     &lt;Button.Style&gt;</span><br><span class="line">         &lt;Style TargetType=&quot;Button&quot;&gt;</span><br><span class="line">             &lt;Setter Property=&quot;Content&quot; Value=&quot;333&quot;/&gt;</span><br><span class="line">             &lt;Setter Property=&quot;Width&quot; Value=&quot;70&quot;/&gt;</span><br><span class="line">             &lt;Setter Property=&quot;Height&quot; Value=&quot;27&quot;/&gt;</span><br><span class="line">             &lt;Style.Triggers&gt;</span><br><span class="line">                 &lt;DataTrigger Binding=&quot;&#123;Binding ElementName=listBox, Path=SelectedIndex&#125;&quot; Value=&quot;2&quot;&gt;</span><br><span class="line">                     &lt;Setter Property=&quot;Content&quot; Value=&quot;three&quot; /&gt;</span><br><span class="line">                 &lt;/DataTrigger&gt;</span><br><span class="line">             &lt;/Style.Triggers&gt;</span><br><span class="line">         &lt;/Style&gt;</span><br><span class="line">     &lt;/Button.Style&gt;</span><br><span class="line"> &lt;/Button&gt;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>WPF</category>
      </categories>
      <tags>
        <tag>.Net</tag>
        <tag>C#</tag>
        <tag>WPF</tag>
        <tag>Style</tag>
      </tags>
  </entry>
  <entry>
    <title>Visual Studio ä»£ç æ ¼å¼åŒ–å·¥å…·</title>
    <url>/2022/03/01/Visual-Studio-%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%B7%A5%E5%85%B7/</url>
    <content><![CDATA[<p>Visual Studio è®¾ç½® - &gt; é€‰é¡¹ é‡Œé¢è‡ªèº«åŒ…å«æœ‰éƒ¨åˆ†ä»£ç æ ¼å¼åŒ–çš„åŠŸèƒ½ï¼Œä½†æ˜¯æ¯”è¾ƒå¼±ï¼Œé¢å¯¹å¤æ‚çš„é¡¹ç›®ä»£ç ï¼Œå°¤å…¶æ˜¯å›¢é˜Ÿå¼€å‘çš„æ—¶å€™ï¼Œä¾ç„¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¸èƒ½å¤Ÿå¾ˆå¥½çš„è§„èŒƒï¼Œæ ¼å¼åŒ–é¡¹ç›®ä»£ç ï¼›æ¯”å¦‚è¯´ XAML æ–‡ä»¶ç­‰ã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« ï¼Œç»“åˆ Visual Studio çš„åŸºç¡€è®¾ç½®ï¼ŒåŒæ—¶é…åˆ Visual Studio æ‰©å±•ç›¸å…³çš„ä»£ç æ ¼å¼åŒ–å·¥å…·è¿›è¡Œé¡¹ç›®çº§åˆ«ä»£ç æ ¼å¼åŒ–è§„èŒƒçš„ç»Ÿä¸€è¯´æ˜ã€‚</p>
<span id="more"></span>
<h1 id="visual-studio-ä»£ç æ ¼å¼åŒ–åŸºç¡€è®¾ç½®">Visual Studio ä»£ç æ ¼å¼åŒ–åŸºç¡€è®¾ç½®</h1>
<p>vs è‡ªå¸¦çš„æ–‡ä»¶æ ¼å¼åŒ–è®¾ç½®åŠŸèƒ½ä½äºï¼šå·¥å…· -&gt; é€‰é¡¹ -&gt; æ–‡æœ¬ç¼–è¾‘å™¨</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220303115418833.png" alt="image-20220303115418833" /><figcaption aria-hidden="true">image-20220303115418833</figcaption>
</figure>
<p>åœ¨è¿™é‡Œï¼Œæ—¢å¯ä»¥æŒ‰ç…§ç¼–ç¨‹è¯­è¨€è®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨â€œæ‰€æœ‰è¯­è¨€â€ä¸­è¿›è¡Œç»Ÿä¸€è®¾ç½®ï¼›</p>
<p>è¿™é‡Œçš„è®¾ç½®éƒ½æ˜¯ä¸€äº›åŸºæœ¬çš„è®¾ç½®ï¼Œæ¯”å¦‚è¯´ï¼šè¡Œå·ï¼Œè‡ªåŠ¨è¡¥å…¨ï¼Œç¼©è¿›ç­‰ï¼›</p>
<p>ä»¥C#ä¸ºä¾‹ï¼Œåœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ä¸€èˆ¬åªæœ‰åœ¨ è¡¥å…¨ {} çš„æ—¶å€™æ‰ä¼šè¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–ï¼Œå¦‚æœå®åœ¨ {} å†…éƒ¨å†™ä»£ç ï¼Œæ¯”å¦‚è¯´ç¼©è¿›ä¸å¯¹ï¼Œæ²¡æœ‰åŠ ç©ºæ ¼ç­‰ï¼Œé‚£ä¹ˆåœ¨ä¿å­˜çš„æ—¶å€™å°±ä¸ä¼šè‡ªåŠ¨æ ¼å¼åŒ–ï¼ˆé™¤éä½¿ç”¨äº†æ‰‹åŠ¨/å¿«æ·é”®æ ¼å¼åŒ–æˆ–è€…é«˜çº§æ’ä»¶ï¼‰</p>
<p>è¿˜æœ‰ï¼Œåœ¨è¿›è¡Œ XAML å¼€å‘çš„æ—¶å€™ï¼Œç”±äºå…¶æ ‡ç­¾è¯­è¨€çš„ç‰¹æ€§ï¼Œå±æ€§æœ‰æ—¶å€™ä¼šæ¯”è¾ƒå¤šï¼Œå°¤å…¶å®åœ¨å›¢é˜Ÿå¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ä¹ æƒ¯ï¼Œæœ‰äº›äººå–œæ¬¢ä¸€è¡Œå†™ä¸‹å»ä¸å¸¦æ¢è¡Œï¼Œæœ‰äº›å–œæ¬¢åŠ æ¢è¡Œï¼ˆæ¢è¡Œçš„æ—¶å€™å±æ€§çš„æ•°é‡ä¹Ÿä¸åŒï¼Œæç«¯çš„ä¸€ä¸ªå±æ€§å°±æ¢è¡Œï¼Œæˆ–è€…ä¸‰äº”ä¸ªå±æ€§åå†æ¢è¡Œï¼‰ï¼Œè€Œä¸”ç›¸åŒæ ‡ç­¾çš„ç©ºé—´åœ¨ä¸€èµ·ï¼Œå±æ€§çš„é¡ºåºä¹Ÿå¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™å°±ç»™ä»£ç çš„å¯è¯»æ€§å¢åŠ äº†å›°éš¾ï¼›</p>
<p>å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ï¼Œä¸‹é¢å°†ä¼šç»“åˆé«˜çº§å·¥å…·è¿›è¡Œè¯´æ˜ï¼›</p>
<h1 id="format-document-on-save-æ‰©å±•æ’ä»¶">1. Format Document On Save æ‰©å±•æ’ä»¶</h1>
<p>ä¸»è¦ç”¨æˆ·è§£å†³ï¼Œå†ä¿å­˜ä»£ç çš„æ—¶å€™è¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–ï¼›</p>
<p>ä¿å­˜æ“ä½œæ”¯æŒ</p>
<ol type="1">
<li>ctrl+s</li>
<li>vs ide ä¸­ä¿å­˜æŒ‰é’®</li>
</ol>
<h2 id="å®‰è£…è®¾ç½®">1.1 å®‰è£…è®¾ç½®</h2>
<p>æ’ä»¶é“¾æ¥ï¼š<a href="https://marketplace.visualstudio.com/items?itemName=mynkow.FormatdocumentonSave">Format document on Save - Visual Studio Marketplace</a></p>
<p><a href="https://github.com/Elders/VSE-FormatDocumentOnSave">Elders/VSE-FormatDocumentOnSave: Visual Studio - Format Document on Save (github.com)</a></p>
<p>å®‰è£…åï¼Œå¯ä»¥åœ¨ å·¥å…· -&gt; é€‰é¡¹ -&gt; Format Document On Save ä¸­è¿›è¡Œæ ¼å¼åŒ–çš„ä¸€äº›è®¾ç½®ï¼Œæ“ä½œï¼›</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220303120914539.png" alt="image-20220303120914539" /><figcaption aria-hidden="true">image-20220303120914539</figcaption>
</figure>
<p>è®¾ç½®é¡¹æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæœ‰æ³¨é‡Šï¼Œè¿™é‡Œå°±ä¸åœ¨ä¸€ä¸€è¯´æ˜äº†ï¼›</p>
<h2 id="é¡¹ç›®çº§ä½¿ç”¨">1.2 é¡¹ç›®çº§ä½¿ç”¨</h2>
<p>ä¸Šé¢ä»‹ç»çš„ä½¿ç”¨æ–¹æ³•ï¼Œå¯ä»¥æ»¡è¶³ä¸€èˆ¬ä¸ªäººçš„ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨å›¢é˜Ÿå¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªäººçš„è®¾ç½®å¯èƒ½ä¸ä¸€æ ·ï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜èƒ½ï¼Œè¿™é‡Œå°±è¦ä½¿ç”¨åˆ°é¡¹ç›®çº§çš„æ–‡ä»¶æ ¼å¼åŒ–é…ç½® EditConfigã€‚</p>
<p>é¡¹ç›®çº§çš„æ–‡ä»¶æ ¼å¼åŒ–é…ç½® EditConfigï¼Œä¸æ˜¯é’ˆå¯¹æŸä¸ªäººçš„ï¼›å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol type="1">
<li>ä¸€ä¸ªé¡¹ç›®ï¼ˆslnï¼‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼›</li>
<li>é¡¹ç›®é…ç½®çš„ä¼˜å…ˆçº§é«˜äº å·¥å…· -&gt; é€‰é¡¹ -&gt; Format Document On Save æ’ä»¶ä¸­çš„é…ç½®ï¼›</li>
</ol>
<p>è¿™æ ·ï¼Œæœ‰äº†<a href="https://editorconfig.org/">EditorConfig</a> å³ä¾¿å›¢é˜Ÿä¸­çš„äººå‘˜æ’ä»¶è®¾ç½®ä¸ä¸€æ ·ï¼Œä¹Ÿèƒ½ä½¿ç”¨ç›¸åŒçš„æ ¼å¼åŒ–é…ç½®ï¼›</p>
<p>æœ‰å…³ <a href="https://editorconfig.org/">EditorConfig</a> çš„è¯¦ç»†ä¿¡æ¯å¯ä»¥æŸ¥çœ‹é“¾æ¥ï¼Œè¿™é‡Œä¸è¯¦ç»†è¯´æ˜äº†ã€‚</p>
<p>æœ‰äº†è¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥å¾ˆå¥½çš„è§£å†³ 99% çš„ä»£ç æ ¼å¼é—®é¢˜ï¼Œå”¯ä¸€ä¾‹å¤–çš„å°±æ˜¯ xaml æ–‡ä»¶ä¸èƒ½æ ¼å¼åŒ–ï¼Œè¿™ä¸ªä¼šåœ¨ä¸‹é¢å•ç‹¬è¯´æ˜ã€‚</p>
<h1 id="xaml-styler-æ‰©å±•æ’ä»¶">2. XAML Styler æ‰©å±•æ’ä»¶</h1>
<p>åœ¨ .Net å¼€å‘ä¸­ï¼Œæœ‰ä¸€ç§ç‰¹æ®Šçš„ä»£ç æ–‡ä»¶ï¼šXAMLï¼Œæ˜¯å‰é¢è®²çš„ä»£ç æ ¼å¼åŒ–æ’ä»¶æ‰€ä¸èƒ½æ ¼å¼çš„ï¼›</p>
<p>è€Œ XAML Styler å°±æ˜¯ä¸“é—¨é’ˆå¯¹ xaml æ–‡ä»¶è¿›è¡Œæ ¼å¼åŒ–ï¼Œè¿™ä¸€ç‚¹ä»åå­—ä¸Šå°±èƒ½çœ‹å‡ºæ¥ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.cnblogs.com/dino623/p/XAML_Styler.html">ä½¿ç”¨ XAML æ ¼å¼åŒ–å·¥å…·ï¼šXAML Styler - dino.c - åšå®¢å›­ (cnblogs.com)</a></p>
<h2 id="xaml-çš„é—®é¢˜">2.1 XAML çš„é—®é¢˜</h2>
<p>XAML æ ¼å¼åŒ–ä¸»è¦çš„éš¾é¢˜æ˜¯ä¸‹é¢å‡ ä¸ªï¼š</p>
<ul>
<li>å¦‚æœæ‰€æœ‰å±æ€§éƒ½å†™åœ¨åŒä¸€è¡Œï¼Œå®ƒå¤ªå®½äº†å¾ˆéš¾çœ‹åˆ°åé¢çš„å±æ€§</li>
<li>å¦‚æœæ¯ä¸ªå±æ€§å•ç‹¬ä¸€è¡Œï¼Œå®ƒåˆå¤ªé•¿äº†å¾ˆéš¾çœ‹æ¸…æ¥šå®ƒçš„ç»“æ„</li>
<li>å±æ€§ä¹‹é—´æ²¡æœ‰æ’åºï¼Œé‡è¦å±æ€§çš„å±æ€§æ‰¾èµ·æ¥å¾ˆå›°éš¾</li>
<li>å›¢é˜Ÿæ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œä¸å°å¿ƒæ ¼å¼åŒ–ä¸€ä¸‹ä»£ç çš„è¯å…¨éƒ¨éƒ½ä¼šå˜ï¼ŒCodeReview çƒ¦æ­»äºº</li>
</ul>
<p>å¦‚æœä¸æƒ³å¾—è¿‡ä¸”è¿‡å¿å—ä¸Šè¿°è¿™äº›é—®é¢˜çš„è¯ï¼Œå¯ä»¥è¯•è¯•ç”¨ XAML Styler è¿™ä¸ªå·¥å…·ï¼Œå®ƒæ­£å¥½è§£å†³äº†è¿™äº›é—®é¢˜ã€‚</p>
<h2 id="å®‰è£…ä½¿ç”¨">2.2 å®‰è£…ä½¿ç”¨</h2>
<p>XAML Styler æ˜¯ä¸€ä¸ª VisualStudioæ’ä»¶ï¼ˆä¹Ÿå¯ç”¨äºå…¶å®ƒ IDEï¼‰ï¼Œè¿™æ˜¯å®ƒåœ¨ Visual Studio Marketplace å’Œ Github ä¸Šçš„åœ°å€ï¼š</p>
<p><a href="https://marketplace.visualstudio.com/items?itemName=NicoVermeir.XAMLStyler">XAML Styler - Visual Studio Marketplace</a></p>
<p><a href="https://github.com/Xavalon/XamlStyler">Xavalon/XamlStyler: Visual Studio extension to help format your XAML source code (github.com)</a></p>
<p><a href="https://github.com/Xavalon/XamlStyler/wiki">Home Â· Xavalon/XamlStyler Wiki (github.com)</a></p>
<p>åœ¨ VisualStudio çš„ç®¡ç†æ‰©å±•çª—å£ä¸­ï¼Œè¾“å…¥ XamlStyle æœç´¢ï¼Œç‚¹å‡»â€œä¸‹è½½â€ç„¶åå…³é—­ VisualStudio å³å¯å®Œæˆå®‰è£…ã€‚</p>
<p>å…·ä½“å®‰è£…æ­¥éª¤ä¸åœ¨è¿™é‡Œè¯´æ˜äº†ã€‚</p>
<p>å®‰è£…å®Œæˆåé‡å¯ Visual Studioï¼Œå¯ä»¥åœ¨â€œé€‰é¡¹â€çª—å£ä¸­çœ‹åˆ°å®ƒçš„é…ç½®ï¼š</p>
<p><a href="https://img2020.cnblogs.com/blog/38937/202101/38937-20210120232810578-324783095.png"><img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/38937-20210120232810578-324783095.png" alt="img" /></a></p>
<p>ä¹‹åï¼Œæ¯æ¬¡åœ¨ XAML ç¼–è¾‘å™¨ä¸­æ‰§è¡Œä¿å­˜éƒ½ä¼šè‡ªåŠ¨è¿›è¡Œæ ¼å¼åŒ–æ“ä½œã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ XAML ç¼–è¾‘å™¨çš„å³é”®èœå•é€‰æ‹© Format XAML æˆ–ä½¿ç”¨å¿«æ·é”®è¿›è¡Œæ ¼å¼åŒ–ã€‚</p>
<h2 id="å…³é”®æ ¼å¼åŒ–è®¾ç½®é¡¹è¯´æ˜">2.3 å…³é”®æ ¼å¼åŒ–è®¾ç½®é¡¹è¯´æ˜</h2>
<p>XAML çš„æ ¼å¼ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼šæ‰€æœ‰å±æ€§æ”¾ä¸€è¡Œå’Œæ¯ä¸ªå±æ€§å•ç‹¬ä¸€è¡Œã€‚</p>
<p>å¦‚æœé€‰æ‹©æ‰€æœ‰å±æ€§æ”¾ä¸€è¡Œçš„æ—¶å€™ï¼ŒXAML ç»“æ„æ¸…æ™°ï¼Œç»“æ„ä¸¥è°¨ï¼Œæ®µè½åˆ†æ˜ï¼Œè€Œä¸”æ–‡ä»¶ä¹Ÿå¾ˆçŸ­ã€‚</p>
<p>å¯æ˜¯ä¸‡ä¸€å¾ˆå¤šå±æ€§é—®é¢˜å°±å‡ºæ¥äº†ï¼Œä¸€è¡Œ XAML ä¼šå˜å¾—å¾ˆé•¿ã€‚è€Œä¸”çœ‹çœ‹ä¸‹é¢ä¸¤ä¸ª ContentPresenterï¼ŒåŒæ ·éƒ½æœ‰ Margin å±æ€§ã€HorizontalAlignment å±æ€§ï¼ŒVerticalAlignment å±æ€§ï¼ŒRecognizesAccessKey å±æ€§ï¼ŒSnapsToDevicePixels é¡ºåºingï¼Œä½†ä½ èƒ½çœ‹åˆ°ç¬¬äºŒä¸ª ContentPresenter åé¢å·å·å¡äº†ä¸ª Margin å—ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">Copy<span class="tag">&lt;<span class="name">ContentPresenter</span> <span class="attr">Margin</span>=<span class="string">&quot;&#123;TemplateBinding Padding&#125;&quot;</span> <span class="attr">HorizontalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding HorizontalContentAlignment&#125;&quot;</span> <span class="attr">VerticalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding VerticalContentAlignment&#125;&quot;</span> <span class="attr">RecognizesAccessKey</span>=<span class="string">&quot;True&quot;</span> <span class="attr">SnapsToDevicePixels</span>=<span class="string">&quot;&#123;TemplateBinding SnapsToDevicePixels&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ContentPresenter</span> <span class="attr">Margin</span>=<span class="string">&quot;&#123;TemplateBinding Padding&#125;&quot;</span> <span class="attr">HorizontalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding HorizontalContentAlignment&#125;&quot;</span> <span class="attr">VerticalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding VerticalContentAlignment&#125;&quot;</span> <span class="attr">RecognizesAccessKey</span>=<span class="string">&quot;True&quot;</span> <span class="attr">SnapsToDevicePixels</span>=<span class="string">&quot;&#123;TemplateBinding SnapsToDevicePixels&#125;&quot;</span> <span class="attr">Margin</span>=<span class="string">&quot;40&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœåœ¨ VisualStudio ä¸­â€œæ–‡æœ¬ç¼–è¾‘å™¨-&gt;XAML-&gt;æ ¼å¼åŒ–-&gt;é—´è·-&gt;ç‰¹æ€§é—´è·â€è¿™ä¸ªé€‰é¡¹ä¸­é€‰æ‹©äº†â€œå°†å„ä¸ªå±æ€§åˆ†åˆ«æ”¾ç½®â€ï¼š</p>
<p><a href="https://img2020.cnblogs.com/blog/38937/202101/38937-20210120232837859-1653416211.png"><img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/38937-20210120232837859-1653416211.png" alt="img" /></a></p>
<p>æ ¼å¼åŒ–æ–‡æ¡£åä¸Šé¢çš„ XAML å°±ä¼šå˜æˆè¿™æ ·ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ContentPresenter</span> <span class="attr">Margin</span>=<span class="string">&quot;&#123;TemplateBinding Padding&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">HorizontalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding HorizontalContentAlignment&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">VerticalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding VerticalContentAlignment&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">RecognizesAccessKey</span>=<span class="string">&quot;True&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">SnapsToDevicePixels</span>=<span class="string">&quot;&#123;TemplateBinding SnapsToDevicePixels&#125;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ContentPresenter</span> <span class="attr">Margin</span>=<span class="string">&quot;&#123;TemplateBinding Padding&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">HorizontalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding HorizontalContentAlignment&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">VerticalAlignment</span>=<span class="string">&quot;&#123;TemplateBinding VerticalContentAlignment&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">RecognizesAccessKey</span>=<span class="string">&quot;True&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">SnapsToDevicePixels</span>=<span class="string">&quot;&#123;TemplateBinding SnapsToDevicePixels&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">Margin</span>=<span class="string">&quot;40&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ªå±æ€§å•ç‹¬ä¸€è¡Œä¸ä»…ä¸ä¼šçœ‹æ¼å±æ€§ï¼Œè€Œä¸”ç¼–è¾‘å™¨æœ¬èº«ä¹Ÿä¸ä¼šæœ‰æ¨ªå‘å’Œçºµå‘ä¸¤ç§æ–¹å‘çš„ç§»åŠ¨ï¼Œåªæœ‰ä»ä¸Šåˆ°ä¸‹çš„ç§»åŠ¨ï¼Œè¿™å°±èˆ’æœå¤šäº†ã€‚</p>
<p>å¯æ˜¯å¤§éƒ¨åˆ†æƒ…å†µä¸‹æ¯ä¸ªå±æ€§åˆ†è¡Œæ”¾ç½®ä¼šç ´ååŸæœ¬æ¸…æ™°çš„ XAML å±‚æ¬¡ç»“æ„ï¼Œä¾‹å¦‚ä¸‹é¢è¿™ç§æœ¬æ¥å¥½å¥½çš„ XAML:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;FontWeight&quot;</span> <span class="attr">Value</span>=<span class="string">&quot;Normal&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;UseSystemFocusVisuals&quot;</span> <span class="attr">Value</span>=<span class="string">&quot;True&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;FocusVisualMargin&quot;</span> <span class="attr">Value</span>=<span class="string">&quot;-3&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;Height&quot;</span> <span class="attr">Value</span>=<span class="string">&quot;50&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;Width&quot;</span> <span class="attr">Value</span>=<span class="string">&quot;50&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;Maximum&quot;</span> <span class="attr">Value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>å˜æˆè¿™æ ·ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;FontWeight&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Value</span>=<span class="string">&quot;Normal&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;UseSystemFocusVisuals&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Value</span>=<span class="string">&quot;True&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;FocusVisualMargin&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Value</span>=<span class="string">&quot;-3&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;Height&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Value</span>=<span class="string">&quot;50&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;Width&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Value</span>=<span class="string">&quot;50&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Setter</span> <span class="attr">Property</span>=<span class="string">&quot;Maximum&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Value</span>=<span class="string">&quot;1&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§é£æ ¼ä¼˜é›…å¾—åƒè¯—æ­Œ æˆ‘å¶å°”ç§°ä¸ºè±†ç“£é£ ä¸€è¡Œå˜ä¸¤è¡Œ ä¸¤è¡Œå˜å››è¡Œ æœ¬æ¥ ä¸€é¡µçœ‹å¾—å®Œ çš„ä»£ç  å˜æˆ ä¸¤é¡µæ‰çœ‹å¾—å®Œ ä¹Ÿæ˜¯å¤Ÿ éº»çƒ¦çš„ã€‚</p>
<p>XAML Styler å¾ˆå¥½åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒé€šè¿‡ â€œAttribute toleranceâ€ å±æ€§æ§åˆ¶æ¯ä¸€è¡Œçš„å®¹è®¸çš„æœ€å¤šçš„å±æ€§æ•°é‡ï¼Œå¦‚æœä¸€ä¸ªå…ƒç´ çš„å±æ€§æ•°é‡å°‘äºè®¾å®šå€¼ï¼Œé‚£å°±æ”¾åœ¨ä¸€è¡Œï¼Œå¦‚æœè¶…è¿‡å°±æ‰€æœ‰å±æ€§å•ç‹¬ä¸€è¡Œã€‚é€šå¸¸æˆ‘å°†è¿™ä¸ªå±æ€§è®¾ç½®ä¸º <code>2</code>ï¼Œå†é…åˆ â€œKeep first attribute on same line = trueâ€ çš„è®¾ç½®ï¼Œå¯ä»¥åšåˆ°ä¸‹é¢è¿™ç§æ ¼å¼åŒ–æ•ˆæœï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">SolidColorBrush</span> <span class="attr">x:Key</span>=<span class="string">&quot;NormalTextColor&quot;</span> <span class="attr">Color</span>=<span class="string">&quot;#2E2F33&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">SolidColorBrush</span> <span class="attr">x:Key</span>=<span class="string">&quot;PrimaryColor&quot;</span> <span class="attr">Color</span>=<span class="string">&quot;#FFED5B8C&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">SolidColorBrush</span> <span class="attr">x:Key</span>=<span class="string">&quot;LineColor&quot;</span> <span class="attr">Color</span>=<span class="string">&quot;#E1E1E1&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">SolidColorBrush</span> <span class="attr">x:Key</span>=<span class="string">&quot;TransparentBackground&quot;</span> <span class="attr">Color</span>=<span class="string">&quot;Transparent&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ControlTemplate</span> <span class="attr">x:Key</span>=<span class="string">&quot;CompletedTemplate&quot;</span> <span class="attr">TargetType</span>=<span class="string">&quot;ContentControl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Grid</span> <span class="attr">x:Name</span>=<span class="string">&quot;CompletedElement&quot;</span> <span class="attr">Margin</span>=<span class="string">&quot;-2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">control:DropShadowPanel</span> <span class="attr">HorizontalContentAlignment</span>=<span class="string">&quot;Stretch&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">VerticalContentAlignment</span>=<span class="string">&quot;Stretch&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">BlurRadius</span>=<span class="string">&quot;8&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">OffsetX</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">OffsetY</span>=<span class="string">&quot;0&quot;</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">Color</span>=<span class="string">&quot;#FFED5B8C&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Ellipse</span> <span class="attr">x:Name</span>=<span class="string">&quot;CompletedRectangle&quot;</span> <span class="attr">Fill</span>=<span class="string">&quot;&#123;StaticResource PrimaryColor&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">control:DropShadowPanel</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">Grid</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ControlTemplate</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¯ä»¥å…¼é¡¾ä¸¤ç§æ ¼å¼åŒ–çš„ä¼˜ç‚¹ã€‚</p>
<h2 id="æ’åº">2.4 æ’åº</h2>
<p>å¦‚æœå…ƒç´ æœ‰å¤šä¸ªå±æ€§ï¼Œè¦æ‰¾åˆ°å®ƒçš„ä¸»è¦å±æ€§ï¼ˆé€šå¸¸æ˜¯ Name å’Œ Grid.Rowï¼‰éœ€è¦é¢‡è´¹ä¸€ç•ªåŠŸå¤«ã€‚XAML Styler æ ¹æ®ä¸€ä¸ªå¯è®¾å®šçš„è§„åˆ™è‡ªåŠ¨å°†å…ƒç´ çš„å„ä¸ªå±æ€§æ’åºï¼Œè¿™ä¸ªè§„åˆ™å¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;AttributeOrderingRuleGroups&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;x:Class&quot;</span>,</span><br><span class="line">    <span class="string">&quot;xmlns, xmlns:x&quot;</span>,</span><br><span class="line">    <span class="string">&quot;xmlns:*&quot;</span>,</span><br><span class="line">    <span class="string">&quot;x:Key, Key, x:Name, Name, x:Uid, Uid, Title&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Grid.Row, Grid.RowSpan, Grid.Column, Grid.ColumnSpan, Canvas.Left, Canvas.Top, Canvas.Right, Canvas.Bottom&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Width, Height, MinWidth, MinHeight, MaxWidth, MaxHeight&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Margin, Padding, HorizontalAlignment, VerticalAlignment, HorizontalContentAlignment, VerticalContentAlignment, Panel.ZIndex&quot;</span>,</span><br><span class="line">    <span class="string">&quot;*:*, *&quot;</span>,</span><br><span class="line">    <span class="string">&quot;PageSource, PageIndex, Offset, Color, TargetName, Property, Value, StartPoint, EndPoint&quot;</span>,</span><br><span class="line">    <span class="string">&quot;mc:Ignorable, d:IsDataSource, d:LayoutOverrides, d:IsStaticText&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Storyboard.*, From, To, Duration&quot;</span></span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>æ’åºç»“æœå¤§è‡´å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Button</span> <span class="attr">x:Name</span>=<span class="string">&quot;Show&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Grid.Row</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Padding</span>=<span class="string">&quot;40,20&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">HorizontalAlignment</span>=<span class="string">&quot;Center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">VerticalAlignment</span>=<span class="string">&quot;Center&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Background</span>=<span class="string">&quot;#00aef1&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Content</span>=<span class="string">&quot;Show&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Foreground</span>=<span class="string">&quot;White&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">Style</span>=<span class="string">&quot;&#123;StaticResource BubbleButtonStyle&#125;&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="é¡¹ç›®çº§ä½¿ç”¨-1">2.5 é¡¹ç›®çº§ä½¿ç”¨</h2>
<p>æœ€åï¼Œå°±ç®—è‡ªå·±åšå¥½äº†æ ¼å¼åŒ–ï¼Œå›¢é˜Ÿä¸­çš„å…¶å®ƒæˆå‘˜ä½¿ç”¨äº†ä¸åŒçš„æ ¼å¼åŒ–æ ‡å‡†ä¹Ÿä¼šå¼•èµ·å¾ˆå¤šé—®é¢˜ã€‚é’ˆå¯¹è¿™ä¸ªé—®é¢˜ Xaml Styler ä¹Ÿæä¾›äº†è§£å†³æ–¹æ¡ˆã€‚</p>
<p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªåä¸ºâ€œSettings.XamlStylerâ€çš„æ–‡ä»¶ï¼Œå†…å®¹å‚è€ƒè¿™ä¸ªç½‘å€ï¼šhttps://github.com/Xavalon/XamlStyler/wiki/External-Configurations ä¸­çš„ <strong>Default Configuration</strong>ã€‚æœ‰äº†è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼ŒXAML Styler å°±ä¼šæ ¹æ®å®ƒè€Œä¸æ˜¯å…¨å±€é…ç½®è¿›è¡Œæ ¼å¼åŒ–ï¼Œä½œä¸ºé¡¹ç›®çš„ç»Ÿä¸€æ ¼å¼åŒ–æ ‡å‡†ã€‚</p>
<h2 id="ctrls-ä¿å­˜æ—¶çš„å†²çªé—®é¢˜è§£å†³">2.6 ctrl+s ä¿å­˜æ—¶çš„å†²çªé—®é¢˜è§£å†³</h2>
<p>è®¾ç½®å®Œè¿™ä¸¤ä¸ªæ’ä»¶åï¼Œåœ¨å®é™…ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå‘ç°ï¼šåœ¨ä½¿ç”¨ ctrl + s ä¿å­˜çš„æ—¶å€™ä¼šè¾¾ä¸åˆ°æ•ˆæœ</p>
<h3 id="ç°è±¡åˆ†æ">ç°è±¡åˆ†æ</h3>
<p>åœ¨ xaml ä¸­æŒ‰ ctrl + s ä¿å­˜çš„æ—¶å€™ï¼Œä»”ç»†æŸ¥çœ‹ç”»é¢ï¼Œä¼šå‘ç° xaml æ–‡ä»¶è¢«ä¿å­˜äº†ä¸¤æ¬¡ï¼Œè€Œä¸”ç¬¬ä¸€ä¸€é—ªè€Œè¿‡çš„ç»“æœå¥½åƒè¿˜æ˜¯æ­£ç¡®çš„ï¼Œæœ€åˆå‘ˆç°çš„ç¬¬äºŒæ¬¡ä¿å­˜è§£å†³å´ä¸å¯¹äº†ï¼Œ</p>
<h3 id="åŸå› åˆ†æ">åŸå› åˆ†æ</h3>
<p>æ ¹æ®ç°è±¡å¯ä»¥åˆ†æå‡ºæ¥ï¼Œä¸æ­¢ä¸€ä¸ªæ’ä»¶è§¦å‘äº†xaml çš„ä¿å­˜æ“ä½œï¼Œé‚£ä¸ªæ£ä¹±è€…æ˜¯è°ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°æ˜¯ Format Document On Save</p>
<h3 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h3>
<p>ä»ç°è±¡ä¸­æˆ‘ä»¬çœ‹åˆ°ï¼Œä¿å­˜äº†ä¸¤æ¬¡å¯¼è‡´è§£ç»“æœä¸å¯¹ï¼›</p>
<p>é‚£ä¹ˆå°±æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p>
<ol type="1">
<li>è®© xaml styler æœ€åä¿å­˜ï¼Œ</li>
<li>ä¸ç„¶ Format Document On Save ä¿å­˜ xamlï¼›</li>
</ol>
<p>æ–¹æ¡ˆ 1 æˆ‘ä»¬æ— æ³•æ§åˆ¶ä¿å­˜é¡ºåºï¼Œæš‚æ—¶æ— è§£ï¼›</p>
<p>æ–¹æ¡ˆ 2 å¦‚æœæˆ‘ä»¬åœ¨è®¾ç½®ä¸­å¯ä»¥è®¾ç½® ä¸å­˜åœ¨ xaml æ–‡ä»¶å°±å¯ä»¥äº†ï¼Œæˆ–è®¸å¯è¡Œ</p>
<p>æ‰“å¼€ Format Document On Save è®¾ç½®ä¿¡æ¯ï¼Œæˆ‘ä»¬ä»”ç»†æŸ¥çœ‹ï¼Œæœ‰ä¸€ä¸ªå« <strong>Denied Extensions</strong> çš„è®¾ç½®é¡¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒè®¾ç½®ä¸æ ¼å¼åŒ– xaml æ–‡ä»¶ï¼Œè®¾ç½®åè¯•äº†ä¸€äº›ï¼Œä¾ç„¶è¾¾ä¸åˆ°æ•ˆæœï¼ŒæŸ¥çœ‹é‚£é‡Œé™¤äº†é—®é¢˜ï¼Œä»”ç»†çœ‹ <strong>Denied Extensions</strong> è®¾ç½®é¡¹çš„è¯´æ˜å‘ç°ï¼š</p>
<p><strong>Denied Extensions</strong> è®¾ç½®é¡¹ï¼Œåªæœ‰åœ¨ <strong>Allowed Extensions</strong> è®¾ç½®é¡¹ä¸ºç©ºçš„æƒ…å†µä¸‹æ‰èƒ½ç”Ÿæ•ˆï¼Œäºæ˜¯èµ¶ç´§åˆ é™¤è¯•ä¸€ä¸‹ï¼Œæœç„¶æˆåŠŸäº†ã€‚</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
        <category>VisualStudio</category>
      </categories>
      <tags>
        <tag>VisualStudio</tag>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>WPF çª—å£æ§ä»¶é»˜è®¤é”®ç›˜ç„¦ç‚¹è®¾ç½®</title>
    <url>/2022/03/14/WPF-%E7%AA%97%E5%8F%A3%E6%8E%A7%E4%BB%B6%E9%BB%98%E8%AE%A4%E9%94%AE%E7%9B%98%E7%84%A6%E7%82%B9%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<p>å¤§å®¶ç»å¸¸èƒ½å¤Ÿçœ‹åˆ° WPF çª—å£åŠ è½½æ˜¾ç¤ºåï¼Œç”¨æˆ·æŒ‰ Tab é”®ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªæ§ä»·è·å¾—ç„¦ç‚¹ï¼Œå¦‚æœè¿™ä¸ªæ§ä»¶æ˜¯ Buttonï¼Œé‚£ä¹ˆè¡¨ç°ä¸ºï¼šåœ¨ Button æ–‡æœ¬å‘¨å›´æœ‰ä¸ªè™šçº¿æ¡†ï¼›å¦‚æœæ˜¯ TextBoxï¼Œé‚£ä¹ˆè¡¨ç°ä¸ºï¼šåœ¨ TextBox å†…éƒ¨ä¼šæœ‰å…‰æ ‡åœ¨é—ªçƒã€‚é‚£ä¹ˆå¦‚ä½•åœ¨ View åŠ è½½åè®¾ç½®é»˜è®¤æ˜¾ç¤ºè¿™ä¸ªæ•ˆæœï¼Œæœ¬æ–‡å°†ä¼šè¯´æ˜ã€‚</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220314142837858.png" alt="image-20220314142837858" /><figcaption aria-hidden="true">image-20220314142837858</figcaption>
</figure>
<span id="more"></span>
<h1 id="ä¸€å…³äº-ç„¦ç‚¹-çš„-åŸºæœ¬çŸ¥è¯†">ä¸€ã€å…³äº ç„¦ç‚¹ çš„ åŸºæœ¬çŸ¥è¯†</h1>
<p><a href="https://docs.microsoft.com/zh-cn/dotnet/desktop/wpf/advanced/focus-overview?view=netframeworkdesktop-4.8">ç„¦ç‚¹æ¦‚è¿° - WPF .NET Framework | Microsoft Docs</a></p>
<p><a href="https://docs.microsoft.com/zh-cn/dotnet/desktop/wpf/advanced/styling-for-focus-in-controls-and-focusvisualstyle?redirectedfrom=MSDN&amp;view=netframeworkdesktop-4.8">ä¸ºæ§ä»¶ä¸­çš„ç„¦ç‚¹è®¾ç½®æ ·å¼ä»¥åŠ FocusVisualStyle - WPF .NET Framework | Microsoft Docs</a></p>
<p>ä¸¤ç§ç„¦ç‚¹ï¼š</p>
<ol type="1">
<li>é”®ç›˜ç„¦ç‚¹</li>
<li>é€»è¾‘ç„¦ç‚¹</li>
</ol>
<p>è¿™é‡Œæœ‰ä¸€æ®µè¯æ˜ç¡®è¯´æ˜äº†è™šçº¿æ¡†æ˜¯é”®ç›˜ç„¦ç‚¹çš„ç”±æ¥</p>
<blockquote>
<p><em>Focus visual styles act only when the focus action was initiated by the keyboard. Any mouse action or programmatic focus change disables the mode for focus visual styles.</em></p>
</blockquote>
<p>æ„æ€æ˜¯ï¼šè™šçº¿æ¡†è¿™ç§ç„¦ç‚¹æ•ˆæœï¼Œåªèƒ½é€šè¿‡æŒ‰ Tab é”®è¿›è¡Œè§¦å‘</p>
<h1 id="äºŒå®ç°æ–¹æ¡ˆ">äºŒã€å®ç°æ–¹æ¡ˆ</h1>
<p>æ˜ç™½äº†ç„¦ç‚¹æ•ˆæœäº§ç”Ÿçš„ç¼˜ç”±ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ€è€ƒå¦‚ä½•å®ç°</p>
<p>è¿™é‡Œä¸»è¦ä»‹ç»å¦‚ä¸‹å®ç°æ–¹å¼ï¼›</p>
<h2 id="æ¨¡æ‹ŸæŒ‰é”®å®ç°">2.1 æ¨¡æ‹ŸæŒ‰é”®å®ç°</h2>
<p>æ—¢ç„¶åªèƒ½é€šè¿‡æŒ‰ Tab é”®è§¦å‘äº§ç”Ÿæƒ³è¦çš„æ•ˆæœï¼Œæœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯ï¼š</p>
<p>åœ¨ View åŠ è½½åï¼Œé€šè¿‡ç¼–ç å®ç°æ¨¡æ‹Ÿç”¨æˆ·æŒ‰é”®åˆ°è¾¾æƒ³è¦çš„é”®ç›˜ç„¦ç‚¹æ•ˆæœï¼›</p>
<p>å…·ä½“å®ç°æ–¹å¼ç¼–ç ï¼Œå¯ä»¥é€šè¿‡ PInvoke SendInput å®ç°ï¼Œ</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å°è£…å¥½çš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œ<a href="https://www.nuget.org/packages/InputSimulator/">NuGet Gallery | InputSimulator 1.0.4</a></p>
<p>ç¼ºç‚¹ï¼š</p>
<p>è¦æå‰è®¡ç®—å¥½è¦æŒ‰å‡ æ¬¡æ‰èƒ½è¾¾åˆ°æŒ‡å®šçš„æ§ä»¶ï¼›</p>
<h2 id="é‡å†™é”®ç›˜ç„¦ç‚¹æ ·å¼">2.2 é‡å†™é”®ç›˜ç„¦ç‚¹æ ·å¼</h2>
<p>åœ¨ç¬¬ä¸€ç« èŠ‚ä¸­äº†è§£äº†ï¼šæƒ³è¦çš„æ ·å¼æ˜¯é€šè¿‡é‚£ç§ Style æ§åˆ¶äº§ç”Ÿçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é‡æ–°å®ç°ä¸€ç§æ–°çš„æ ·å¼ï¼Œé»˜è®¤æ˜¾ç¤ºæˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚</p>
<p>ç¡®å®šï¼š</p>
<p>å¤æ‚ï¼Œéœ€è¦é‡å†™æƒ³è¿‡æ§ä»¶çš„æ ·å¼</p>
<h2 id="è¾…åŠ©æ–¹æ³•å®ç°">2.3 è¾…åŠ©æ–¹æ³•å®ç°</h2>
<p>é€šè¿‡åå°„çš„æ–¹æ³•ï¼Œè°ƒç”¨ ShowFocusVisual Internal æ–¹æ³•å®ç°ã€‚</p>
<p>ç¬”è€…ç”¨çš„å°±æ˜¯è¿™ç§æ–¹æ³•ï¼Œå› ä¸ºæˆ‘çš„éœ€è¦æ²¡æœ‰å¤æ‚çš„æ ·å¼è¦æ±‚ï¼Œåªéœ€è¦æ˜¾ç¤ºé»˜è®¤çš„é”®ç›˜ç„¦ç‚¹æ ·å¼å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">public sealed class KeyboardHelper</span><br><span class="line">&#123;</span><br><span class="line">    private static KeyboardHelper _Instance;</span><br><span class="line"></span><br><span class="line">    private readonly PropertyInfo _AlwaysShowFocusVisual;</span><br><span class="line">    private readonly MethodInfo _ShowFocusVisual;</span><br><span class="line"></span><br><span class="line">    // Explicit static constructor to tell C# compiler</span><br><span class="line">    // not to mark type as beforefieldinit</span><br><span class="line">    static KeyboardHelper()</span><br><span class="line">    &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private KeyboardHelper()</span><br><span class="line">    &#123;</span><br><span class="line">        var type = typeof(KeyboardNavigation);</span><br><span class="line"></span><br><span class="line">        _AlwaysShowFocusVisual = type.GetProperty(&quot;AlwaysShowFocusVisual&quot;, BindingFlags.NonPublic | BindingFlags.Static);</span><br><span class="line">        _ShowFocusVisual = type.GetMethod(&quot;ShowFocusVisual&quot;, BindingFlags.NonPublic | BindingFlags.Static);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    internal static KeyboardHelper Instance =&gt; _Instance ?? (_Instance = new KeyboardHelper());</span><br><span class="line"></span><br><span class="line">    internal void ShowFocusVisualInternal()</span><br><span class="line">    &#123;</span><br><span class="line">        _ShowFocusVisual.Invoke(null, null);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    internal bool AlwaysShowFocusVisualInternal</span><br><span class="line">    &#123;</span><br><span class="line">        get &#123; return (bool)_AlwaysShowFocusVisual.GetValue(null, null); &#125;</span><br><span class="line">        set &#123; _AlwaysShowFocusVisual.SetValue(null, value, null); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void Focus(UIElement element)</span><br><span class="line">    &#123;</span><br><span class="line">        element?.Dispatcher.BeginInvoke(DispatcherPriority.Background, new Action(() =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            var keybHack = KeyboardHelper.Instance;</span><br><span class="line">            var oldValue = keybHack.AlwaysShowFocusVisualInternal;</span><br><span class="line"></span><br><span class="line">            keybHack.AlwaysShowFocusVisualInternal = true;</span><br><span class="line"></span><br><span class="line">            try</span><br><span class="line">            &#123;</span><br><span class="line">                Keyboard.Focus(element);</span><br><span class="line">                keybHack.ShowFocusVisualInternal();</span><br><span class="line">            &#125;</span><br><span class="line">            finally</span><br><span class="line">            &#123;</span><br><span class="line">               keybHack.AlwaysShowFocusVisualInternal = oldValue;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–¹æ³•: åœ¨æ„é€ æ–¹æ³•ä¸­çš„ InitializeComponent æ–¹æ³• æˆ–è€… Loaded åæ·»åŠ ä¸‹æ–¹ä»£ç å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">KeyboardHelper.Focus(this.OkBtn); // Button Name</span><br></pre></td></tr></table></figure>
<p>ç¼ºç‚¹ï¼š</p>
<p>éœ€è¦ä½¿ç”¨æ§ä»¶ Nameï¼›</p>
<h1 id="ä¸‰æ€»ç»“">ä¸‰ã€æ€»ç»“</h1>
<p>è¿™ç¬¬äºŒç« èŠ‚ä¸­ä»‹ç»äº†ä¸‰ç§æ–¹æ³•ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦ï¼Œé€‰æ‹©åˆé€‚çš„æ–¹æ³•</p>
<p>ç¬”è€…é‡‡ç”¨çš„æ˜¯ 2.3 ï¼Œç›®å‰æ²¡æœ‰å‘ç°ä»€ä¹ˆé—®é¢˜ï¼›</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://stackoverflow.com/questions/5468419/wpf-button-to-have-keyboard-focus-dotted-border-around-during-the-startup-or-a/54332878#54332878?newreg=1c1894efcf124154aece9df9df062740">WPF Button to have Keyboard focus (dotted border around) during the startup or activation of window - Stack Overflow</a></p>
<p><a href="https://stackoverflow.com/questions/5400570/how-to-make-checkbox-focus-border-appear-when-calling-checkbox-focus/5401707#5401707">wpf - How to make CheckBox focus border appear when calling CheckBox.Focus()? - Stack Overflow</a></p>
]]></content>
      <categories>
        <category>WPF</category>
      </categories>
      <tags>
        <tag>WPF</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows Terminal é›†æˆ Oh My Posh</title>
    <url>/2021/12/29/Windows-Terminal-%E9%9B%86%E6%88%90-Oh-My-Posh/</url>
    <content><![CDATA[<h1 id="å‡†å¤‡å®‰è£…ç¯å¢ƒ">1. å‡†å¤‡å®‰è£…ç¯å¢ƒ</h1>
<p>Windows Termianl, PowerShell éƒ½å¯ä»¥ä» Microsoft Store ä¸­ä¸‹è½½</p>
<ul>
<li><a href="https://www.microsoft.com/store/productId/9N0DX20HK701">Windows Terminal</a> (Windows è‡ªå¸¦)</li>
<li><a href="https://www.microsoft.com/store/productId/9MZ1SNWT0N5D">PowerShell</a></li>
</ul>
<p>å…·ä½“å®‰è£…è¿™é‡Œä¸åšè¯¦ç»†è¯´æ˜</p>
<span id="more"></span>
<h1 id="å®‰è£…-oh-my-posh">2. å®‰è£… Oh My Posh</h1>
<div class="note info"><p>è¿™é‡Œæ¨èå» Oh My Posh å®˜æ–¹ç½‘ç«™æŸ¥çœ‹æœ€æ–°çš„å®‰è£…æ–¹æ³•ï¼›</p>
<p>ç½‘ä¸Šçš„å¤§éƒ¨åˆ†æ•™ç¨‹ï¼Œå­˜åœ¨æ—¶æ•ˆæ€§é—®é¢˜ï¼Œå› ä¸º Oh My Posh æ˜¯ä¸æ–­æ›´æ–°çš„ï¼Œä¸åŒæ—¶é—´ä¸åŒç‰ˆæœ¬çš„å®‰è£…æ–¹æ³•å¯èƒ½ä¸ä¸€æ ·</p>
<p>å› æ­¤æœç´¢åˆ°çš„äºŒæ‰‹å®‰è£…æ•™ç¨‹ä¸ä¸€å®šä½¿ç”¨ç›®å‰å®‰è£…çš„ä½ </p>
</div>
<p><a href="https://ohmyposh.dev/">Home | Oh My Posh</a></p>
<p><a href="https://ohmyposh.dev/docs/">Introduction | Oh My Posh</a></p>
<h2 id="å‚è€ƒæ–‡æ¡£">2.1 å‚è€ƒæ–‡æ¡£ï¼š</h2>
<p><a href="https://blog.walterlv.com/post/beautify-powershell-like-zsh.html">å°†ç¾åŒ–è¿›è¡Œåˆ°åº•ï¼Œä½¿ç”¨ Oh My Posh æŠŠ PowerShell åšæˆ oh-my-zsh çš„æ ·å­ - walterlv</a></p>
<p><a href="https://zimmergren.net/making-windows-terminal-look-awesome-with-oh-my-posh/">Making Windows Terminal look awesome with oh-my-posh and new fonts. (zimmergren.net)</a></p>
<h2 id="å¯èƒ½ä½¿ç”¨åˆ°çš„å‘½ä»¤">2.2 å¯èƒ½ä½¿ç”¨åˆ°çš„å‘½ä»¤</h2>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹å·²ç»å®‰è£…çš„æ¨¡å—</span></span><br><span class="line">Get-InstalledModule</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å½“å‰ç”¨æˆ·å®‰è£…ä¸€ä¸ªæ¨¡å— ï¼ˆ-Verbose å‚æ•°æ˜¾ç¤ºç»†èŠ‚ï¼‰å…¨å±€ä½¿ç”¨ AllUsers</span> </span><br><span class="line">Install-Module oh-my-posh -Scope CurrentUser -Verbose</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯¼å…¥åŠ è½½ä¸€ä¸ªæ¨¡å— ï¼ˆ-Verbose å‚æ•°æ˜¾ç¤ºç»†èŠ‚ï¼‰</span></span><br><span class="line">Import-Module oh-my-posh -Verbose</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å¸è½½ä¸€ä¸ªæ¨¡å—</span></span><br><span class="line">Uninstall-Module -Name  oh-my-posh</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹ PowerShell å®‰è£…æº Gallery</span></span><br><span class="line">Get-PSRepository</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://docs.microsoft.com/zh-cn/powershell/module/powershellget/install-module?view=powershell-7">Install-Module (PowerShellGet) - PowerShell | Microsoft Docs</a></p>
<p><a href="https://docs.microsoft.com/zh-cn/powershell/module/powershellget/get-psrepository?view=powershell-7">Get-PSRepository (PowerShellGet) - PowerShell | Microsoft Docs</a></p>
<p><a href="https://www.powershellgallery.com/">PowerShell Gallery | Home</a></p>
<h2 id="å­—ä½“é€‰æ‹©">2.3 å­—ä½“é€‰æ‹©</h2>
<p>å®˜æ–¹æ¨è <a href="https://www.nerdfonts.com/font-downloads">Nerd Fonts - Iconic font aggregator, glyphs/icons collection, &amp; fonts patcher</a></p>
<p>ä¸‹è½½è‡ªå®šåå®‰è£…æ–¹æ³•ï¼š</p>
<p>è§£å‹ã€è¿›å…¥å­—ä½“ç›®å½•ã€å…¨é€‰ã€å³é”®ã€å®‰è£… å³å¯</p>
<h1 id="posh-git-å®‰è£…">3. Posh-Git å®‰è£…</h1>
<p><a href="https://github.com/dahlbyk/posh-git">dahlbyk/posh-git: A PowerShell environment for Git (github.com)</a></p>
<p>Posh-Git æä¾›äº†å¼ºå¤§çš„ tab è¡¥å…¨åŠŸèƒ½ï¼Œ å¹¶é’ˆå¯¹æç¤ºç¬¦è¿›è¡Œäº†å¢å¼ºï¼›å¯ä»¥åœ¨ Terminal ä¸­ä½¿ç”¨</p>
<p>å®˜æ–¹æ–‡æ¡£å®‰è£…æ–¹æ³•ï¼š <a href="https://git-scm.com/book/zh/v2/é™„å½•-A%3A-åœ¨å…¶å®ƒç¯å¢ƒä¸­ä½¿ç”¨-Git-Git-åœ¨-PowerShell-ä¸­ä½¿ç”¨-Git">Git - Git åœ¨ PowerShell ä¸­ä½¿ç”¨ Git (git-scm.com)</a></p>
<figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span> <span class="literal">-Scope</span> CurrentUser <span class="literal">-Force</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸åšè¯¦ç»†è¯´æ˜</p>
]]></content>
      <categories>
        <category>Termianl</category>
        <category>PowerShell</category>
      </categories>
      <tags>
        <tag>Termianl,PowerShell,Oh-My-Posh</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello Hexo</title>
    <url>/2020/04/12/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="quick-start">Quick Start</h2>
<h3 id="create-a-new-post">Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="run-server">Run server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="generate-static-files">Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="deploy-to-remote-sites">Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Fist Blog</title>
    <url>/2020/04/12/test-my-site/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>!<br />
This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info.<br />
If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>wpf control window èŒƒå›´å†…é»˜è®¤æ ·å¼å¯¹ç¬¬ä¸€ä¸ªæ§ä»¶æ— æ•ˆ</title>
    <url>/2021/12/02/wpf-control-window-%E8%8C%83%E5%9B%B4%E5%86%85%E9%BB%98%E8%AE%A4%E6%A0%B7%E5%BC%8F%E5%AF%B9%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%8E%A7%E4%BB%B6%E6%97%A0%E6%95%88/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°">1ã€é—®é¢˜æè¿°</h2>
<p>wpf é¡µé¢è®¾è®¡ä¸­ï¼Œæœ‰æ—¶å€™åœ¨ xaml æ–‡ä»¶ Resource ä¸­æŒ‡å®š window èŒƒå›´çš„é»˜è®¤ control styleï¼Œä½†æ˜¯å´å‘ç°å¯¹ç¬¬ä¸€ä¸ªæ§ä»¶ä¸èµ·ä½œç”¨ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Window x:Class=&quot;TestApp.TestWindow&quot;</span><br><span class="line">        xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span><br><span class="line">        xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span><br><span class="line">        Title=&quot;TestWindow&quot; Height=&quot;400&quot; Width=&quot;500&quot;</span><br><span class="line">        WindowStyle=&quot;None&quot; WindowState=&quot;Maximized&quot;&gt;</span><br><span class="line">    &lt;Window.Resources&gt;</span><br><span class="line">        &lt;ResourceDictionary&gt;</span><br><span class="line">            &lt;ResourceDictionary.MergedDictionaries&gt;</span><br><span class="line">                &lt;ResourceDictionary Source=&quot;Resources/AllResources.xaml&quot;/&gt;</span><br><span class="line">                &lt;ResourceDictionary&gt;</span><br><span class="line">                    &lt;Style TargetType=&quot;&#123;x:Type Button&#125;&quot;&gt;</span><br><span class="line">                        &lt;Setter Property=&quot;FontSize&quot; Value=&quot;100&quot;/&gt;</span><br><span class="line">                    &lt;/Style&gt;</span><br><span class="line">                &lt;/ResourceDictionary&gt;</span><br><span class="line">            &lt;/ResourceDictionary.MergedDictionaries&gt;</span><br><span class="line">        &lt;/ResourceDictionary&gt;</span><br><span class="line">    &lt;/Window.Resources&gt;</span><br><span class="line">    &lt;Grid&gt;</span><br><span class="line">        &lt;Grid.ColumnDefinitions&gt;</span><br><span class="line">            &lt;ColumnDefinition/&gt;</span><br><span class="line">            &lt;ColumnDefinition/&gt;</span><br><span class="line">        &lt;/Grid.ColumnDefinitions&gt;</span><br><span class="line">        &lt;Button Grid.Column=&quot;0&quot; Content=&quot;1&quot; Name=&quot;Button1&quot;/&gt;</span><br><span class="line">        &lt;Button Grid.Column=&quot;1&quot; Content=&quot;2&quot; Name=&quot;Button2&quot;/&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/Window&gt;</span><br></pre></td></tr></table></figure>
<p>button1 çš„ FontSize å¹¶ä¸æ˜¯ 100ï¼›ä½†æ˜¯ button2 å´æ²¡é—®é¢˜ï¼›</p>
<p>é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ˜¯æ²¡é—®é¢˜çš„ï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Window x:Class=&quot;TestApp.TestWindow&quot;</span><br><span class="line">        xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span><br><span class="line">        xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span><br><span class="line">        Title=&quot;TestWindow&quot; Height=&quot;400&quot; Width=&quot;500&quot;</span><br><span class="line">        WindowStyle=&quot;None&quot; WindowState=&quot;Maximized&quot;&gt;</span><br><span class="line">    &lt;Window.Resources&gt;</span><br><span class="line">        &lt;Style TargetType=&quot;&#123;x:Type Button&#125;&quot;&gt;</span><br><span class="line">            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;100&quot;/&gt;</span><br><span class="line">        &lt;/Style&gt;</span><br><span class="line">    &lt;/Window.Resources&gt;</span><br><span class="line">    &lt;Grid&gt;</span><br><span class="line">        &lt;Grid.ColumnDefinitions&gt;</span><br><span class="line">            &lt;ColumnDefinition/&gt;</span><br><span class="line">            &lt;ColumnDefinition/&gt;</span><br><span class="line">        &lt;/Grid.ColumnDefinitions&gt;</span><br><span class="line">        &lt;Button Grid.Column=&quot;0&quot; Content=&quot;1&quot; Name=&quot;Button1&quot;/&gt;</span><br><span class="line">        &lt;Button Grid.Column=&quot;1&quot; Content=&quot;2&quot; Name=&quot;Button2&quot;/&gt;</span><br><span class="line">    &lt;/Grid&gt;</span><br><span class="line">&lt;/Window&gt;</span><br></pre></td></tr></table></figure>
<h2 id="åŸå› å’Œè§£å†³æ–¹æ³•">2ã€åŸå› å’Œè§£å†³æ–¹æ³•</h2>
<h3 id="åŸå› ">2.1 åŸå› </h3>
<p>å› ä¸ºæŠŠ Button é»˜è®¤æ ·å¼æ”¾åœ¨äº† ResourceDictionary.MergedDictionaries å†…éƒ¨çš„ResourceDictionary å†…äº†ï¼Œè¿™æ ·åœ¨è§£æå¼•ç”¨æ ·å¼çš„æ—¶å€™ä¼šè·³è¿‡ç¬¬ä¸€ä¸ªå…ƒç´ ï¼›</p>
<h3 id="è§£å†³æ–¹æ¡ˆ">2.2 è§£å†³æ–¹æ¡ˆ</h3>
<p>å°† style æåˆ° ResourceDictionary.MergedDictionaries ä¹‹å¤–</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;Window.Resources&gt;</span><br><span class="line">    &lt;ResourceDictionary&gt;</span><br><span class="line">        &lt;ResourceDictionary.MergedDictionaries&gt;</span><br><span class="line">            &lt;ResourceDictionary Source=&quot;Resources/AllResources.xaml&quot;/&gt;</span><br><span class="line">        &lt;/ResourceDictionary.MergedDictionaries&gt;</span><br><span class="line">        &lt;Style TargetType=&quot;&#123;x:Type Button&#125;&quot;&gt;</span><br><span class="line">            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;100&quot;/&gt;</span><br><span class="line">        &lt;/Style&gt;</span><br><span class="line">    &lt;/ResourceDictionary&gt;</span><br><span class="line">&lt;/Window.Resources&gt;</span><br><span class="line">&lt;Grid&gt;</span><br><span class="line">    &lt;Grid.ColumnDefinitions&gt;</span><br><span class="line">        &lt;ColumnDefinition/&gt;</span><br><span class="line">        &lt;ColumnDefinition/&gt;</span><br><span class="line">    &lt;/Grid.ColumnDefinitions&gt;</span><br><span class="line">    &lt;Button Grid.Column=&quot;0&quot; Content=&quot;1&quot; Name=&quot;Button1&quot;/&gt;</span><br><span class="line">    &lt;Button Grid.Column=&quot;1&quot; Content=&quot;2&quot; Name=&quot;Button2&quot;/&gt;</span><br><span class="line">&lt;/Grid&gt;</span><br></pre></td></tr></table></figure>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://stackoverflow.com/questions/4811884/wpf-doesnt-apply-style-to-first-element">resources - WPF doesn't apply style to first element - Stack Overflow</a></p>
]]></content>
      <categories>
        <category>WPF</category>
      </categories>
      <tags>
        <tag>.Net</tag>
        <tag>C#</tag>
        <tag>WPF</tag>
        <tag>Style</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Windows Server å»ºç«‹ Web Site å¹¶å…³è” FTP Server</title>
    <url>/2022/01/25/%E4%BD%BF%E7%94%A8-Windows-Server-%E5%BB%BA%E7%AB%8B-Web-Site-%E5%B9%B6%E5%85%B3%E8%81%94-FTP-Server/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä¸»è¦è¯´æ˜ï¼Œå¦‚ä½•åœ¨ windows server ä¸­å»ºç«‹ web siteï¼Œå¹¶å…³è” ftp æœåŠ¡ï¼›æœ€ç»ˆè¾¾åˆ°çš„æ•ˆæœæ˜¯ï¼Œå¯ä»¥é€šè¿‡ https é“¾æ¥è®¿é—® ftp æœåŠ¡çš„æ‰€æœ‰å†…å®¹ï¼›</p>
<p>ç³»ç»Ÿç¯å¢ƒï¼šwindow server 2019</p>
<span id="more"></span>
<h1 id="å¼€å¯ç³»ç»Ÿå¿…å¤‡çš„æœåŠ¡ç»„ä»¶">1ã€å¼€å¯ç³»ç»Ÿå¿…å¤‡çš„æœåŠ¡ç»„ä»¶</h1>
<h1 id="æ–°å»º-ssl-è¯ä¹¦">2ã€æ–°å»º SSL è¯ä¹¦</h1>
<h1 id="å»ºç«‹-web-site-å¹¶å…³è”-ftp-server">3ã€å»ºç«‹ web site å¹¶å…³è” FTP Server</h1>
<h1 id="å…¶ä»–è®¾ç½®">4ã€å…¶ä»–è®¾ç½®</h1>
<h2 id="ftp-æœåŠ¡ç›´é€šç½‘ç»œä½ç½®">4.1 ftp æœåŠ¡ç›´é€šç½‘ç»œä½ç½®</h2>
<h2 id="web-site-å¼€å¯æµè§ˆæ–‡ä»¶ç›®å½•ç»“æ„çš„åŠŸèƒ½">4.2 web site å¼€å¯æµè§ˆæ–‡ä»¶ç›®å½•ç»“æ„çš„åŠŸèƒ½</h2>
<h2 id="web-site-ç»‘å®š-https-è®¿é—®">4.3 web site ç»‘å®š https è®¿é—®</h2>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
]]></content>
      <categories>
        <category>windwos</category>
        <category>web site</category>
        <category>ftp server</category>
      </categories>
      <tags>
        <tag>windwos</tag>
        <tag>web site</tag>
        <tag>ftp</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œåŸºç¡€</title>
    <url>/2022/03/25/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<p>æœ¬æ–‡ä»¥ç§‘æ™®çš„æ€§è´¨è¯´æ˜è®¡ç®—æœºç½‘ç»œæ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„ä¸œè¥¿ï¼Œé¡ºä¾¿å›é¡¾ä¸€ä¸‹è‡ªå·±å¤§å­¦è®¡ç®—æœºç½‘ç»œçš„åŸºæœ¬çŸ¥è¯†</p>
<span id="more"></span>
<p>è‡ªä»äº’è”ç½‘è¯ç”Ÿä»¥æ¥ï¼Œç°åœ¨åŸºæœ¬ä¸Šç»å¤§å¤šæ•°çš„ç¨‹åºéƒ½æ˜¯ç½‘ç»œç¨‹åºæˆ–è€…è·Ÿç½‘ç»œæœ‰å…³ï¼Œå¾ˆå°‘æœ‰å•æœºç‰ˆçš„ç¨‹åºäº†ã€‚</p>
<p>è®¡ç®—æœºç½‘ç»œæœ¬è´¨ä¸Šå°±æ˜¯ï¼šå¤šä¸ªè®¡ç®—æœºï¼ˆç½‘ç»œè®¾ç½®ï¼‰è¿è½½ä¸€èµ·ï¼Œåƒä¸€å¼ ç½‘ä¸€æ ·ï¼Œå½¼æ­¤å¯ä»¥ç›´æ¥æˆ–è€…é—´æ¥çš„ç›¸äº’é€šä¿¡ï¼›ä¸–ç•Œä¸Šæ‰€æœ‰çš„ç”µè„‘ï¼ˆç½‘ç»œè®¾å¤‡ï¼‰åŒé€šè¿‡è¿™å¼ ç½‘è”ç³»åœ¨ä¸€èµ·ï¼Œå°±æ˜¯è®¡ç®—æœºç½‘ç»œï¼Œé€šä¿—è®²å°±æ˜¯äº’è”ç½‘ã€‚</p>
<p>ç½‘ç»œç¼–ç¨‹ï¼Œå°±æ˜¯åœ¨è®¡ç®—æœºç½‘ç»œï¼ˆäº’è”ç½‘ï¼‰ä¸­å®ç°ä¸¤å°æˆ–è€…å¤šå°è®¡ç®—æœºä¹‹é—´çš„æ•°æ®é€šä¿¡ã€‚</p>
<p>ç½‘ç»œç¼–ç¨‹æŒ‰ç…§ç¼–ç¨‹è¯­è¨€çš„ä¸åŒåˆå¯ä»¥åˆ’åˆ†æˆä¸åŒæ˜¯ç¼–ç¨‹å®ç°æ–¹å¼ï¼Œä½†æ˜¯ä»–ä»¬ç”¨åˆ°çš„åŸç†å’Œåè®®éƒ½æ˜¯ä¸€è‡´çš„ã€‚</p>
<h1 id="ç½‘ç»œåŸºç¡€çŸ¥è¯†">1. ç½‘ç»œåŸºç¡€çŸ¥è¯†</h1>
<p>ä¸»è¦ä»‹ç»ï¼ŒIP åœ°å€ï¼ŒåŸŸåï¼Œç½‘ç»œæ¨¡å‹ç­‰åŸºæœ¬çŸ¥è¯†</p>
<h2 id="ip-åœ°å€">1.1 IP åœ°å€</h2>
<p>åœ¨äº’è”ç½‘ä¸­ï¼Œä¸€ä¸ª IP åœ°å€ç”¨äºå”¯ä¸€æ ‡è¯†ä¸€ä¸ªç½‘ç»œæ¥å£ï¼ˆNetwork Interfaceï¼‰ã€‚</p>
<p>ä¸€å°è”å…¥äº’è”ç½‘çš„è®¡ç®—æœºè‚¯å®šæœ‰ä¸€ä¸ª IP åœ°å€ï¼Œä½†ä¹Ÿå¯èƒ½æœ‰å¤šä¸ª IP åœ°å€ã€‚</p>
<p>IP åœ°å€åˆ†ä¸º IPv4 å’Œ IPv6 ä¸¤ç§ã€‚</p>
<p>IPv4 é‡‡ç”¨32ä½åœ°å€ï¼Œç±»ä¼¼ <code>192.168.10.1</code>ï¼Œ</p>
<p>è€Œ IPv6 é‡‡ç”¨128ä½åœ°å€ï¼Œç±»ä¼¼ <code>2001:0DA8:100A:0000:0000:1020:F2F3:1428</code>ã€‚ <span class="math display">\[
\begin{flalign}
&amp; IPv4 \,\, åœ°å€æ€»å…±æœ‰\,\, 2^{32}ä¸ªï¼Œè€Œ\,\,IPv6 \,\, åœ°å€åˆ™æ€»å…±æœ‰\,\, 2^{128} ä¸ªï¼ˆå¤§çº¦340ä¸‡äº¿äº¿äº¿äº¿ï¼‰&amp;
\end{flalign}
\]</span> IPv4 çš„åœ°å€ç›®å‰å·²è€—å°½ï¼Œè€Œ IPv6 çš„åœ°å€æ˜¯æ ¹æœ¬ç”¨ä¸å®Œçš„ã€‚</p>
<p>IP åœ°å€åˆåˆ†ä¸ºå…¬ç½‘ IP åœ°å€å’Œå†…ç½‘ IP åœ°å€ã€‚å…¬ç½‘ IP åœ°å€å¯ä»¥ç›´æ¥è¢«è®¿é—®ï¼Œå†…ç½‘ IP åœ°å€åªèƒ½åœ¨å†…ç½‘è®¿é—®ã€‚å†…ç½‘ IP åœ°å€ç±»ä¼¼äºï¼š</p>
<ul>
<li>192.168.x.x</li>
<li>10.x.x.x</li>
</ul>
<p>æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ IP åœ°å€ï¼Œç§°ä¹‹ä¸ºæœ¬æœºåœ°å€ï¼Œå®ƒæ€»æ˜¯<code>127.0.0.1</code>ã€‚</p>
<p>IPv4 åœ°å€å®é™…ä¸Šæ˜¯ä¸€ä¸ª32ä½æ•´æ•°ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1707762444 = 0x65ca630c</span><br><span class="line">           = 65  ca  63 0c</span><br><span class="line">           = 101.202.99.12</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸€å°è®¡ç®—æœºåªæœ‰ä¸€ä¸ªç½‘å¡ï¼Œå¹¶ä¸”æ¥å…¥äº†ç½‘ç»œï¼Œé‚£ä¹ˆï¼Œå®ƒæœ‰ä¸€ä¸ªæœ¬æœºåœ°å€<code>127.0.0.1</code>ï¼Œè¿˜æœ‰ä¸€ä¸ª IP åœ°å€ï¼Œä¾‹å¦‚<code>101.202.99.12</code>ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ª IP åœ°å€æ¥å…¥ç½‘ç»œã€‚</p>
<p>å¦‚æœä¸€å°è®¡ç®—æœºæœ‰ä¸¤å—ç½‘å¡ï¼Œé‚£ä¹ˆé™¤äº†æœ¬æœºåœ°å€ï¼Œå®ƒå¯ä»¥æœ‰ä¸¤ä¸ª IP åœ°å€ï¼Œå¯ä»¥åˆ†åˆ«æ¥å…¥ä¸¤ä¸ªç½‘ç»œã€‚é€šå¸¸è¿æ¥ä¸¤ä¸ªç½‘ç»œçš„è®¾å¤‡æ˜¯è·¯ç”±å™¨æˆ–è€…äº¤æ¢æœºï¼Œå®ƒè‡³å°‘æœ‰ä¸¤ä¸ª IP åœ°å€ï¼Œåˆ†åˆ«æ¥å…¥ä¸åŒçš„ç½‘ç»œï¼Œè®©ç½‘ç»œä¹‹é—´è¿æ¥èµ·æ¥ã€‚</p>
<p>å¦‚æœä¸¤å°è®¡ç®—æœºä½äºåŒä¸€ä¸ªç½‘ç»œï¼Œé‚£ä¹ˆä»–ä»¬ä¹‹é—´å¯ä»¥ç›´æ¥é€šä¿¡ï¼Œå› ä¸ºä»–ä»¬çš„ IP åœ°å€å‰æ®µæ˜¯ç›¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯ç½‘ç»œå·æ˜¯ç›¸åŒçš„ã€‚ç½‘ç»œå·æ˜¯ IP åœ°å€é€šè¿‡å­ç½‘æ©ç è¿‡æ»¤åå¾—åˆ°çš„ã€‚ä¾‹å¦‚ï¼š</p>
<p>æŸå°è®¡ç®—æœºçš„ IP æ˜¯<code>101.202.99.2</code>ï¼Œå­ç½‘æ©ç æ˜¯<code>255.255.255.0</code>ï¼Œé‚£ä¹ˆè®¡ç®—è¯¥è®¡ç®—æœºçš„ç½‘ç»œå·æ˜¯ï¼š</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">IP</span> = <span class="number">101.202</span>.<span class="number">99.2</span></span><br><span class="line"><span class="attr">Mask</span> = <span class="number">255.255</span>.<span class="number">255.0</span></span><br><span class="line"><span class="attr">Network</span> = IP &amp; Mask = <span class="number">101.202</span>.<span class="number">99.0</span></span><br></pre></td></tr></table></figure>
<p>æ¯å°è®¡ç®—æœºéƒ½éœ€è¦æ­£ç¡®é…ç½® IP åœ°å€å’Œå­ç½‘æ©ç ï¼Œæ ¹æ®è¿™ä¸¤ä¸ªå°±å¯ä»¥è®¡ç®—ç½‘ç»œå·ï¼Œå¦‚æœä¸¤å°è®¡ç®—æœºè®¡ç®—å‡ºçš„ç½‘ç»œå·ç›¸åŒï¼Œè¯´æ˜ä¸¤å°è®¡ç®—æœºåœ¨åŒä¸€ä¸ªç½‘ç»œï¼Œå¯ä»¥ç›´æ¥é€šä¿¡ã€‚å¦‚æœä¸¤å°è®¡ç®—æœºè®¡ç®—å‡ºçš„ç½‘ç»œå·ä¸åŒï¼Œé‚£ä¹ˆä¸¤å°è®¡ç®—æœºä¸åœ¨åŒä¸€ä¸ªç½‘ç»œï¼Œä¸èƒ½ç›´æ¥é€šä¿¡ï¼Œå®ƒä»¬ä¹‹é—´å¿…é¡»é€šè¿‡è·¯ç”±å™¨æˆ–è€…äº¤æ¢æœºè¿™æ ·çš„ç½‘ç»œè®¾å¤‡é—´æ¥é€šä¿¡ï¼Œæˆ‘ä»¬æŠŠè¿™ç§è®¾å¤‡ç§°ä¸ºç½‘å…³ã€‚</p>
<p>ç½‘å…³çš„ä½œç”¨å°±æ˜¯è¿æ¥å¤šä¸ªç½‘ç»œï¼Œè´Ÿè´£æŠŠæ¥è‡ªä¸€ä¸ªç½‘ç»œçš„æ•°æ®åŒ…å‘åˆ°å¦ä¸€ä¸ªç½‘ç»œï¼Œè¿™ä¸ªè¿‡ç¨‹å«è·¯ç”±ã€‚</p>
<p>æ‰€ä»¥ï¼Œä¸€å°è®¡ç®—æœºçš„ä¸€ä¸ªç½‘å¡ä¼šæœ‰3ä¸ªå…³é”®é…ç½®ï¼š</p>
<ul>
<li>IP åœ°å€ï¼Œä¾‹å¦‚ï¼š<code>10.80.2.24</code></li>
<li>å­ç½‘æ©ç ï¼Œä¾‹å¦‚ï¼š<code>255.255.255.0</code></li>
<li>ç½‘å…³çš„ IP åœ°å€ï¼Œä¾‹å¦‚ï¼š<code>10.80.2.254</code></li>
</ul>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220325191123462.png" alt="image-20220325191123462" /><figcaption aria-hidden="true">image-20220325191123462</figcaption>
</figure>
<h2 id="åŸŸå">1.2 åŸŸå</h2>
<p>å› ä¸ºç›´æ¥è®°å¿† IP åœ°å€éå¸¸å›°éš¾ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸ä½¿ç”¨åŸŸåè®¿é—®æŸä¸ªç‰¹å®šçš„æœåŠ¡ã€‚</p>
<p>åŸŸåè§£ææœåŠ¡å™¨ DNS è´Ÿè´£æŠŠåŸŸåç¿»è¯‘æˆå¯¹åº”çš„ IPï¼Œå®¢æˆ·ç«¯å†æ ¹æ® IP åœ°å€è®¿é—®æœåŠ¡å™¨ã€‚</p>
<p>ç”¨<code>nslookup</code>å¯ä»¥æŸ¥çœ‹åŸŸåå¯¹åº”çš„ IP åœ°å€ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nslookup buctllx.github.io</span></span><br><span class="line">Server:  bogon</span><br><span class="line">Address:  10.80.253.253</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:    buctllx.github.io</span><br><span class="line">Addresses:  2606:50c0:8002::153</span><br><span class="line">          2606:50c0:8001::153</span><br><span class="line">          2606:50c0:8000::153</span><br><span class="line">          2606:50c0:8003::153</span><br><span class="line">          185.199.110.153</span><br><span class="line">          185.199.109.153</span><br><span class="line">          185.199.111.153</span><br><span class="line">          185.199.108.153</span><br></pre></td></tr></table></figure>
<p>æœ‰ä¸€ä¸ªç‰¹æ®Šçš„æœ¬æœºåŸŸå<code>localhost</code>ï¼Œå®ƒå¯¹åº”çš„ IP åœ°å€æ€»æ˜¯æœ¬æœºåœ°å€<code>127.0.0.1</code>ã€‚</p>
<h2 id="ç½‘ç»œæ¨¡å‹">1.3 ç½‘ç»œæ¨¡å‹</h2>
<p>ç”±äºè®¡ç®—æœºç½‘ç»œä»åº•å±‚çš„ä¼ è¾“åˆ°é«˜å±‚çš„è½¯ä»¶è®¾è®¡ååˆ†å¤æ‚ï¼Œè¦åˆç†åœ°è®¾è®¡è®¡ç®—æœºç½‘ç»œæ¨¡å‹ï¼Œå¿…é¡»é‡‡ç”¨åˆ†å±‚æ¨¡å‹ï¼Œæ¯ä¸€å±‚è´Ÿè´£å¤„ç†è‡ªå·±çš„æ“ä½œã€‚OSIï¼ˆOpen System Interconnectï¼‰ç½‘ç»œæ¨¡å‹æ˜¯ISOç»„ç»‡å®šä¹‰çš„ä¸€ä¸ªè®¡ç®—æœºäº’è”çš„æ ‡å‡†æ¨¡å‹ï¼Œæ³¨æ„å®ƒåªæ˜¯ä¸€ä¸ªå®šä¹‰ï¼Œç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–ç½‘ç»œå„å±‚çš„æ“ä½œï¼Œæä¾›æ ‡å‡†æ¥å£ä¾¿äºå®ç°å’Œç»´æŠ¤ã€‚è¿™ä¸ªæ¨¡å‹ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ˜¯ï¼š</p>
<ul>
<li>åº”ç”¨å±‚ï¼Œæä¾›åº”ç”¨ç¨‹åºä¹‹é—´çš„é€šä¿¡ï¼›</li>
<li>è¡¨ç¤ºå±‚ï¼šå¤„ç†æ•°æ®æ ¼å¼ï¼ŒåŠ è§£å¯†ç­‰ç­‰ï¼›</li>
<li>ä¼šè¯å±‚ï¼šè´Ÿè´£å»ºç«‹å’Œç»´æŠ¤ä¼šè¯ï¼›</li>
<li>ä¼ è¾“å±‚ï¼šè´Ÿè´£æä¾›ç«¯åˆ°ç«¯çš„å¯é ä¼ è¾“ï¼›</li>
<li>ç½‘ç»œå±‚ï¼šè´Ÿè´£æ ¹æ®ç›®æ ‡åœ°å€é€‰æ‹©è·¯ç”±æ¥ä¼ è¾“æ•°æ®ï¼›</li>
<li>é“¾è·¯å±‚å’Œç‰©ç†å±‚è´Ÿè´£æŠŠæ•°æ®è¿›è¡Œåˆ†ç‰‡å¹¶ä¸”çœŸæ­£é€šè¿‡ç‰©ç†ç½‘ç»œä¼ è¾“ï¼Œä¾‹å¦‚ï¼Œæ— çº¿ç½‘ã€å…‰çº¤ç­‰ã€‚</li>
</ul>
<p>äº’è”ç½‘å®é™…ä½¿ç”¨çš„TCP/IPæ¨¡å‹å¹¶ä¸æ˜¯å¯¹åº”åˆ°OSIçš„7å±‚æ¨¡å‹ï¼Œè€Œæ˜¯å¤§è‡´å¯¹åº”OSIçš„5å±‚æ¨¡å‹ï¼š</p>
<table>
<tr>
<th width="200px" height="100px">
<font color="#0A87F5" size=20>OSI</font>
</th>
<th width="201px" height="30">
<font color="#0A87F5" size=20>TCP/IP</font>
</th>
</tr>
<tr>
<td>
åº”ç”¨å±‚
</td>
<td rowspan="3">
åº”ç”¨å±‚
</td>
</tr>
<tr>
<td>
è¡¨ç¤ºå±‚
</td>
</tr>
<tr>
<td>
ä¼šè¯å±‚
</td>
</tr>
<tr>
<td>
ä¼ è¾“å±‚
</td>
<td>
ä¼ è¾“å±‚
</td>
</tr>
<tr>
<td>
ç½‘ç»œå±‚
</td>
<td>
IPå±‚
</td>
</tr>
<tr>
<td>
é“¾è·¯å±‚
</td>
<td rowspan="2">
ç½‘ç»œæ¥å£å±‚
</td>
</tr>
<tr>
<td>
ç‰©ç†å±‚
</td>
</tr>
</table>
<h1 id="å¸¸ç”¨ç½‘ç»œåè®®">2. å¸¸ç”¨ç½‘ç»œåè®®</h1>
<p>è™½ç„¶å¤§å®¶ç°åœ¨å¯¹äº’è”ç½‘å¾ˆç†Ÿæ‚‰ï¼Œä½†æ˜¯è®¡ç®—æœºç½‘ç»œçš„å‡ºç°æ¯”äº’è”ç½‘è¦æ—©å¾ˆå¤šã€‚</p>
<p>è®¡ç®—æœºä¸ºäº†è”ç½‘ï¼Œå°±å¿…é¡»è§„å®šé€šä¿¡åè®®ï¼Œæ—©æœŸçš„è®¡ç®—æœºç½‘ç»œï¼Œéƒ½æ˜¯ç”±å„å‚å•†è‡ªå·±è§„å®šä¸€å¥—åè®®ï¼ŒIBMã€Appleå’ŒMicrosoftéƒ½æœ‰å„è‡ªçš„ç½‘ç»œåè®®ï¼Œäº’ä¸å…¼å®¹ï¼Œè¿™å°±å¥½æ¯”ä¸€ç¾¤äººæœ‰çš„è¯´è‹±è¯­ï¼Œæœ‰çš„è¯´ä¸­æ–‡ï¼Œæœ‰çš„è¯´å¾·è¯­ï¼Œè¯´åŒä¸€ç§è¯­è¨€çš„äººå¯ä»¥äº¤æµï¼Œä¸åŒçš„è¯­è¨€ä¹‹é—´å°±ä¸è¡Œäº†ã€‚</p>
<p>ä¸ºäº†æŠŠå…¨ä¸–ç•Œçš„æ‰€æœ‰ä¸åŒç±»å‹çš„è®¡ç®—æœºéƒ½è¿æ¥èµ·æ¥ï¼Œå°±å¿…é¡»è§„å®šä¸€å¥—å…¨çƒé€šç”¨çš„åè®®ï¼Œä¸ºäº†å®ç°äº’è”ç½‘è¿™ä¸ªç›®æ ‡ï¼Œäº’è”ç½‘åè®®ç°‡ï¼ˆInternet Protocol Suiteï¼‰å°±æ˜¯é€šç”¨åè®®æ ‡å‡†ã€‚Internetæ˜¯ç”±interå’Œnetä¸¤ä¸ªå•è¯ç»„åˆèµ·æ¥çš„ï¼ŒåŸæ„å°±æ˜¯è¿æ¥â€œç½‘ç»œâ€çš„ç½‘ç»œï¼Œæœ‰äº†Internetï¼Œä»»ä½•ç§æœ‰ç½‘ç»œï¼Œåªè¦æ”¯æŒè¿™ä¸ªåè®®ï¼Œå°±å¯ä»¥è”å…¥äº’è”ç½‘ã€‚</p>
<p>UDP åè®®ï¼ˆUser Datagram Protocolï¼‰æ˜¯ä¸€ç§æ•°æ®æŠ¥æ–‡åè®®ï¼Œå®ƒæ˜¯æ— è¿æ¥åè®®ï¼Œä¸ä¿è¯å¯é ä¼ è¾“ã€‚å› ä¸º UDP åè®®åœ¨é€šä¿¡å‰ä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œå› æ­¤å®ƒçš„ä¼ è¾“æ•ˆç‡æ¯”TCPé«˜ï¼Œè€Œä¸”UDPåè®®æ¯”TCPåè®®è¦ç®€å•å¾—å¤šã€‚</p>
<p>é€‰æ‹© UDP åè®®æ—¶ï¼Œä¼ è¾“çš„æ•°æ®é€šå¸¸æ˜¯èƒ½å®¹å¿ä¸¢å¤±çš„ï¼Œä¾‹å¦‚ï¼Œä¸€äº›è¯­éŸ³è§†é¢‘é€šä¿¡çš„åº”ç”¨ä¼šé€‰æ‹© UDP åè®®ã€‚</p>
<h2 id="tcpip-åè®®">2.1 TCP/IP åè®®</h2>
<p>å› ä¸ºäº’è”ç½‘åè®®åŒ…å«äº†ä¸Šç™¾ç§åè®®æ ‡å‡†ï¼Œä½†æ˜¯æœ€é‡è¦çš„ä¸¤ä¸ªåè®®æ˜¯ TCP å’Œ IP åè®®ï¼Œæ‰€ä»¥ï¼Œå¤§å®¶æŠŠäº’è”ç½‘çš„åè®®ç®€ç§° TCP/IP åè®®ã€‚</p>
<p>ç½‘ç»œé€šä¿¡çš„æ—¶å€™ï¼ŒåŒæ–¹å¿…é¡»çŸ¥é“å¯¹æ–¹çš„æ ‡è¯†ï¼Œå¥½æ¯”å‘é‚®ä»¶å¿…é¡»çŸ¥é“å¯¹æ–¹çš„é‚®ä»¶åœ°å€ã€‚</p>
<p>äº’è”ç½‘ä¸Šæ¯ä¸ªè®¡ç®—æœºçš„å”¯ä¸€æ ‡è¯†å°±æ˜¯ IP åœ°å€ã€‚å¦‚æœä¸€å°è®¡ç®—æœºåŒæ—¶æ¥å…¥åˆ°ä¸¤ä¸ªæˆ–æ›´å¤šçš„ç½‘ç»œï¼Œæ¯”å¦‚è·¯ç”±å™¨ï¼Œå®ƒå°±ä¼šæœ‰ä¸¤ä¸ªæˆ–å¤šä¸ª IP åœ°å€ï¼Œæ‰€ä»¥ï¼ŒIPåœ°å€å¯¹åº”çš„å®é™…ä¸Šæ˜¯è®¡ç®—æœºçš„ç½‘ç»œæ¥å£ï¼Œé€šå¸¸æ˜¯ç½‘å¡ã€‚</p>
<p>IP åè®®è´Ÿè´£æŠŠæ•°æ®ä»ä¸€å°è®¡ç®—æœºé€šè¿‡ç½‘ç»œå‘é€åˆ°å¦ä¸€å°è®¡ç®—æœºã€‚æ•°æ®è¢«åˆ†å‰²æˆä¸€å°å—ä¸€å°å—ï¼Œç„¶åé€šè¿‡ IP åŒ…å‘é€å‡ºå»ã€‚ç”±äºäº’è”ç½‘é“¾è·¯å¤æ‚ï¼Œä¸¤å°è®¡ç®—æœºä¹‹é—´ç»å¸¸æœ‰å¤šæ¡çº¿è·¯ï¼Œå› æ­¤ï¼Œè·¯ç”±å™¨å°±è´Ÿè´£å†³å®šå¦‚ä½•æŠŠä¸€ä¸ª IP åŒ…è½¬å‘å‡ºå»ã€‚IP åŒ…çš„ç‰¹ç‚¹æ˜¯æŒ‰å—å‘é€ï¼Œé€”å¾„å¤šä¸ªè·¯ç”±ï¼Œä½†ä¸ä¿è¯èƒ½åˆ°è¾¾ï¼Œä¹Ÿä¸ä¿è¯é¡ºåºåˆ°è¾¾ã€‚</p>
<p>IP åè®®æ˜¯ä¸€ä¸ªåˆ†ç»„äº¤æ¢ï¼Œå®ƒä¸ä¿è¯å¯é ä¼ è¾“ã€‚</p>
<p>è€Œ TCP åè®®æ˜¯ä¼ è¾“æ§åˆ¶åè®®ï¼Œå®ƒæ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œæ”¯æŒå¯é ä¼ è¾“å’ŒåŒå‘é€šä¿¡ã€‚</p>
<p>TCP åè®®æ˜¯å»ºç«‹åœ¨ IP åè®®ä¹‹ä¸Šçš„ï¼Œç®€å•åœ°è¯´ï¼ŒIP åè®®åªè´Ÿè´£å‘æ•°æ®åŒ…ï¼Œä¸ä¿è¯é¡ºåºå’Œæ­£ç¡®æ€§ï¼Œè€Œ TCP åè®®è´Ÿè´£åœ¨ä¸¤å°è®¡ç®—æœºä¹‹é—´å»ºç«‹å¯é è¿æ¥ï¼Œä¿è¯æ•°æ®åŒ…æŒ‰é¡ºåºåˆ°è¾¾ã€‚</p>
<p>TCPåè®®ä¼šé€šè¿‡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œç„¶åï¼Œå¯¹æ¯ä¸ª IP åŒ…ç¼–å·ï¼Œç¡®ä¿å¯¹æ–¹æŒ‰é¡ºåºæ”¶åˆ°ï¼Œå¦‚æœåŒ…ä¸¢æ‰äº†ï¼Œå°±è‡ªåŠ¨é‡å‘ï¼›ä¼ è¾“å®Œåè¿˜éœ€è¦æ–­å¼€è¿æ¥ã€‚</p>
<p>TCP åè®®ä¹‹æ‰€ä»¥èƒ½ä¿è¯æ•°æ®çš„å¯é ä¼ è¾“ï¼Œæ˜¯é€šè¿‡æ¥æ”¶ç¡®è®¤ã€è¶…æ—¶é‡ä¼ è¿™äº›æœºåˆ¶å®ç°çš„ã€‚å¹¶ä¸”ï¼ŒTCPåè®®å…è®¸åŒå‘é€šä¿¡ï¼Œå³é€šä¿¡åŒæ–¹å¯ä»¥åŒæ—¶å‘é€å’Œæ¥æ”¶æ•°æ®ã€‚</p>
<p>TCP åè®®ä¹Ÿæ˜¯åº”ç”¨æœ€å¹¿æ³›çš„åè®®ï¼Œè®¸å¤šé«˜çº§åè®®éƒ½æ˜¯å»ºç«‹åœ¨ TCP åè®®ä¹‹ä¸Šçš„ï¼Œä¾‹å¦‚ HTTPã€SMTP ç­‰ã€‚</p>
<p>ä¸€ä¸ª TCP æŠ¥æ–‡é™¤äº†åŒ…å«è¦ä¼ è¾“çš„æ•°æ®å¤–ï¼Œè¿˜åŒ…å«æº IP åœ°å€å’Œç›®æ ‡ IP åœ°å€ï¼Œæºç«¯å£å’Œç›®æ ‡ç«¯å£ã€‚</p>
<p>ç«¯å£æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿåœ¨ä¸¤å°è®¡ç®—æœºé€šä¿¡æ—¶ï¼Œåªå‘ IP åœ°å€æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºåŒä¸€å°è®¡ç®—æœºä¸Šè·‘ç€å¤šä¸ªç½‘ç»œç¨‹åºã€‚ä¸€ä¸ª TCP æŠ¥æ–‡æ¥äº†ä¹‹åï¼Œåˆ°åº•æ˜¯äº¤ç»™æµè§ˆå™¨è¿˜æ˜¯ QQï¼Œå°±éœ€è¦ç«¯å£å·æ¥åŒºåˆ†ã€‚æ¯ä¸ªç½‘ç»œç¨‹åºéƒ½å‘æ“ä½œç³»ç»Ÿç”³è¯·å”¯ä¸€çš„ç«¯å£å·ï¼Œè¿™æ ·ï¼Œä¸¤ä¸ªè¿›ç¨‹åœ¨ä¸¤å°è®¡ç®—æœºä¹‹é—´å»ºç«‹ç½‘ç»œè¿æ¥å°±éœ€è¦å„è‡ªçš„ IPåœ°å€å’Œå„è‡ªçš„ç«¯å£å·ã€‚</p>
<p>ä¸€ä¸ªè¿›ç¨‹ä¹Ÿå¯èƒ½åŒæ—¶ä¸å¤šä¸ªè®¡ç®—æœºå»ºç«‹é“¾æ¥ï¼Œå› æ­¤å®ƒä¼šç”³è¯·å¾ˆå¤šç«¯å£ã€‚</p>
<h2 id="udp-åè®®">2.2 UDP åè®®</h2>
<p>TCPæ˜¯å»ºç«‹å¯é è¿æ¥ï¼Œå¹¶ä¸”é€šä¿¡åŒæ–¹éƒ½å¯ä»¥ä»¥æµçš„å½¢å¼å‘é€æ•°æ®ã€‚ç›¸å¯¹ TCPï¼ŒUDP åˆ™æ˜¯é¢å‘æ— è¿æ¥çš„åè®®ã€‚</p>
<p>ä½¿ç”¨ UDP åè®®æ—¶ï¼Œä¸éœ€è¦å»ºç«‹è¿æ¥ï¼Œåªéœ€è¦çŸ¥é“å¯¹æ–¹çš„ IP åœ°å€å’Œç«¯å£å·ï¼Œå°±å¯ä»¥ç›´æ¥å‘æ•°æ®åŒ…ã€‚ä½†æ˜¯ï¼Œèƒ½ä¸èƒ½åˆ°è¾¾å°±ä¸çŸ¥é“äº†ã€‚</p>
<p><strong>ç¼ºç‚¹ï¼š</strong>ä¼ è¾“æ•°æ®ä¸å¯é </p>
<p><strong>ä¼˜ç‚¹ï¼š</strong>é€Ÿåº¦å¿«ï¼Œå¯¹äºä¸è¦æ±‚å¯é åˆ°è¾¾çš„æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨ UDP åè®®ã€‚</p>
<p>æ­¤å¤–ï¼ŒæœåŠ¡å™¨ç»‘å®š UDP ç«¯å£å’Œ TCP ç«¯å£äº’ä¸å†²çªï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒUDP çš„ 80 ç«¯å£ä¸ TCP çš„ 80 ç«¯å£å¯ä»¥å„è‡ªç»‘å®šã€‚</p>
<h2 id="http-åè®®">2.3 HTTP åè®®</h2>
<p>åœ¨ Web åº”ç”¨ä¸­ï¼ŒæœåŠ¡å™¨æŠŠç½‘é¡µä¼ ç»™æµè§ˆå™¨ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠç½‘é¡µçš„ HTML ä»£ç å‘é€ç»™æµè§ˆå™¨ï¼Œè®©æµè§ˆå™¨æ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>è€Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“åè®®æ˜¯ HTTPï¼Œæ‰€ä»¥ï¼š</p>
<ul>
<li>HTML æ˜¯ä¸€ç§ç”¨æ¥å®šä¹‰ç½‘é¡µçš„æ–‡æœ¬ï¼Œä¼š HTMLï¼Œå°±å¯ä»¥ç¼–å†™ç½‘é¡µï¼›</li>
<li>HTTP æ˜¯åœ¨ç½‘ç»œä¸Šä¼ è¾“ HTML çš„åè®®ï¼Œç”¨äºæµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„é€šä¿¡ã€‚</li>
</ul>
<p>åœ¨ä¸¾ä¾‹å­ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£… Google çš„ <a href="http://www.google.com/intl/zh-CN/chrome/">Chrome æµè§ˆå™¨</a>ã€‚æˆ–è€… Microsoft çš„ <a href="https://www.microsoft.com/zh-cn">Edge æµè§ˆå™¨</a>ã€‚æœ¬è´¨ä¸Šéƒ½æ˜¯åŸºäº Chromium å†…æ ¸çš„æµè§ˆå™¨</p>
<p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Chromium å†…æ ¸çš„æµè§ˆå™¨è€Œä¸æ˜¯ IE å‘¢ï¼Ÿå› ä¸º IE å®åœ¨æ˜¯å¤ªæ…¢äº†ï¼Œå¹¶ä¸”ï¼ŒIE å¯¹äºå¼€å‘å’Œè°ƒè¯• Web åº”ç”¨ç¨‹åºå®Œå…¨æ˜¯ä¸€ç‚¹ç”¨ä¹Ÿæ²¡æœ‰ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦åœ¨æµè§ˆå™¨å¾ˆæ–¹ä¾¿åœ°è°ƒè¯•æˆ‘ä»¬çš„ Web åº”ç”¨ï¼Œè€Œ Chromium æä¾›äº†ä¸€å¥—å®Œæ•´åœ°è°ƒè¯•å·¥å…·ï¼Œéå¸¸é€‚åˆ Web å¼€å‘ã€‚</p>
<p>å®‰è£…å¥½ Chromium å†…æ ¸çš„æµè§ˆå™¨åï¼Œæ‰“å¼€æµè§ˆå™¨ï¼ŒæŒ‰ F12ï¼Œå°±å¯ä»¥æ˜¾ç¤ºå¼€å‘è€…å·¥å…·ï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220325193907204.png" alt="image-20220325193907204" /><figcaption aria-hidden="true">image-20220325193907204</figcaption>
</figure>
<p><code>Elements</code>æ˜¾ç¤ºç½‘é¡µçš„ç»“æ„ï¼Œ<code>Network</code>æ˜¾ç¤ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨çš„é€šä¿¡ã€‚æˆ‘ä»¬ç‚¹<code>Network</code>ï¼Œç¡®ä¿ç¬¬ä¸€ä¸ªå°çº¢ç¯äº®ç€ï¼ŒChromeå°±ä¼šè®°å½•æ‰€æœ‰æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ï¼š</p>
<p>å½“æˆ‘ä»¬åœ¨åœ°å€æ è¾“å…¥<code>www.sina.com.cn</code>æ—¶ï¼Œæµè§ˆå™¨å°†æ˜¾ç¤ºæ–°æµªçš„é¦–é¡µã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨éƒ½å¹²äº†å“ªäº›äº‹æƒ…å‘¢ï¼Ÿé€šè¿‡<code>Network</code>çš„è®°å½•ï¼Œæˆ‘ä»¬å°±å¯ä»¥çŸ¥é“ã€‚åœ¨<code>Network</code>ä¸­ï¼Œå®šä½åˆ°ç¬¬ä¸€æ¡è®°å½•ï¼Œç‚¹å‡»ï¼Œå³ä¾§å°†æ˜¾ç¤º<code>Request Headers</code>ï¼Œç‚¹å‡»å³ä¾§çš„<code>view source</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°æµè§ˆå™¨å‘ç»™æ–°æµªæœåŠ¡å™¨çš„è¯·æ±‚ï¼š</p>
<p>æœ€ä¸»è¦çš„å¤´ä¸¤è¡Œåˆ†æå¦‚ä¸‹ï¼Œç¬¬ä¸€è¡Œï¼š</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/</span> <span class="meta">HTTP/1.1</span></span><br></pre></td></tr></table></figure>
<p><code>GET</code>è¡¨ç¤ºä¸€ä¸ªè¯»å–è¯·æ±‚ï¼Œå°†ä»æœåŠ¡å™¨è·å¾—ç½‘é¡µæ•°æ®ï¼Œ<code>/</code>è¡¨ç¤ºURLçš„è·¯å¾„ï¼ŒURLæ€»æ˜¯ä»¥<code>/</code>å¼€å¤´ï¼Œ<code>/</code>å°±è¡¨ç¤ºé¦–é¡µï¼Œæœ€åçš„<code>HTTP/1.1</code>æŒ‡ç¤ºé‡‡ç”¨çš„HTTPåè®®ç‰ˆæœ¬æ˜¯1.1ã€‚ç›®å‰HTTPåè®®çš„ç‰ˆæœ¬å°±æ˜¯1.1ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æœåŠ¡å™¨ä¹Ÿæ”¯æŒ1.0ç‰ˆæœ¬ï¼Œä¸»è¦åŒºåˆ«åœ¨äº1.1ç‰ˆæœ¬å…è®¸å¤šä¸ªHTTPè¯·æ±‚å¤ç”¨ä¸€ä¸ªTCPè¿æ¥ï¼Œä»¥åŠ å¿«ä¼ è¾“é€Ÿåº¦ã€‚</p>
<p>ä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œæ¯ä¸€è¡Œéƒ½ç±»ä¼¼äº<code>Xxx: abcdefg</code>ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">Hos<span class="variable">t:</span> www.sina.<span class="keyword">com</span>.<span class="keyword">cn</span></span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºè¯·æ±‚çš„åŸŸåæ˜¯<code>www.sina.com.cn</code>ã€‚å¦‚æœä¸€å°æœåŠ¡å™¨æœ‰å¤šä¸ªç½‘ç«™ï¼ŒæœåŠ¡å™¨å°±éœ€è¦é€šè¿‡<code>Host</code>æ¥åŒºåˆ†æµè§ˆå™¨è¯·æ±‚çš„æ˜¯å“ªä¸ªç½‘ç«™ã€‚</p>
<p>ç»§ç»­å¾€ä¸‹æ‰¾åˆ°<code>Response Headers</code>ï¼Œç‚¹å‡»<code>view source</code>ï¼Œæ˜¾ç¤ºæœåŠ¡å™¨è¿”å›çš„åŸå§‹å“åº”æ•°æ®ï¼š</p>
<p>HTTPå“åº”åˆ†ä¸ºHeaderå’ŒBodyä¸¤éƒ¨åˆ†ï¼ˆBodyæ˜¯å¯é€‰é¡¹ï¼‰ï¼Œæˆ‘ä»¬åœ¨<code>Network</code>ä¸­çœ‹åˆ°çš„Headeræœ€é‡è¦çš„å‡ è¡Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">200 </span>OK</span><br></pre></td></tr></table></figure>
<p><code>200</code>è¡¨ç¤ºä¸€ä¸ªæˆåŠŸçš„å“åº”ï¼Œåé¢çš„<code>OK</code>æ˜¯è¯´æ˜ã€‚å¤±è´¥çš„å“åº”æœ‰<code>404 Not Found</code>ï¼šç½‘é¡µä¸å­˜åœ¨ï¼Œ<code>500 Internal Server Error</code>ï¼šæœåŠ¡å™¨å†…éƒ¨å‡ºé”™ï¼Œç­‰ç­‰ã€‚</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">Content-<span class="keyword">Type</span>: <span class="type">text</span>/html</span><br></pre></td></tr></table></figure>
<p><code>Content-Type</code>æŒ‡ç¤ºå“åº”çš„å†…å®¹ï¼Œè¿™é‡Œæ˜¯<code>text/html</code>è¡¨ç¤ºHTMLç½‘é¡µã€‚è¯·æ³¨æ„ï¼Œæµè§ˆå™¨å°±æ˜¯ä¾é <code>Content-Type</code>æ¥åˆ¤æ–­å“åº”çš„å†…å®¹æ˜¯ç½‘é¡µè¿˜æ˜¯å›¾ç‰‡ï¼Œæ˜¯è§†é¢‘è¿˜æ˜¯éŸ³ä¹ã€‚æµè§ˆå™¨å¹¶ä¸é URLæ¥åˆ¤æ–­å“åº”çš„å†…å®¹ï¼Œæ‰€ä»¥ï¼Œå³ä½¿URLæ˜¯<code>http://example.com/abc.jpg</code>ï¼Œå®ƒä¹Ÿä¸ä¸€å®šå°±æ˜¯å›¾ç‰‡ã€‚</p>
<p>HTTPå“åº”çš„Bodyå°±æ˜¯HTMLæºç ï¼Œæˆ‘ä»¬åœ¨èœå•æ é€‰æ‹©â€œè§†å›¾â€ï¼Œâ€œå¼€å‘è€…â€ï¼Œâ€œæŸ¥çœ‹ç½‘é¡µæºç â€å°±å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æŸ¥çœ‹HTMLæºç ï¼š</p>
<p>å½“æµè§ˆå™¨è¯»å–åˆ°æ–°æµªé¦–é¡µçš„HTMLæºç åï¼Œå®ƒä¼šè§£æHTMLï¼Œæ˜¾ç¤ºé¡µé¢ï¼Œç„¶åï¼Œæ ¹æ®HTMLé‡Œé¢çš„å„ç§é“¾æ¥ï¼Œå†å‘é€HTTPè¯·æ±‚ç»™æ–°æµªæœåŠ¡å™¨ï¼Œæ‹¿åˆ°ç›¸åº”çš„å›¾ç‰‡ã€è§†é¢‘ã€Flashã€JavaScriptè„šæœ¬ã€CSSç­‰å„ç§èµ„æºï¼Œæœ€ç»ˆæ˜¾ç¤ºå‡ºä¸€ä¸ªå®Œæ•´çš„é¡µé¢ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨<code>Network</code>ä¸‹é¢èƒ½çœ‹åˆ°å¾ˆå¤šé¢å¤–çš„HTTPè¯·æ±‚ã€‚</p>
<h3 id="http-è¯·æ±‚">2.3.1 HTTP è¯·æ±‚</h3>
<p>è·Ÿè¸ªäº†æ–°æµªçš„é¦–é¡µï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹HTTPè¯·æ±‚çš„æµç¨‹ï¼š</p>
<p>æ­¥éª¤1ï¼šæµè§ˆå™¨é¦–å…ˆå‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ï¼Œè¯·æ±‚åŒ…æ‹¬ï¼š</p>
<p>æ–¹æ³•ï¼š<code>GET</code>è¿˜æ˜¯<code>POST</code>ï¼Œ<code>GET</code>ä»…è¯·æ±‚èµ„æºï¼Œ<code>POST</code>ä¼šé™„å¸¦ç”¨æˆ·æ•°æ®ï¼›</p>
<p>è·¯å¾„ï¼š<code>/full/url/path</code>ï¼›</p>
<p>åŸŸåï¼šç”±Hostå¤´æŒ‡å®šï¼š<code>Host: www.sina.com.cn</code></p>
<p>ä»¥åŠå…¶ä»–ç›¸å…³çš„Headerï¼›</p>
<p>å¦‚æœæ˜¯POSTï¼Œé‚£ä¹ˆè¯·æ±‚è¿˜åŒ…æ‹¬ä¸€ä¸ªBodyï¼ŒåŒ…å«ç”¨æˆ·æ•°æ®ã€‚</p>
<p>æ­¥éª¤2ï¼šæœåŠ¡å™¨å‘æµè§ˆå™¨è¿”å›HTTPå“åº”ï¼Œå“åº”åŒ…æ‹¬ï¼š</p>
<p>å“åº”ä»£ç ï¼š<code>200</code>è¡¨ç¤ºæˆåŠŸï¼Œ<code>3xx</code>è¡¨ç¤ºé‡å®šå‘ï¼Œ<code>4xx</code>è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æœ‰é”™è¯¯ï¼Œ<code>5xx</code>è¡¨ç¤ºæœåŠ¡å™¨ç«¯å¤„ç†æ—¶å‘ç”Ÿäº†é”™è¯¯ï¼›</p>
<p>å“åº”ç±»å‹ï¼šç”±<code>Content-Type</code>æŒ‡å®šï¼Œä¾‹å¦‚ï¼š<code>Content-Type: text/html;charset=utf-8</code>è¡¨ç¤ºå“åº”ç±»å‹æ˜¯HTMLæ–‡æœ¬ï¼Œå¹¶ä¸”ç¼–ç æ˜¯<code>UTF-8</code>ï¼Œ<code>Content-Type: image/jpeg</code>è¡¨ç¤ºå“åº”ç±»å‹æ˜¯JPEGæ ¼å¼çš„å›¾ç‰‡ï¼›</p>
<p>ä»¥åŠå…¶ä»–ç›¸å…³çš„Headerï¼›</p>
<p>é€šå¸¸æœåŠ¡å™¨çš„HTTPå“åº”ä¼šæºå¸¦å†…å®¹ï¼Œä¹Ÿå°±æ˜¯æœ‰ä¸€ä¸ªBodyï¼ŒåŒ…å«å“åº”çš„å†…å®¹ï¼Œç½‘é¡µçš„HTMLæºç å°±åœ¨Bodyä¸­ã€‚</p>
<p>æ­¥éª¤3ï¼šå¦‚æœæµè§ˆå™¨è¿˜éœ€è¦ç»§ç»­å‘æœåŠ¡å™¨è¯·æ±‚å…¶ä»–èµ„æºï¼Œæ¯”å¦‚å›¾ç‰‡ï¼Œå°±å†æ¬¡å‘å‡ºHTTPè¯·æ±‚ï¼Œé‡å¤æ­¥éª¤1ã€2ã€‚</p>
<p>Webé‡‡ç”¨çš„HTTPåè®®é‡‡ç”¨äº†éå¸¸ç®€å•çš„è¯·æ±‚-å“åº”æ¨¡å¼ï¼Œä»è€Œå¤§å¤§ç®€åŒ–äº†å¼€å‘ã€‚å½“æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªé¡µé¢æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨HTTPå“åº”ä¸­æŠŠHTMLå‘é€å‡ºå»ï¼Œä¸éœ€è¦è€ƒè™‘å¦‚ä½•é™„å¸¦å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼Œæµè§ˆå™¨å¦‚æœéœ€è¦è¯·æ±‚å›¾ç‰‡å’Œè§†é¢‘ï¼Œå®ƒä¼šå‘é€å¦ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œå› æ­¤ï¼Œä¸€ä¸ªHTTPè¯·æ±‚åªå¤„ç†ä¸€ä¸ªèµ„æºã€‚</p>
<p>HTTPåè®®åŒæ—¶å…·å¤‡æå¼ºçš„æ‰©å±•æ€§ï¼Œè™½ç„¶æµè§ˆå™¨è¯·æ±‚çš„æ˜¯<code>http://www.sina.com.cn/</code>çš„é¦–é¡µï¼Œä½†æ˜¯æ–°æµªåœ¨HTMLä¸­å¯ä»¥é“¾å…¥å…¶ä»–æœåŠ¡å™¨çš„èµ„æºï¼Œæ¯”å¦‚<code>&lt;img src="http://i1.sinaimg.cn/home/2013/1008/U8455P30DT20131008135420.png"&gt;</code>ï¼Œä»è€Œå°†è¯·æ±‚å‹åŠ›åˆ†æ•£åˆ°å„ä¸ªæœåŠ¡å™¨ä¸Šï¼Œå¹¶ä¸”ï¼Œä¸€ä¸ªç«™ç‚¹å¯ä»¥é“¾æ¥åˆ°å…¶ä»–ç«™ç‚¹ï¼Œæ— æ•°ä¸ªç«™ç‚¹äº’ç›¸é“¾æ¥èµ·æ¥ï¼Œå°±å½¢æˆäº†World Wide Webï¼Œç®€ç§°â€œä¸‰è¾¾ä¸æºœâ€ï¼ˆWWWï¼‰ã€‚</p>
<h3 id="http-æ ¼å¼">2.3.2 HTTP æ ¼å¼</h3>
<p>æ¯ä¸ªHTTPè¯·æ±‚å’Œå“åº”éƒ½éµå¾ªç›¸åŒçš„æ ¼å¼ï¼Œä¸€ä¸ªHTTPåŒ…å«Headerå’ŒBodyä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­Bodyæ˜¯å¯é€‰çš„ã€‚</p>
<p>HTTPåè®®æ˜¯ä¸€ç§æ–‡æœ¬åè®®ï¼Œæ‰€ä»¥ï¼Œå®ƒçš„æ ¼å¼ä¹Ÿéå¸¸ç®€å•ã€‚HTTP GETè¯·æ±‚çš„æ ¼å¼ï¼š</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">GET</span> <span class="string">/path</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Header1</span><span class="punctuation">: </span>Value1</span><br><span class="line"><span class="attribute">Header2</span><span class="punctuation">: </span>Value2</span><br><span class="line"><span class="attribute">Header3</span><span class="punctuation">: </span>Value3</span><br></pre></td></tr></table></figure>
<p>æ¯ä¸ªHeaderä¸€è¡Œä¸€ä¸ªï¼Œæ¢è¡Œç¬¦æ˜¯<code>\r\n</code>ã€‚</p>
<p>HTTP POSTè¯·æ±‚çš„æ ¼å¼ï¼š</p>
<figure class="highlight http"><table><tr><td class="code"><pre><span class="line"><span class="keyword">POST</span> <span class="string">/path</span> <span class="meta">HTTP/1.1</span></span><br><span class="line"><span class="attribute">Header1</span><span class="punctuation">: </span>Value1</span><br><span class="line"><span class="attribute">Header2</span><span class="punctuation">: </span>Value2</span><br><span class="line"><span class="attribute">Header3</span><span class="punctuation">: </span>Value3</span><br><span class="line"></span><br><span class="line"><span class="gams"><span class="function"><span class="title">body</span></span> data goes here...</span></span><br></pre></td></tr></table></figure>
<p>å½“é‡åˆ°è¿ç»­ä¸¤ä¸ª<code>\r\n</code>æ—¶ï¼ŒHeaderéƒ¨åˆ†ç»“æŸï¼Œåé¢çš„æ•°æ®å…¨éƒ¨æ˜¯Bodyã€‚</p>
<p>HTTPå“åº”çš„æ ¼å¼ï¼š</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">200</span> OK</span><br><span class="line"><span class="attribute">Header1</span>: Value<span class="number">1</span></span><br><span class="line"><span class="attribute">Header2</span>: Value<span class="number">2</span></span><br><span class="line"><span class="attribute">Header3</span>: Value<span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">body</span> data goes here...</span><br></pre></td></tr></table></figure>
<p>HTTPå“åº”å¦‚æœåŒ…å«bodyï¼Œä¹Ÿæ˜¯é€šè¿‡<code>\r\n\r\n</code>æ¥åˆ†éš”çš„ã€‚è¯·å†æ¬¡æ³¨æ„ï¼ŒBodyçš„æ•°æ®ç±»å‹ç”±<code>Content-Type</code>å¤´æ¥ç¡®å®šï¼Œå¦‚æœæ˜¯ç½‘é¡µï¼ŒBodyå°±æ˜¯æ–‡æœ¬ï¼Œå¦‚æœæ˜¯å›¾ç‰‡ï¼ŒBodyå°±æ˜¯å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p>
<p>å½“å­˜åœ¨<code>Content-Encoding</code>æ—¶ï¼ŒBodyæ•°æ®æ˜¯è¢«å‹ç¼©çš„ï¼Œæœ€å¸¸è§çš„å‹ç¼©æ–¹å¼æ˜¯gzipï¼Œæ‰€ä»¥ï¼Œçœ‹åˆ°<code>Content-Encoding: gzip</code>æ—¶ï¼Œéœ€è¦å°†Bodyæ•°æ®å…ˆè§£å‹ç¼©ï¼Œæ‰èƒ½å¾—åˆ°çœŸæ­£çš„æ•°æ®ã€‚å‹ç¼©çš„ç›®çš„åœ¨äºå‡å°‘Bodyçš„å¤§å°ï¼ŒåŠ å¿«ç½‘ç»œä¼ è¾“ã€‚</p>
<p>è¦è¯¦ç»†äº†è§£HTTPåè®®ï¼Œæ¨èâ€œ<a href="http://shop.oreilly.com/product/9781565925090.do">HTTP: The Definitive Guide</a>â€ä¸€ä¹¦ï¼Œéå¸¸ä¸é”™ï¼Œæœ‰ä¸­æ–‡è¯‘æœ¬ï¼š</p>
<p><a href="http://t.cn/R7FguRq">HTTPæƒå¨æŒ‡å—</a></p>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<p><a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1305163149082658">ç½‘ç»œç¼–ç¨‹åŸºç¡€ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)</a></p>
<p><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017804782304672">HTTPåè®®ç®€ä»‹ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)</a></p>
]]></content>
      <categories>
        <category>network</category>
      </categories>
      <tags>
        <tag>network</tag>
      </tags>
  </entry>
  <entry>
    <title>Maven ä½¿ç”¨æ–¹æ³•</title>
    <url>/2022/03/29/Maven-%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<p>Mavenæ˜¯ä¸€ä¸ª Java é¡¹ç›®ç®¡ç†å’Œæ„å»ºçš„å·¥å…·ï¼Œå®ƒå¯ä»¥å®šä¹‰é¡¹ç›®ç»“æ„ã€é¡¹ç›®ä¾èµ–ï¼Œå¹¶ä½¿ç”¨ç»Ÿä¸€çš„æ–¹å¼è¿›è¡Œè‡ªåŠ¨åŒ–æ„å»ºï¼Œæ˜¯ Java é¡¹ç›®ä¸å¯ç¼ºå°‘çš„å·¥å…·ã€‚</p>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç» Java åŒ…ç®¡ç†å·¥å…· Maven çš„ä¸€äº›ä½¿ç”¨æ–¹æ³•ï¼Œä¸»è¦å‚è€ƒäº†ä¸‹é¢çš„ä¸€äº›èµ„æ–™ã€‚</p>
<p><a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1255945359327200">MavenåŸºç¡€ - å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ (liaoxuefeng.com)</a></p>
<span id="more"></span>
<p>åœ¨ Java å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šç”¨åˆ°ç¬¬ä¸‰æ–¹å°è£…å¥½äº†çš„åŠŸèƒ½æ¨¡å—ï¼Œè¿™äº›åŠŸèƒ½éƒ½æ˜¯ä»¥ jar åŒ…çš„å½¢å¼å­˜åœ¨çš„ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šå¼•å…¥å“ªäº›ä¾èµ–åŒ…ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦ç”¨åˆ° <a href="https://commons.apache.org/proper/commons-logging/">commons logging</a>ï¼Œæˆ‘ä»¬å°±å¿…é¡»æŠŠ commons logging çš„ jar åŒ…æ”¾å…¥classpathã€‚å¦‚æœæˆ‘ä»¬è¿˜éœ€è¦ <a href="https://logging.apache.org/log4j/">log4j</a>ï¼Œå°±éœ€è¦æŠŠ <a href="https://logging.apache.org/log4j/">log4j</a> ç›¸å…³çš„ jar åŒ…éƒ½æ”¾åˆ° classpath ä¸­ã€‚è¿™äº›å°±æ˜¯æœ€ç®€å•çš„ä¾èµ–åŒ…çš„ç®¡ç†ã€‚ç°å®ä½¿ç”¨è¿‡ç¨‹ä¸­è¿œæ¯”è¿™è¦å¤æ‚ï¼Œå› ä¸º <a href="https://logging.apache.org/log4j/">log4j</a> å¯èƒ½æœ‰ä¾èµ–äº†å…¶ä»–çš„ jar åŒ…ï¼Œæˆ–è€…æœ‰å¤šä¸ª jar åŒ…éƒ½ä¾èµ–æŸä¸ª jar åŒ…ï¼Œç”šè‡³æœ‰ä¸åŒçš„ç‰ˆæœ¬çš„è¦æ±‚ï¼›</p>
<p>å› æ­¤ä»…ä»…é äººä¸ºç®¡ç†è¿™äº› jar åŒ…ï¼Œåœ¨é¡¹ç›®å¼€å‘ä¸­ä¹Ÿæ˜¯ä¸€ä»¶å¤æ‚ã€ç¹çã€è€—æ—¶çš„äº‹æƒ…ï¼Œè¿™æ—¶å€™å°±éœ€è¦æœ‰ä¸€ä¸ªå·¥å…·ï¼Œå¸®æˆ‘ä»¬ç®¡ç†è¿™äº› jar åŒ…ï¼Œå› æ­¤ Maven å°±å‡ºç°äº†ã€‚</p>
<p>Mavenå°±æ˜¯æ˜¯ä¸“é—¨ä¸ºJavaé¡¹ç›®æ‰“é€ çš„ç®¡ç†å’Œæ„å»ºå·¥å…·ï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æœ‰ï¼š</p>
<ul>
<li>æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„ï¼›</li>
<li>æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–çš„æ„å»ºæµç¨‹ï¼ˆç¼–è¯‘ï¼Œæµ‹è¯•ï¼Œæ‰“åŒ…ï¼Œå‘å¸ƒâ€¦â€¦ï¼‰ï¼›</li>
<li>æä¾›äº†ä¸€å¥—ä¾èµ–ç®¡ç†æœºåˆ¶ã€‚</li>
</ul>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºæ¥ï¼šMaven ä¸ä»…ä»…æ˜¯åŒ…ç®¡ç†çš„é‚£ä¹ˆç®€å•ï¼Œä»–è¿˜å¯ä»¥å®šä¹‰æˆ‘ä»¬ Java é¡¹ç›®çš„æ–‡ä»¶ç»“æ„ï¼Œç”šè‡³å¹²é¢„è‡ªåŠ¨åŒ–æ„å»ºçš„è¿‡ç¨‹ã€‚ä¸‹é¢æˆ‘ä»¬ä¼šä¸€ä¸€å±•å¼€æ¥è®²ã€‚</p>
<h1 id="maven-å®‰è£…">1. Maven å®‰è£…</h1>
<p>è¦å®‰è£… Mavenï¼Œå¯ä»¥ä» <a href="https://maven.apache.org/">Maven å®˜ç½‘</a> ä¸‹è½½æœ€æ–°çš„Maven 3.6.xï¼Œç„¶ååœ¨æœ¬åœ°è§£å‹ï¼Œè®¾ç½®å‡ ä¸ªç¯å¢ƒå˜é‡ï¼š</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">M2_HOME</span>=/path/to/maven-<span class="number">3.6</span>.x</span><br><span class="line"><span class="attr">PATH</span>=<span class="variable">$PATH</span>:<span class="variable">$M2_HOME</span>/bin</span><br></pre></td></tr></table></figure>
<p>Windowså¯ä»¥æŠŠ<code>%M2_HOME%\bin</code>æ·»åŠ åˆ°ç³»ç»ŸPathå˜é‡ä¸­ã€‚</p>
<p>ç„¶åï¼Œæ‰“å¼€å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥<code>mvn -version</code>ï¼Œåº”è¯¥çœ‹åˆ°Mavençš„ç‰ˆæœ¬ä¿¡æ¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚Command Prompt                                    - â–¡ x â”‚</span><br><span class="line">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span><br><span class="line">â”‚Microsoft Windows [Version 10.0.0]                      â”‚</span><br><span class="line">â”‚(c) 2015 Microsoft Corporation. All rights reserved.    â”‚</span><br><span class="line">â”‚                                                        â”‚</span><br><span class="line">â”‚C:\&gt; mvn -version                                       â”‚</span><br><span class="line">â”‚Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918...) â”‚</span><br><span class="line">â”‚Maven home: C:\Users\liaoxuefeng\maven                  â”‚</span><br><span class="line">â”‚Java version: ...                                       â”‚</span><br><span class="line">â”‚...                                                     â”‚</span><br><span class="line">â”‚C:\&gt; _                                                  â”‚</span><br><span class="line">â”‚                                                        â”‚</span><br><span class="line">â”‚                                                        â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæç¤ºå‘½ä»¤æœªæ‰¾åˆ°ï¼Œè¯´æ˜ç³»ç»ŸPATHè·¯å¾„æœ‰è¯¯ï¼Œéœ€è¦ä¿®å¤åå†è¿è¡Œã€‚</p>
<h2 id="idea-ä¸­çš„-maven">1.1 IDEA ä¸­çš„ Maven</h2>
<p>åœ¨ IDEA çš„è®¾ç½®ä¸­æœç´¢ Maven å¯ä»¥çœ‹åˆ°ä»¥ä¸‹è®¾ç½®ä¿¡æ¯ï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/image-20220329140137485.png" alt="image-20220329140137485" /><figcaption aria-hidden="true">image-20220329140137485</figcaption>
</figure>
<p>è¿™é‡Œæˆ‘ä»¬çœ‹å‡ºæ¥ï¼Œæ–°ç‰ˆçš„ IDEA é»˜è®¤åŒ…å«äº† Maven å·¥å…·ï¼Œå…·ä½“è·¯å¾„å’Œç”¨æˆ·çš„å®‰è£…è·¯å¾„æœ‰å…³ï¼Œè¿™é‡Œåˆ—å‡ºæ¥æˆ‘çš„å®‰è£…è·¯å¾„ï¼š</p>
<figure class="highlight taggerscript"><table><tr><td class="code"><pre><span class="line">D:<span class="symbol">\P</span>rogram Files<span class="symbol">\J</span>etBrains<span class="symbol">\I</span>ntelliJ IDEA 2021.3.3<span class="symbol">\p</span>lugins<span class="symbol">\m</span>aven<span class="symbol">\l</span>ib<span class="symbol">\m</span>aven3<span class="symbol">\b</span>in</span><br><span class="line">D:<span class="symbol">\P</span>rogram Files<span class="symbol">\J</span>etBrains<span class="symbol">\I</span>ntelliJ IDEA 2021.3.3<span class="symbol">\p</span>lugins<span class="symbol">\m</span>aven<span class="symbol">\l</span>ib<span class="symbol">\m</span>aven3<span class="symbol">\c</span>onf<span class="symbol">\s</span>ettings.xml</span><br></pre></td></tr></table></figure>
<h1 id="maven-é¡¹ç›®ç»“æ„">2. Maven é¡¹ç›®ç»“æ„</h1>
<p>ä¸€ä¸ªä½¿ç”¨ Maven ç®¡ç†çš„æ™®é€šçš„ Java é¡¹ç›®ï¼Œå®ƒçš„ç›®å½•ç»“æ„é»˜è®¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a-maven-project</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â”œâ”€â”€ main</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ java</span><br><span class="line">â”‚   â”‚   â””â”€â”€ resources</span><br><span class="line">â”‚   â””â”€â”€ test</span><br><span class="line">â”‚       â”œâ”€â”€ java</span><br><span class="line">â”‚       â””â”€â”€ resources</span><br><span class="line">â””â”€â”€ target</span><br></pre></td></tr></table></figure>
<p><code>a-maven-project</code>æ˜¯é¡¹ç›®åï¼ˆé¡¹ç›®çš„æ ¹ç›®å½•ï¼‰ï¼Œ</p>
<p><code>pom.xml</code>æ˜¯é¡¹ç›®æè¿°æ–‡ä»¶</p>
<p><code>src/main/java</code>æ˜¯å­˜æ”¾Javaæºç çš„ç›®å½•ï¼Œ</p>
<p><code>src/main/resources</code>æ˜¯å­˜æ”¾èµ„æºæ–‡ä»¶çš„ç›®å½•ï¼Œ</p>
<p><code>src/test/java</code>æ˜¯å­˜æ”¾æµ‹è¯•æºç çš„ç›®å½•ï¼Œ</p>
<p><code>src/test/resources</code>æ˜¯å­˜æ”¾æµ‹è¯•èµ„æºçš„ç›®å½•ï¼Œ</p>
<p><code>target</code>ç›®å½•é‡Œå­˜æ”¾çš„æ˜¯æœ€åï¼Œæ‰€æœ‰ç¼–è¯‘ã€æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶</p>
<p>è¿™äº›å°±æ˜¯ä¸€ä¸ªMavené¡¹ç›®çš„æ ‡å‡†ç›®å½•ç»“æ„ã€‚<font color="red">æ‰€æœ‰çš„ç›®å½•ç»“æ„éƒ½æ˜¯çº¦å®šå¥½çš„æ ‡å‡†ç»“æ„ï¼Œæˆ‘ä»¬åƒä¸‡ä¸è¦éšæ„ä¿®æ”¹ç›®å½•ç»“æ„ã€‚</font>ä½¿ç”¨æ ‡å‡†ç»“æ„ä¸éœ€è¦åšä»»ä½•é…ç½®ï¼ŒMavenå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚</p>
<p>è¿™é‡Œå…ˆè¯´æ˜ï¼Œæœ€é‡è¦çš„æ˜¯ pom.xml æ–‡ä»¶ï¼Œåé¢æˆ‘ä»¬ä¼šé‡ç‚¹ä»‹ç»ã€‚</p>
<h1 id="pom.xml-æ–‡ä»¶è¯´æ˜">3. pom.xml æ–‡ä»¶è¯´æ˜</h1>
<p>POM å…¨ç§°æ˜¯ Project Object Modelï¼Œå³é¡¹ç›®å¯¹è±¡æ¨¡å‹ã€‚</p>
<p>pom.xml æ–‡ä»¶ä»¥ xml çš„å½¢å¼æè¿°é¡¹ç›®çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬é¡¹ç›®åç§°ã€ç‰ˆæœ¬ã€é¡¹ç›®idã€é¡¹ç›®çš„ä¾èµ–å…³ç³»ã€ç¼–è¯‘ç¯å¢ƒã€æŒç»­é›†æˆã€é¡¹ç›®å›¢é˜Ÿã€è´¡çŒ®ç®¡ç†ã€ç”ŸæˆæŠ¥è¡¨ç­‰ç­‰ã€‚æ€»ä¹‹ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰çš„é¡¹ç›® ä¿¡æ¯ã€‚</p>
<p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæœ€ç®€å•çš„é¡¹ç›®æè¿°<code>pom.xml</code>æ–‡ä»¶ï¼Œå®ƒçš„å†…å®¹é•¿å¾—åƒä¸‹é¢ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- lookup parent from repository --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>&gt;</span>../parent/pom.xml<span class="tag">&lt;/<span class="name">relativePath</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ifc_file_parser<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>ifc_file_parser<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>ifc_file_parser<span class="tag">&lt;/<span class="name">description</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;dependency&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/dependency&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        &lt;dependency&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;groupId&gt;mysql&lt;/groupId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--            &lt;scope&gt;runtime&lt;/scope&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;/dependency&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>modelVersion</strong> æè¿°è¿™ä¸ªPOMæ–‡ä»¶æ˜¯éµä»å“ªä¸ªç‰ˆæœ¬çš„é¡¹ç›®æè¿°ç¬¦ã€‚ <strong>groupId</strong> é’ˆå¯¹ä¸€ä¸ªé¡¹ç›®çš„æ™®éå”¯ä¸€è¯†åˆ«ç¬¦ã€‚é€šå¸¸ç”¨ä¸€ä¸ªå®Œå…¨æ­£ç¡®çš„åŒ…çš„åå­—æ¥ä¸å…¶ä»–é¡¹ç›®çš„ç±»ä¼¼åå­—æ¥è¿›è¡ŒåŒºåˆ†ï¼ˆæ¯”å¦‚ï¼šorg.apache.maven)ã€‚ <strong>artifactId</strong> åœ¨ç»™å®šgroupID çš„groupé‡Œé¢ä¸ºartifact æŒ‡å®šçš„æ ‡è¯†ç¬¦æ˜¯å”¯ä¸€çš„ ï¼Œ artifact ä»£è¡¨çš„æ˜¯è¢«åˆ¶ä½œæˆ–è€…è¢«ä¸€ä¸ªprojectåº”ç”¨çš„ç»„ä»¶(äº§å‡ºç‰©)ã€‚ <strong>version</strong> å½“å‰é¡¹ç›®äº§ç”Ÿçš„ artifact çš„ç‰ˆæœ¬</p>
<p><font color="red"><strong>ä»¥ä¸Š4ä¸ªå…ƒç´ ç¼ºä¸€ä¸å¯ï¼Œå…¶ä¸­ groupIdã€artifactIdã€version æ˜¯æè¿°ä¾èµ–çš„é¡¹ç›®å”¯ä¸€æ ‡å¿—ã€‚</strong></font></p>
<h2 id="åŸºæœ¬ä¿¡æ¯">3.1 åŸºæœ¬ä¿¡æ¯</h2>
<p>åœ¨ project èŠ‚ç‚¹å†…éƒ¨ï¼Œä¸€èˆ¬ç”¨äºæè¿°é¡¹ç›®çš„åç§°ï¼Œidï¼Œç‰ˆæœ¬ï¼Œç­‰åŸºç¡€ä¿¡æ¯ï¼Œå¦‚ä¸‹:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">         </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ifc_file_parser<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>ifc_file_parser<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>ifc_file_parser&lt;/description</span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>...<span class="tag">&lt;/<span class="name">name</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">description</span>&gt;</span>...<span class="tag">&lt;/<span class="name">description</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>...<span class="tag">&lt;/<span class="name">url</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">inceptionYear</span>&gt;</span>...<span class="tag">&lt;/<span class="name">inceptionYear</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">licenses</span>&gt;</span>...<span class="tag">&lt;/<span class="name">licenses</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">organization</span>&gt;</span>...<span class="tag">&lt;/<span class="name">organization</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">developers</span>&gt;</span>...<span class="tag">&lt;/<span class="name">developers</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">contributors</span>&gt;</span>...<span class="tag">&lt;/<span class="name">contributors</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="ç»§æ‰¿ä¿¡æ¯æ¨¡å—ç®¡ç†">3.2 ç»§æ‰¿ä¿¡æ¯ï¼ˆæ¨¡å—ç®¡ç†ï¼‰</h2>
<p>åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼ŒæŠŠä¸€ä¸ªå¤§é¡¹ç›®åˆ†æ‹†ä¸ºå¤šä¸ªæ¨¡å—æ˜¯é™ä½è½¯ä»¶å¤æ‚åº¦çš„æœ‰æ•ˆæ–¹æ³•ï¼š</p>
<p>åœ¨ pom æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ <parent> æ ‡ç­¾æè¿°é¡¹ç›®çš„ç»§æ‰¿ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥æŠŠå¤šä¸ªé¡¹ç›®ç›¸åŒéƒ¨åˆ†çš„æè¿°ä¿¡æ¯æ”¾åœ¨ä¸€èµ·ä½œä¸ºå…¬å…±åŸºç¡€æè¿° pom æ–‡ä»¶ï¼›ç„¶ååœ¨å…¶ä»–å­é¡¹ç›®çš„ pom æ–‡ä»¶ä¸­é€šè¿‡ <parent> æ ‡ç­¾ç»§æ‰¿ å…¬å…±é€šç”¨çš„é¡¹ç›®è®¾ç½®ä¿¡æ¯ã€‚</p>
<p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">                        â”Œ â”€ â”€ â”€ â”€ â”€ â”€ â”</span><br><span class="line">                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">                        â”‚ â”‚Module A â”‚ â”‚</span><br><span class="line">                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” split  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚</span><br><span class="line">â”‚Single Projectâ”‚â”€â”€â”€â”€â”€â”€â”€&gt;  â”‚Module B â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚</span><br><span class="line">                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">                        â”‚ â”‚Module C â”‚ â”‚</span><br><span class="line">                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">                        â”” â”€ â”€ â”€ â”€ â”€ â”€ â”˜</span><br></pre></td></tr></table></figure>
<p>å¯¹äºMavenå·¥ç¨‹æ¥è¯´ï¼ŒåŸæ¥æ˜¯ä¸€ä¸ªå¤§é¡¹ç›®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">single-project</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â””â”€â”€ src</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨å¯ä»¥åˆ†æ‹†æˆ3ä¸ªæ¨¡å—ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mutiple-project</span><br><span class="line">â”œâ”€â”€ module-a</span><br><span class="line">â”‚   â”œâ”€â”€ pom.xml</span><br><span class="line">â”‚   â””â”€â”€ src</span><br><span class="line">â”œâ”€â”€ module-b</span><br><span class="line">â”‚   â”œâ”€â”€ pom.xml</span><br><span class="line">â”‚   â””â”€â”€ src</span><br><span class="line">â””â”€â”€ module-c</span><br><span class="line">    â”œâ”€â”€ pom.xml</span><br><span class="line">    â””â”€â”€ src</span><br></pre></td></tr></table></figure>
<p>Mavenå¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†å¤šä¸ªæ¨¡å—ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠæ¯ä¸ªæ¨¡å—å½“ä½œä¸€ä¸ªç‹¬ç«‹çš„Mavené¡¹ç›®ï¼Œå®ƒä»¬æœ‰å„è‡ªç‹¬ç«‹çš„<code>pom.xml</code>ã€‚ä¾‹å¦‚ï¼Œæ¨¡å—Açš„<code>pom.xml</code>ï¼š</p>
<div class="tabs" id="multi_pom_def"><ul class="nav-tabs"><li class="tab active"><a href="#multi_pom_def-1">æ¨¡å—A`pom.xml`æ–‡ä»¶</a></li><li class="tab"><a href="#multi_pom_def-2">æ¨¡å—B`pom.xml`æ–‡ä»¶</a></li></ul><div class="tab-content"><div class="tab-pane active" id="multi_pom_def-1"><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.learnjava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>module-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>module-a<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="multi_pom_def-2"><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.learnjava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>module-b<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>module-b<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure></div></div></div>
<p>å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ¨¡å—Aå’Œæ¨¡å—Bçš„<code>pom.xml</code>é«˜åº¦ç›¸ä¼¼ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æå–å‡ºå…±åŒéƒ¨åˆ†ä½œä¸º<code>parent</code>ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.learnjava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>parent<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.28<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-engine<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ° parent pom.xml ä¸­çš„<code>&lt;packaging&gt;</code>æ˜¯<code>pom</code>è€Œä¸æ˜¯<code>jar</code>ï¼Œå› ä¸º<code>parent</code>æœ¬èº«ä¸å«ä»»ä½•Javaä»£ç ã€‚ç¼–å†™<code>parent</code>çš„<code>pom.xml</code>åªæ˜¯ä¸ºäº†åœ¨å„ä¸ªæ¨¡å—ä¸­å‡å°‘é‡å¤çš„é…ç½®ã€‚ç°åœ¨æˆ‘ä»¬çš„æ•´ä¸ªå·¥ç¨‹ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">multiple-project</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â”œâ”€â”€ parent</span><br><span class="line">â”‚   â””â”€â”€ pom.xml</span><br><span class="line">â”œâ”€â”€ module-a</span><br><span class="line">â”‚   â”œâ”€â”€ pom.xml</span><br><span class="line">â”‚   â””â”€â”€ src</span><br><span class="line">â”œâ”€â”€ module-b</span><br><span class="line">â”‚   â”œâ”€â”€ pom.xml</span><br><span class="line">â”‚   â””â”€â”€ src</span><br><span class="line">â””â”€â”€ module-c</span><br><span class="line">    â”œâ”€â”€ pom.xml</span><br><span class="line">    â””â”€â”€ src</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æ¨¡å—Aå°±å¯ä»¥ç®€åŒ–ä¸ºï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.learnjava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">relativePath</span>&gt;</span>../parent/pom.xml<span class="tag">&lt;/<span class="name">relativePath</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>module-a<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>module-a<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³çœ‹é¡¹ç›®(çˆ¶æˆ–å­)çš„å®Œå…¨çš„pomç»“æ„ï¼Œå¯ä»¥è¿è¡Œï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn help:effective-pom</span><br></pre></td></tr></table></figure>
<p>æ¨¡å—Bã€æ¨¡å—Céƒ½å¯ä»¥ç›´æ¥ä»<code>parent</code>ç»§æ‰¿ï¼Œå¤§å¹…ç®€åŒ–äº†<code>pom.xml</code>çš„ç¼–å†™ã€‚</p>
<p>å¦‚æœæ¨¡å—Aä¾èµ–æ¨¡å—Bï¼Œåˆ™æ¨¡å—Aéœ€è¦æ¨¡å—Bçš„jaråŒ…æ‰èƒ½æ­£å¸¸ç¼–è¯‘ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¨¡å—Aä¸­å¼•å…¥æ¨¡å—Bï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.learnjava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>module-b<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æœ€åï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œéœ€è¦åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª<code>pom.xml</code>ç»Ÿä¸€ç¼–è¯‘ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.learnjava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>build<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>build<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>parent<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>module-a<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>module-b<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>module-c<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·ï¼Œåœ¨æ ¹ç›®å½•æ‰§è¡Œ<code>mvn clean package</code>æ—¶ï¼ŒMaven æ ¹æ®é¡¹ç›®æ ¹ç›®å½•çš„<code>pom.xml</code>æ‰¾åˆ°åŒ…æ‹¬<code>parent</code>åœ¨å†…çš„å…±4ä¸ª<code>&lt;module&gt;</code>ï¼Œä¸€æ¬¡æ€§å…¨éƒ¨ç¼–è¯‘ã€‚</p>
<h2 id="ä¾èµ–ç®¡ç†">3.3 ä¾èµ–ç®¡ç†</h2>
<p>å¦‚æœæˆ‘ä»¬çš„é¡¹ç›®ä¾èµ–ç¬¬ä¸‰æ–¹çš„jaråŒ…ï¼Œä¾‹å¦‚commons loggingï¼Œ</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šcommons loggingå‘å¸ƒçš„jaråŒ…åœ¨å“ªä¸‹è½½ï¼Ÿ</p>
<p>å¦‚æœæˆ‘ä»¬è¿˜å¸Œæœ›ä¾èµ–log4jï¼Œé‚£ä¹ˆä½¿ç”¨log4jéœ€è¦å“ªäº›jaråŒ…ï¼Ÿ</p>
<p>ç±»ä¼¼çš„ä¾èµ–è¿˜åŒ…æ‹¬ï¼šJUnitï¼ŒJavaMailï¼ŒMySQLé©±åŠ¨ç­‰ç­‰ï¼Œ</p>
<p>ä¸€ä¸ªå¯è¡Œçš„æ–¹æ³•æ˜¯é€šè¿‡æœç´¢å¼•æ“æœç´¢åˆ°é¡¹ç›®çš„å®˜ç½‘ï¼Œç„¶åæ‰‹åŠ¨ä¸‹è½½zipåŒ…ï¼Œè§£å‹ï¼Œæ”¾å…¥classpathã€‚</p>
<p>ä½†æ˜¯ï¼Œè¿™ä¸ªè¿‡ç¨‹éå¸¸ç¹çã€‚</p>
<p>Maven é€šè¿‡ pom æ–‡ä»¶çš„ <dependencies> æ ‡ç­¾ï¼Œè§£å†³äº†ä¾èµ–ç®¡ç†é—®é¢˜ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬çš„é¡¹ç›®ä¾èµ–<code>abc</code>è¿™ä¸ªjaråŒ…ï¼Œè€Œ<code>abc</code>åˆä¾èµ–<code>xyz</code>è¿™ä¸ªjaråŒ…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚Sample Projectâ”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">        â”‚</span><br><span class="line">        â–¼</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚     abc      â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">        â”‚</span><br><span class="line">        â–¼</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚     xyz      â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬å£°æ˜äº†<code>abc</code>çš„ä¾èµ–æ—¶ï¼ŒMaven è‡ªåŠ¨æŠŠ<code>abc</code>å’Œ<code>xyz</code>éƒ½åŠ å…¥äº†æˆ‘ä»¬çš„é¡¹ç›®ä¾èµ–ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å»ç ”ç©¶<code>abc</code>æ˜¯å¦éœ€è¦ä¾èµ–<code>xyz</code>ã€‚</p>
<p>å› æ­¤ï¼ŒMaven çš„ç¬¬ä¸€ä¸ªä½œç”¨å°±æ˜¯è§£å†³ä¾èµ–ç®¡ç†ã€‚æˆ‘ä»¬å£°æ˜äº†è‡ªå·±çš„é¡¹ç›®éœ€è¦<code>abc</code>ï¼ŒMavenä¼šè‡ªåŠ¨å¯¼å…¥<code>abc</code>çš„ jar åŒ…ï¼Œå†åˆ¤æ–­å‡º<code>abc</code>éœ€è¦<code>xyz</code>ï¼Œåˆä¼šè‡ªåŠ¨å¯¼å…¥<code>xyz</code>çš„jaråŒ…ï¼Œè¿™æ ·ï¼Œæœ€ç»ˆæˆ‘ä»¬çš„é¡¹ç›®ä¼šä¾èµ–<code>abc</code>å’Œ<code>xyz</code>ä¸¤ä¸ªjaråŒ…ã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¤æ‚ä¾èµ–ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬å£°æ˜ä¸€ä¸ª<code>spring-boot-starter-web</code>ä¾èµ–æ—¶ï¼ŒMavenä¼šè‡ªåŠ¨è§£æå¹¶åˆ¤æ–­æœ€ç»ˆéœ€è¦å¤§æ¦‚äºŒä¸‰åä¸ªå…¶ä»–ä¾èµ–ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">spring-boot-starter-web</span><br><span class="line">  spring-boot-starter</span><br><span class="line">    spring-boot</span><br><span class="line">    sprint-boot-autoconfigure</span><br><span class="line">    spring-boot-starter-logging</span><br><span class="line">      logback-classic</span><br><span class="line">        logback-core</span><br><span class="line">        slf4j-api</span><br><span class="line">      jcl-over-slf4j</span><br><span class="line">        slf4j-api</span><br><span class="line">      jul-to-slf4j</span><br><span class="line">        slf4j-api</span><br><span class="line">      log4j-over-slf4j</span><br><span class="line">        slf4j-api</span><br><span class="line">    spring-core</span><br><span class="line">    snakeyaml</span><br><span class="line">  spring-boot-starter-tomcat</span><br><span class="line">    tomcat-embed-core</span><br><span class="line">    tomcat-embed-el</span><br><span class="line">    tomcat-embed-websocket</span><br><span class="line">      tomcat-embed-core</span><br><span class="line">  jackson-databind</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬è‡ªå·±å»æ‰‹åŠ¨ç®¡ç†è¿™äº›ä¾èµ–æ˜¯éå¸¸è´¹æ—¶è´¹åŠ›çš„ï¼Œè€Œä¸”å‡ºé”™çš„æ¦‚ç‡å¾ˆå¤§ã€‚</p>
<h3 id="ä¾èµ–å…³ç³»">3.3.1 ä¾èµ–å…³ç³»</h3>
<p>Maven å®šä¹‰äº†å‡ ç§ä¾èµ–å…³ç³»ï¼Œé€šè¿‡ <scope> æ ‡ç­¾æè¿°ï¼Œåˆ†åˆ«æ˜¯</p>
<ol type="1">
<li><code>compile</code></li>
<li><code>test</code></li>
<li><code>runtime</code></li>
<li><code>provided</code></li>
</ol>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">scope</th>
<th style="text-align: left;">è¯´æ˜</th>
<th style="text-align: left;">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">compile</td>
<td style="text-align: left;">ç¼–è¯‘æ—¶éœ€è¦ç”¨åˆ°è¯¥jaråŒ…ï¼ˆé»˜è®¤ï¼‰</td>
<td style="text-align: left;">commons-logging</td>
</tr>
<tr class="even">
<td style="text-align: left;">test</td>
<td style="text-align: left;">ç¼–è¯‘ Test æ—¶éœ€è¦ç”¨åˆ°è¯¥jaråŒ…</td>
<td style="text-align: left;">junit</td>
</tr>
<tr class="odd">
<td style="text-align: left;">runtime</td>
<td style="text-align: left;">ç¼–è¯‘æ—¶ä¸éœ€è¦ï¼Œä½†è¿è¡Œæ—¶éœ€è¦ç”¨åˆ°</td>
<td style="text-align: left;">mysql</td>
</tr>
<tr class="even">
<td style="text-align: left;">provided</td>
<td style="text-align: left;">ç¼–è¯‘æ—¶éœ€è¦ç”¨åˆ°ï¼Œä½†è¿è¡Œæ—¶ç”± JDK æˆ–æŸä¸ªæœåŠ¡å™¨æä¾›</td>
<td style="text-align: left;">servlet-api</td>
</tr>
</tbody>
</table>
<h4 id="compile-ä¾èµ–">3.3.1.1 compile ä¾èµ–</h4>
<p>æœ€å¸¸ç”¨çš„ä¸€è‡´ä¾èµ–ï¼ŒMavenä¼šæŠŠè¿™ç§ç±»å‹çš„ä¾èµ–ç›´æ¥æ”¾å…¥ classpathã€‚</p>
<h4 id="test-ä¾èµ–">3.3.1.2 test ä¾èµ–</h4>
<p>è¡¨ç¤ºä»…åœ¨æµ‹è¯•æ—¶ä½¿ç”¨ï¼Œæ­£å¸¸è¿è¡Œæ—¶å¹¶ä¸éœ€è¦ã€‚æœ€å¸¸ç”¨çš„<code>test</code>ä¾èµ–å°±æ˜¯ JUnitï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.junit.jupiter<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit-jupiter-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="runtime-ä¾èµ–">3.3.1.3 runtime ä¾èµ–</h4>
<p>è¡¨ç¤ºç¼–è¯‘æ—¶ä¸éœ€è¦ï¼Œä½†è¿è¡Œæ—¶éœ€è¦ã€‚æœ€å…¸å‹çš„<code>runtime</code>ä¾èµ–æ˜¯ JDBC é©±åŠ¨ï¼Œä¾‹å¦‚ MySQL é©±åŠ¨ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.48<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="provided-ä¾èµ–">3.3.1.4 provided ä¾èµ–</h4>
<p>è¡¨ç¤ºç¼–è¯‘æ—¶éœ€è¦ï¼Œä½†è¿è¡Œæ—¶ä¸éœ€è¦ã€‚æœ€å…¸å‹çš„<code>provided</code>ä¾èµ–æ˜¯ Servlet APIï¼Œç¼–è¯‘çš„æ—¶å€™éœ€è¦ï¼Œä½†æ˜¯è¿è¡Œæ—¶ï¼ŒServlet æœåŠ¡å™¨å†…ç½®äº†ç›¸å…³çš„ jarï¼Œæ‰€ä»¥è¿è¡ŒæœŸä¸éœ€è¦ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ä»ä½•å¤„ä¸‹è½½æ‰€éœ€çš„ä¾èµ–">3.3.2 ä»ä½•å¤„ä¸‹è½½æ‰€éœ€çš„ä¾èµ–</h3>
<p>æœ€åä¸€ä¸ªé—®é¢˜æ˜¯ï¼ŒMavenå¦‚ä½•çŸ¥é“ä»ä½•å¤„ä¸‹è½½æ‰€éœ€çš„ä¾èµ–ï¼Ÿä¹Ÿå°±æ˜¯ç›¸å…³çš„ jaråŒ…ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯Mavenç»´æŠ¤äº†ä¸€ä¸ªä¸­å¤®ä»“åº“ï¼ˆ<a href="https://repo1.maven.org/">repo1.maven.org</a>ï¼‰</p>
<p>æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“å°†è‡ªèº«çš„jarä»¥åŠç›¸å…³ä¿¡æ¯ä¸Šä¼ è‡³ä¸­å¤®ä»“åº“ï¼ŒMavenå°±å¯ä»¥ä»ä¸­å¤®ä»“åº“æŠŠæ‰€éœ€ä¾èµ–ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p>
<p>Mavenå¹¶ä¸ä¼šæ¯æ¬¡éƒ½ä»ä¸­å¤®ä»“åº“ä¸‹è½½ jar åŒ…ã€‚ä¸€ä¸ª jar åŒ…ä¸€æ—¦è¢«ä¸‹è½½è¿‡ï¼Œå°±ä¼šè¢« Maven è‡ªåŠ¨ç¼“å­˜åœ¨æœ¬åœ°ç›®å½•ï¼ˆç”¨æˆ·ä¸»ç›®å½•çš„<code>.m2</code>ç›®å½•ï¼‰ï¼Œæ‰€ä»¥ï¼Œé™¤äº†ç¬¬ä¸€æ¬¡ç¼–è¯‘æ—¶å› ä¸ºä¸‹è½½éœ€è¦æ—¶é—´ä¼šæ¯”è¾ƒæ…¢ï¼Œåç»­è¿‡ç¨‹å› ä¸ºæœ‰æœ¬åœ°ç¼“å­˜ï¼Œå¹¶ä¸ä¼šé‡å¤ä¸‹è½½ç›¸åŒçš„jaråŒ…ã€‚</p>
<h3 id="å”¯ä¸€id">3.3.3 å”¯ä¸€ID</h3>
<p>å¯¹äºæŸä¸ªä¾èµ–ï¼ŒMavenåªéœ€è¦3ä¸ªå˜é‡å³å¯å”¯ä¸€ç¡®å®šæŸä¸ªjaråŒ…ï¼š</p>
<ul>
<li>groupIdï¼šå±äºç»„ç»‡çš„åç§°ï¼Œç±»ä¼¼Javaçš„åŒ…åï¼›</li>
<li>artifactIdï¼šè¯¥jaråŒ…è‡ªèº«çš„åç§°ï¼Œç±»ä¼¼Javaçš„ç±»åï¼›</li>
<li>versionï¼šè¯¥jaråŒ…çš„ç‰ˆæœ¬ã€‚</li>
</ul>
<p>é€šè¿‡ä¸Šè¿°3ä¸ªå˜é‡ï¼Œå³å¯å”¯ä¸€ç¡®å®šæŸä¸ª jar åŒ…ã€‚Maven é€šè¿‡å¯¹jaråŒ…è¿›è¡Œ PGP ç­¾åç¡®ä¿ä»»ä½•ä¸€ä¸ª jar åŒ…ä¸€ç»å‘å¸ƒå°±æ— æ³•ä¿®æ”¹ã€‚ä¿®æ”¹å·²å‘å¸ƒjaråŒ…çš„å”¯ä¸€æ–¹æ³•æ˜¯å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬ã€‚</p>
<p>å› æ­¤ï¼ŒæŸä¸ª jar åŒ…ä¸€æ—¦è¢« Maven ä¸‹è½½è¿‡ï¼Œå³å¯æ°¸ä¹…åœ°å®‰å…¨ç¼“å­˜åœ¨æœ¬åœ°ã€‚</p>
<p><strong>æ³¨ï¼šåªæœ‰ä»¥<code>-SNAPSHOT</code>ç»“å°¾çš„ç‰ˆæœ¬å·ä¼šè¢«Mavenè§†ä¸ºå¼€å‘ç‰ˆæœ¬ï¼Œå¼€å‘ç‰ˆæœ¬æ¯æ¬¡éƒ½ä¼šé‡å¤ä¸‹è½½ï¼Œè¿™ç§SNAPSHOTç‰ˆæœ¬åªèƒ½ç”¨äºå†…éƒ¨ç§æœ‰çš„ Maven repoï¼Œå…¬å¼€å‘å¸ƒçš„ç‰ˆæœ¬ä¸å…è®¸å‡ºç°SNAPSHOTã€‚</strong></p>
<h3 id="maven-ä¾èµ–é•œåƒ">3.3.4 Maven ä¾èµ–é•œåƒ</h3>
<p>é™¤äº†å¯ä»¥ä» Maven çš„ä¸­å¤®ä»“åº“ä¸‹è½½å¤–ï¼Œè¿˜å¯ä»¥ä» Maven çš„é•œåƒä»“åº“ä¸‹è½½ã€‚å¦‚æœè®¿é—® Maven çš„ä¸­å¤®ä»“åº“éå¸¸æ…¢ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä¸€ä¸ªé€Ÿåº¦è¾ƒå¿«çš„ Maven çš„é•œåƒä»“åº“ã€‚Maven é•œåƒä»“åº“å®šæœŸä»ä¸­å¤®ä»“åº“åŒæ­¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">           slow    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚Maven Central Repo.â”‚</span><br><span class="line">    â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br><span class="line">    â”‚                        â”‚</span><br><span class="line">    â”‚                        â”‚sync</span><br><span class="line">    â”‚                        â–¼</span><br><span class="line">â”Œâ”€â”€â”€â”€â”€â”€â”€â”  fast    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span><br><span class="line">â”‚ User  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚Maven Mirror Repo. â”‚</span><br><span class="line">â””â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span><br></pre></td></tr></table></figure>
<p>ä¸­å›½åŒºç”¨æˆ·å¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„ Maven é•œåƒä»“åº“ã€‚ä½¿ç”¨ Maven é•œåƒä»“åº“éœ€è¦ä¸€ä¸ªé…ç½®ï¼Œåœ¨ç”¨æˆ·ä¸»ç›®å½•ä¸‹è¿›å…¥<code>.m2</code>ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ª<code>settings.xml</code>é…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mirrors</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mirror</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>central<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- å›½å†…æ¨èé˜¿é‡Œäº‘çš„Mavené•œåƒ --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.aliyun.com/repository/central<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mirrors</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é…ç½®é•œåƒä»“åº“åï¼ŒMavençš„ä¸‹è½½é€Ÿåº¦å°±ä¼šéå¸¸å¿«ã€‚</p>
<h3 id="æœç´¢ç¬¬ä¸‰æ–¹ç»„ä»¶">3.3.5 æœç´¢ç¬¬ä¸‰æ–¹ç»„ä»¶</h3>
<p>æœ€åä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæˆ‘ä»¬è¦å¼•ç”¨ä¸€ä¸ªç¬¬ä¸‰æ–¹ç»„ä»¶ï¼Œæ¯”å¦‚<code>okhttp</code>ï¼Œå¦‚ä½•ç¡®åˆ‡åœ°è·å¾—å®ƒçš„<code>groupId</code>ã€<code>artifactId</code>å’Œ<code>version</code>ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡ <a href="https://search.maven.org/">search.maven.org</a> æœç´¢å…³é”®å­—ï¼Œæ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶åï¼Œç›´æ¥å¤åˆ¶ï¼š</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/buctllx/picture_bed/img/l" alt="copy-maven" /><figcaption aria-hidden="true">copy-maven</figcaption>
</figure>
<h3 id="åŒ…ä¾èµ–ç›¸å…³å‘½ä»¤è¡Œ">3.3.6 åŒ…ä¾èµ–ç›¸å…³å‘½ä»¤è¡Œ</h3>
<p>åœ¨å‘½ä»¤ä¸­ï¼Œè¿›å…¥åˆ°<code>pom.xml</code>æ‰€åœ¨ç›®å½•ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">$ mvn clean <span class="class"><span class="keyword">package</span></span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œå³å¯åœ¨<code>target</code>ç›®å½•ä¸‹è·å¾—ç¼–è¯‘åè‡ªåŠ¨æ‰“åŒ…çš„ jarã€‚</p>
<h3 id="åœ¨-ide-ä¸­ä½¿ç”¨-maven">3.3.7 åœ¨ IDE ä¸­ä½¿ç”¨ Maven</h3>
<p>å‡ ä¹æ‰€æœ‰çš„ IDE éƒ½å†…ç½®äº†å¯¹ Maven çš„æ”¯æŒã€‚åœ¨ IDEAï¼ŒEclipse ä¸­ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºæˆ–å¯¼å…¥Maven é¡¹ç›®ã€‚å¦‚æœå¯¼å…¥åçš„ Maven é¡¹ç›®æœ‰é”™è¯¯ï¼Œå¯ä»¥å°è¯•é€‰æ‹©é¡¹ç›®åç‚¹å‡»å³é”®ï¼Œé€‰æ‹© Maven - Update Project... æ›´æ–°ï¼š</p>
<figure>
<img src="https://www.liaoxuefeng.com/files/attachments/1335694802812993/l" alt="update-maven-project" /><figcaption aria-hidden="true">update-maven-project</figcaption>
</figure>
<h3 id="maven-åŒ…ä¾èµ–ä»“åº“åˆ†ç±»">3.3.7 Maven åŒ…ä¾èµ–ä»“åº“åˆ†ç±»</h3>
<h4 id="ä¸­å¤®ä»“åº“">3.3.7.1 ä¸­å¤®ä»“åº“</h4>
<p>å…¶å®æˆ‘ä»¬ä½¿ç”¨çš„å¤§å¤šæ•°ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ˜¯è¿™ä¸ªç”¨æ³•ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ commons loggingã€log4j è¿™äº›ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå°±æ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—çš„å¼€å‘è€…è‡ªå·±æŠŠç¼–è¯‘å¥½çš„ jar åŒ…å‘å¸ƒåˆ°Mavençš„ä¸­å¤®ä»“åº“ä¸­ã€‚</p>
<h4 id="ç§æœ‰ä»“åº“">3.3.7.2 ç§æœ‰ä»“åº“</h4>
<p>ç§æœ‰ä»“åº“æ˜¯æŒ‡å…¬å¸å†…éƒ¨å¦‚æœä¸å¸Œæœ›æŠŠæºç å’Œ jar åŒ…æ”¾åˆ°å…¬ç½‘ä¸Šï¼Œé‚£ä¹ˆå¯ä»¥æ­å»ºç§æœ‰ä»“åº“ã€‚ç§æœ‰ä»“åº“æ€»æ˜¯åœ¨å…¬å¸å†…éƒ¨ä½¿ç”¨ï¼Œå®ƒåªéœ€è¦åœ¨æœ¬åœ°çš„<code>~/.m2/settings.xml</code>ä¸­é…ç½®å¥½ï¼Œä½¿ç”¨æ–¹å¼å’Œä¸­å¤®ä»“ä½æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p>
<h4 id="æœ¬åœ°ä»“åº“">3.3.7.3 æœ¬åœ°ä»“åº“</h4>
<p>æœ¬åœ°ä»“åº“æ˜¯æŒ‡æŠŠæœ¬åœ°å¼€å‘çš„é¡¹ç›®â€œå‘å¸ƒâ€åœ¨æœ¬åœ°ï¼Œè¿™æ ·å…¶ä»–é¡¹ç›®å¯ä»¥é€šè¿‡æœ¬åœ°ä»“åº“å¼•ç”¨å®ƒã€‚</p>
<p>ä½†æ˜¯æˆ‘ä»¬ä¸æ¨èæŠŠè‡ªå·±çš„æ¨¡å—å®‰è£…åˆ° Maven çš„æœ¬åœ°ä»“åº“ï¼Œå› ä¸ºæ¯æ¬¡ä¿®æ”¹æŸä¸ªæ¨¡å—çš„æºç ï¼Œéƒ½éœ€è¦é‡æ–°å®‰è£…ï¼Œéå¸¸å®¹æ˜“å‡ºç°ç‰ˆæœ¬ä¸ä¸€è‡´çš„æƒ…å†µã€‚</p>
<p>æ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ¨¡å—åŒ–ç¼–è¯‘ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œå‘Šè¯‰ Maven å‡ ä¸ªæ¨¡å—ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œéœ€è¦ä¸€å—ç¼–è¯‘ï¼ŒMaven å°±ä¼šè‡ªåŠ¨æŒ‰ä¾èµ–é¡ºåºç¼–è¯‘è¿™äº›æ¨¡å—ã€‚</p>
<h2 id="build-æ„å»ºæµç¨‹">3.4 Build æ„å»ºæµç¨‹</h2>
<p>ä½¿ç”¨ maven æ„å»ºçš„é¡¹ç›®å‡å¯ä»¥ç›´æ¥ä½¿ç”¨ maven build å®Œæˆé¡¹ç›®çš„ç¼–è¯‘æµ‹è¯•æ‰“åŒ…ï¼Œæ— éœ€é¢å¤–é…ç½®</p>
<p>Maven æ˜¯é€šè¿‡ pom.xml æ¥æè¿°æ‰§è¡Œä»»åŠ¡çš„ï¼Œå…¶ä¸­çš„ <build> æ ‡ç­¾æè¿°äº†å¦‚ä½•æ¥ç¼–è¯‘åŠæ‰“åŒ…é¡¹ç›®ï¼Œè€Œå…·ä½“çš„ç¼–è¯‘å’Œæ‰“åŒ…å·¥ä½œæ˜¯é€šè¿‡åœ¨ <build> æ ‡ç­¾ä¸­é…ç½®çš„ <plugin> æ ‡ç­¾æ¥å®Œæˆã€‚å½“ç„¶ <plugin> æ ‡ç­¾é…ç½®ä¸æ˜¯å¿…é¡»çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒMaven ä¼šç»‘å®šä»¥ä¸‹å‡ ä¸ªæ’ä»¶æ¥å®ŒæˆåŸºæœ¬æ“ä½œã€‚</p>
<p>è¦æƒ³äº†è§£ build çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œå…ˆå¾—äº†è§£æ„å»ºæµç¨‹å’Œæ’ä»¶</p>
<h3 id="æ„å»ºæµç¨‹">3.4.1 æ„å»ºæµç¨‹</h3>
<p>Maven çš„ pom.xml æ–‡ä»¶åŒæ—¶å®šä¹‰äº†ä¸€å¥—æ ‡å‡†åŒ–çš„æ„å»ºæµç¨‹ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–å®ç°ç¼–è¯‘ï¼Œæ‰“åŒ…ï¼Œå‘å¸ƒï¼Œç­‰ç­‰ã€‚</p>
<p>ä½¿ç”¨ Maven æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯ Maven çš„ç”Ÿå‘½å‘¨æœŸï¼ˆlifecycleï¼‰ã€‚</p>
<p>Maven çš„ç”Ÿå‘½å‘¨æœŸç”±ä¸€ç³»åˆ—é˜¶æ®µï¼ˆphaseï¼‰æ„æˆ;</p>
<p>Maven é€šè¿‡ lifecycleã€phase å’Œ goal æ¥æä¾›æ ‡å‡†çš„æ„å»ºæµç¨‹ã€‚</p>
<p>æœ€å¸¸ç”¨çš„æ„å»ºå‘½ä»¤æ˜¯æŒ‡å®š phaseï¼Œç„¶åè®© Maven æ‰§è¡Œåˆ°æŒ‡å®šçš„ phaseï¼š</p>
<ul>
<li>mvn clean</li>
<li>mvn clean compile</li>
<li>mvn clean test</li>
<li>mvn clean package</li>
</ul>
<p>é€šå¸¸æƒ…å†µï¼Œæˆ‘ä»¬æ€»æ˜¯æ‰§è¡Œ phase é»˜è®¤ç»‘å®šçš„ goalï¼Œå› æ­¤ä¸å¿…æŒ‡å®š goalã€‚</p>
<h4 id="å†…ç½®çš„ç”Ÿå‘½å‘¨æœŸ-default">3.4.1.1 å†…ç½®çš„ç”Ÿå‘½å‘¨æœŸ default</h4>
<p>ä¸ºä¾‹ï¼Œå®ƒåŒ…å«ä»¥ä¸‹ phaseï¼š</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="bullet">- </span>validate</span><br><span class="line"><span class="bullet">- </span>initialize</span><br><span class="line"><span class="bullet">- </span>generate-sources</span><br><span class="line"><span class="bullet">- </span>process-sources</span><br><span class="line"><span class="bullet">- </span>generate-resources</span><br><span class="line"><span class="bullet">- </span>process-resources</span><br><span class="line"><span class="bullet">- </span>compile</span><br><span class="line"><span class="bullet">- </span>process-classes</span><br><span class="line"><span class="bullet">- </span>generate-test-sources</span><br><span class="line"><span class="bullet">- </span>process-test-sources</span><br><span class="line"><span class="bullet">- </span>generate-test-resources</span><br><span class="line"><span class="bullet">- </span>process-test-resources</span><br><span class="line"><span class="bullet">- </span>test-compile</span><br><span class="line"><span class="bullet">- </span>process-test-classes</span><br><span class="line"><span class="bullet">- </span>test</span><br><span class="line"><span class="bullet">- </span>prepare-package</span><br><span class="line"><span class="bullet">- </span>package</span><br><span class="line"><span class="bullet">- </span>pre-integration-test</span><br><span class="line"><span class="bullet">- </span>integration-test</span><br><span class="line"><span class="bullet">- </span>post-integration-test</span><br><span class="line"><span class="bullet">- </span>verify</span><br><span class="line"><span class="bullet">- </span>install</span><br><span class="line"><span class="bullet">- </span>deploy</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬è¿è¡Œ<code>mvn package</code>ï¼ŒMaven å°±ä¼šæ‰§è¡Œ<code>default</code>ç”Ÿå‘½å‘¨æœŸï¼Œå®ƒä¼šä»å¼€å§‹ä¸€ç›´è¿è¡Œåˆ°<code>package</code>è¿™ä¸ªphaseä¸ºæ­¢ï¼š</p>
<ul>
<li>validate</li>
<li>...</li>
<li>package</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬è¿è¡Œ<code>mvn compile</code>ï¼ŒMavenä¹Ÿä¼šæ‰§è¡Œ<code>default</code>ç”Ÿå‘½å‘¨æœŸï¼Œä½†è¿™æ¬¡å®ƒåªä¼šè¿è¡Œåˆ°<code>compile</code>ï¼Œå³ä»¥ä¸‹å‡ ä¸ªphaseï¼š</p>
<ul>
<li>validate</li>
<li>...</li>
<li>compile</li>
</ul>
<h4 id="å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯-clean">3.4.1.2 å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ clean</h4>
<p>Maven å¦ä¸€ä¸ªå¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ <code>clean</code>ï¼Œå®ƒä¼šåŒ…å«3ä¸ª phaseï¼š</p>
<figure class="highlight excel"><table><tr><td class="code"><pre><span class="line">- pre-<span class="built_in">clean</span></span><br><span class="line">- <span class="built_in">clean</span> ï¼ˆæ³¨æ„è¿™ä¸ª<span class="built_in">clean</span>ä¸æ˜¯ lifecycle è€Œæ˜¯ phaseï¼‰</span><br><span class="line">- post-<span class="built_in">clean</span></span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>mvn</code>è¿™ä¸ªå‘½ä»¤æ—¶ï¼Œåé¢çš„å‚æ•°æ˜¯phaseï¼ŒMavenè‡ªåŠ¨æ ¹æ®ç”Ÿå‘½å‘¨æœŸè¿è¡Œåˆ°æŒ‡å®šçš„phaseã€‚</p>
<h4 id="æŒ‡å®šå¤šä¸ª-phase">3.4.1.3 æŒ‡å®šå¤šä¸ª phase</h4>
<p>æ›´å¤æ‚çš„ä¾‹å­æ˜¯æŒ‡å®šå¤šä¸ªphaseï¼Œä¾‹å¦‚ï¼Œè¿è¡Œ<code>mvn clean package</code>ï¼ŒMavenå…ˆæ‰§è¡Œ<code>clean</code>ç”Ÿå‘½å‘¨æœŸå¹¶è¿è¡Œåˆ°<code>clean</code>è¿™ä¸ªphaseï¼Œç„¶åæ‰§è¡Œ<code>default</code>ç”Ÿå‘½å‘¨æœŸå¹¶è¿è¡Œåˆ°<code>package</code>è¿™ä¸ªphaseï¼Œå®é™…æ‰§è¡Œçš„phaseå¦‚ä¸‹ï¼š</p>
<figure class="highlight haml"><table><tr><td class="code"><pre><span class="line">-<span class="ruby"> <span class="number">1</span>. clean lifecycle</span></span><br><span class="line"><span class="ruby"></span>	-<span class="ruby"> pre-clean</span></span><br><span class="line"><span class="ruby"></span>    -<span class="ruby"> clean ï¼ˆæ³¨æ„è¿™ä¸ªcleanæ˜¯phaseï¼‰</span></span><br><span class="line"><span class="ruby"></span>    </span><br><span class="line">-<span class="ruby"> <span class="number">2</span>. default lifecycle</span></span><br><span class="line"><span class="ruby"></span>    -<span class="ruby"> validate</span></span><br><span class="line"><span class="ruby"></span>    -<span class="ruby"> ...</span></span><br><span class="line"><span class="ruby"></span>    -<span class="ruby"> package</span></span><br></pre></td></tr></table></figure>
<h4 id="å¸¸ç”¨çš„å‘½ä»¤">3.4.1.4 å¸¸ç”¨çš„å‘½ä»¤</h4>
<p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä½¿ç”¨çš„å‘½ä»¤æœ‰ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> æ¸…ç†æ‰€æœ‰ç”Ÿæˆçš„classå’Œjarï¼›</span></span><br><span class="line">mvn clean</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…ˆæ¸…ç†ï¼Œå†æ‰§è¡Œåˆ°`compile`ï¼›</span></span><br><span class="line">mvn clean compile</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…ˆæ¸…ç†ï¼Œå†æ‰§è¡Œåˆ°`<span class="built_in">test</span>`ï¼Œå› ä¸ºæ‰§è¡Œ`<span class="built_in">test</span>`å‰å¿…é¡»æ‰§è¡Œ`compile`ï¼Œæ‰€ä»¥è¿™é‡Œä¸å¿…æŒ‡å®š`compile`ï¼›</span></span><br><span class="line">mvn clean test</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> å…ˆæ¸…ç†ï¼Œå†æ‰§è¡Œåˆ°`package`</span></span><br><span class="line">mvn clean package</span><br></pre></td></tr></table></figure>
<p>å¤§å¤šæ•° phase åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸æ²¡æœ‰åœ¨ <code>pom.xml</code> ä¸­é…ç½®ç›¸å…³çš„è®¾ç½®ï¼Œæ‰€ä»¥è¿™äº› phase ä»€ä¹ˆäº‹æƒ…éƒ½ä¸åšã€‚</p>
<p>ç»å¸¸ç”¨åˆ°çš„phaseå…¶å®åªæœ‰å‡ ä¸ªï¼š</p>
<ul>
<li>cleanï¼šæ¸…ç†</li>
<li>compileï¼šç¼–è¯‘</li>
<li>testï¼šè¿è¡Œæµ‹è¯•</li>
<li>packageï¼šæ‰“åŒ…</li>
</ul>
<h4 id="goal">3.4.1.4 Goal</h4>
<p>æ‰§è¡Œä¸€ä¸ª phase åˆä¼šè§¦å‘ä¸€ä¸ªæˆ–å¤šä¸ª goalï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">æ‰§è¡Œçš„ Phase</th>
<th style="text-align: left;">å¯¹åº”æ‰§è¡Œçš„ Goal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">compile</td>
<td style="text-align: left;">compiler: compile</td>
</tr>
<tr class="even">
<td style="text-align: left;">test</td>
<td style="text-align: left;">compiler: testCompile surefire: test</td>
</tr>
</tbody>
</table>
<p>goal çš„å‘½åæ€»æ˜¯<code>abc:xyz</code>è¿™ç§å½¢å¼ã€‚</p>
<p>çœ‹åˆ°è¿™é‡Œï¼Œç›¸ä¿¡å¤§å®¶å¯¹ lifecycleã€phase å’Œ goal å·²ç»æ˜ç™½äº†å§ï¼Ÿ</p>
<p>å…¶å®æˆ‘ä»¬ç±»æ¯”ä¸€ä¸‹å°±æ˜ç™½äº†ï¼š</p>
<ul>
<li>lifecycle ç›¸å½“äº Java çš„ packageï¼Œå®ƒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª phaseï¼›</li>
<li>phase ç›¸å½“äº Java çš„ classï¼Œå®ƒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ª goalï¼›</li>
<li>goal ç›¸å½“äº class çš„ methodï¼Œå®ƒå…¶å®æ‰æ˜¯çœŸæ­£å¹²æ´»çš„ã€‚</li>
</ul>
<p>å¤§å¤šæ•°æƒ…å†µï¼Œæˆ‘ä»¬åªè¦æŒ‡å®šphaseï¼Œå°±é»˜è®¤æ‰§è¡Œè¿™äº› phase é»˜è®¤ç»‘å®šçš„ goalï¼Œåªæœ‰å°‘æ•°æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŒ‡å®šè¿è¡Œä¸€ä¸ª goalï¼Œä¾‹å¦‚ï¼Œå¯åŠ¨ Tomcat æœåŠ¡å™¨ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mvn tomcat:run</span><br></pre></td></tr></table></figure>
<h3 id="plugin-æ’ä»¶ä½¿ç”¨">3.4.2 plugin æ’ä»¶ä½¿ç”¨</h3>
<p>æˆ‘ä»¬åœ¨å‰é¢ä»‹ç»äº† Maven çš„ lifecycleï¼Œphase å’Œ goal</p>
<p>ä½¿ç”¨Mavenæ„å»ºé¡¹ç›®å°±æ˜¯æ‰§è¡Œ lifecycleï¼Œæ‰§è¡Œåˆ°æŒ‡å®šçš„ phase ä¸ºæ­¢ã€‚æ¯ä¸ª phase ä¼šæ‰§è¡Œè‡ªå·±é»˜è®¤çš„ä¸€ä¸ªæˆ–å¤šä¸ª goalã€‚goal æ˜¯æœ€å°ä»»åŠ¡å•å…ƒã€‚</p>
<p>æˆ‘ä»¬ä»¥<code>compile</code>è¿™ä¸ªphaseä¸ºä¾‹ï¼Œå¦‚æœæ‰§è¡Œï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">mvn</span> compile</span><br></pre></td></tr></table></figure>
<p>Maven å°†æ‰§è¡Œ<code>compile</code>è¿™ä¸ª phaseï¼Œè¿™ä¸ªphaseä¼šè°ƒç”¨<code>compiler</code>æ’ä»¶æ‰§è¡Œå…³è”çš„<code>compiler:compile</code>è¿™ä¸ª goalã€‚</p>
<p>å®é™…ä¸Šï¼š<font color="red">æ‰§è¡Œæ¯ä¸ª phaseï¼Œéƒ½æ˜¯é€šè¿‡æŸä¸ªæ’ä»¶ï¼ˆpluginï¼‰æ¥æ‰§è¡Œçš„ã€‚</font></p>
<p>Maven æœ¬èº«å…¶å®å¹¶ä¸çŸ¥é“å¦‚ä½•æ‰§è¡Œ<code>compile</code>ï¼Œå®ƒåªæ˜¯è´Ÿè´£æ‰¾åˆ°å¯¹åº”çš„<code>compiler</code>æ’ä»¶ï¼Œç„¶åæ‰§è¡Œé»˜è®¤çš„<code>compiler:compile</code>è¿™ä¸ª goal æ¥å®Œæˆç¼–è¯‘ã€‚</p>
<p>æ‰€ä»¥ï¼Œä½¿ç”¨ Mavenï¼Œå®é™…ä¸Šå°±æ˜¯é…ç½®å¥½éœ€è¦ä½¿ç”¨çš„æ’ä»¶ï¼Œç„¶åé€šè¿‡ phase è°ƒç”¨å®ƒä»¬ã€‚</p>
<p>Mavenå·²ç»å†…ç½®äº†ä¸€äº›å¸¸ç”¨çš„æ ‡å‡†æ’ä»¶ï¼š</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">plugin æ’ä»¶åç§°</th>
<th style="text-align: left;">å¯¹åº”æ‰§è¡Œçš„ phase</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">clean</td>
<td style="text-align: left;">clean</td>
</tr>
<tr class="even">
<td style="text-align: left;">compiler</td>
<td style="text-align: left;">compile</td>
</tr>
<tr class="odd">
<td style="text-align: left;">surefire</td>
<td style="text-align: left;">test</td>
</tr>
<tr class="even">
<td style="text-align: left;">jar</td>
<td style="text-align: left;">package</td>
</tr>
</tbody>
</table>
<p>å¦‚æœæ ‡å‡†æ’ä»¶æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ’ä»¶ã€‚ä½¿ç”¨è‡ªå®šä¹‰æ’ä»¶çš„æ—¶å€™ï¼Œéœ€è¦å£°æ˜ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä½¿ç”¨<code>maven-shade-plugin</code>å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯æ‰§è¡Œçš„ jarï¼Œè¦ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œéœ€è¦åœ¨<code>pom.xml</code>ä¸­å£°æ˜å®ƒï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">	<span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-shade-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">							<span class="tag">&lt;<span class="name">goal</span>&gt;</span>shade<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">						<span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                            ...</span><br><span class="line">						<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">					<span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è‡ªå®šä¹‰æ’ä»¶å¾€å¾€éœ€è¦ä¸€äº›é…ç½®ï¼Œä¾‹å¦‚ï¼Œ<code>maven-shade-plugin</code>éœ€è¦æŒ‡å®š Java ç¨‹åºçš„å…¥å£ï¼Œå®ƒçš„é…ç½®æ˜¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">transformers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">transformer</span> <span class="attr">implementation</span>=<span class="string">&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">mainClass</span>&gt;</span>com.itranswarp.learnjava.Main<span class="tag">&lt;/<span class="name">mainClass</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">transformer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">transformers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼ŒMaven è‡ªå¸¦çš„æ ‡å‡†æ’ä»¶ä¾‹å¦‚<code>compiler</code>æ˜¯æ— éœ€å£°æ˜çš„ï¼Œåªæœ‰å¼•å…¥å…¶å®ƒçš„æ’ä»¶æ‰éœ€è¦å£°æ˜ã€‚</strong></p>
<p>ä¸‹é¢åˆ—ä¸¾äº†ä¸€äº›å¸¸ç”¨çš„æ’ä»¶ï¼š</p>
<ul>
<li>maven-shade-pluginï¼šæ‰“åŒ…æ‰€æœ‰ä¾èµ–åŒ…å¹¶ç”Ÿæˆå¯æ‰§è¡Œjarï¼›</li>
<li>cobertura-maven-pluginï¼šç”Ÿæˆå•å…ƒæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šï¼›</li>
<li>findbugs-maven-pluginï¼šå¯¹Javaæºç è¿›è¡Œé™æ€åˆ†æä»¥æ‰¾å‡ºæ½œåœ¨é—®é¢˜ã€‚</li>
</ul>
<h1 id="ä½¿ç”¨-mvnw">4. ä½¿ç”¨ mvnw</h1>
<p><code>mvnw</code>æ˜¯ Maven Wrapper çš„ç¼©å†™ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬å®‰è£… Maven æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿæ‰€æœ‰é¡¹ç›®éƒ½ä¼šä½¿ç”¨å…¨å±€å®‰è£…çš„è¿™ä¸ª Maven ç‰ˆæœ¬ã€‚</p>
<p>ä½†æ˜¯ï¼Œå¯¹äºæŸäº›é¡¹ç›®æ¥è¯´ï¼Œå®ƒå¯èƒ½å¿…é¡»ä½¿ç”¨æŸä¸ªç‰¹å®šçš„ Maven ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨ Maven Wrapperï¼Œå®ƒå¯ä»¥è´Ÿè´£ç»™è¿™ä¸ªç‰¹å®šçš„é¡¹ç›®å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ Mavenï¼Œè€Œå…¶ä»–é¡¹ç›®ä¸å—å½±å“ã€‚</p>
<p>ç®€å•åœ°è¯´ï¼ŒMaven Wrapper å°±æ˜¯ç»™ä¸€ä¸ªé¡¹ç›®æä¾›ä¸€ä¸ªç‹¬ç«‹çš„ï¼ŒæŒ‡å®šç‰ˆæœ¬çš„ Maven ç»™å®ƒä½¿ç”¨ã€‚</p>
<p>è¿™æœ‰ç‚¹ç±»ä¼¼äº Python çš„è™šæ‹Ÿç¯å¢ƒ</p>
<h2 id="å®‰è£…-maven-wrapper">4.1 å®‰è£… Maven Wrapper</h2>
<p>å®‰è£…Maven Wrapperæœ€ç®€å•çš„æ–¹å¼æ˜¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ï¼ˆå³<code>pom.xml</code>æ‰€åœ¨çš„ç›®å½•ï¼‰ä¸‹è¿è¡Œå®‰è£…å‘½ä»¤ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">mvn -N io.takari:maven:<span class="number">0.7</span><span class="number">.6</span>:<span class="keyword">wrapper</span></span><br></pre></td></tr></table></figure>
<p>å®ƒä¼šè‡ªåŠ¨ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„Mavenã€‚æ³¨æ„<code>0.7.6</code>æ˜¯Maven Wrapperçš„ç‰ˆæœ¬ã€‚æœ€æ–°çš„Maven Wrapperç‰ˆæœ¬å¯ä»¥å»<a href="https://github.com/takari/maven-wrapper">å®˜æ–¹ç½‘ç«™</a>æŸ¥çœ‹ã€‚</p>
<p>å¦‚æœè¦æŒ‡å®šä½¿ç”¨çš„Mavenç‰ˆæœ¬ï¼Œä½¿ç”¨ä¸‹é¢çš„å®‰è£…å‘½ä»¤æŒ‡å®šç‰ˆæœ¬ï¼Œä¾‹å¦‚<code>3.3.3</code>ï¼š</p>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">mvn -N io.takari:maven:<span class="number">0.7</span><span class="number">.6</span>:<span class="keyword">wrapper</span> -Dmaven=<span class="number">3.3</span><span class="number">.3</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…åï¼ŒæŸ¥çœ‹é¡¹ç›®ç»“æ„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">my-project</span><br><span class="line">â”œâ”€â”€ .mvn</span><br><span class="line">â”‚   â””â”€â”€ wrapper</span><br><span class="line">â”‚       â”œâ”€â”€ MavenWrapperDownloader.java</span><br><span class="line">â”‚       â”œâ”€â”€ maven-wrapper.jar</span><br><span class="line">â”‚       â””â”€â”€ maven-wrapper.properties</span><br><span class="line">â”œâ”€â”€ mvnw</span><br><span class="line">â”œâ”€â”€ mvnw.cmd</span><br><span class="line">â”œâ”€â”€ pom.xml</span><br><span class="line">â””â”€â”€ src</span><br><span class="line">    â”œâ”€â”€ main</span><br><span class="line">    â”‚   â”œâ”€â”€ java</span><br><span class="line">    â”‚   â””â”€â”€ resources</span><br><span class="line">    â””â”€â”€ test</span><br><span class="line">        â”œâ”€â”€ java</span><br><span class="line">        â””â”€â”€ resources</span><br></pre></td></tr></table></figure>
<p>å‘ç°å¤šäº†<code>mvnw</code>ã€<code>mvnw.cmd</code>å’Œ<code>.mvn</code>ç›®å½•ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠ<code>mvn</code>å‘½ä»¤æ”¹æˆ<code>mvnw</code>å°±å¯ä»¥ä½¿ç”¨è·Ÿé¡¹ç›®å…³è”çš„Mavenã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">mvnw clean <span class="class"><span class="keyword">package</span></span></span><br></pre></td></tr></table></figure>
<p>åœ¨Linuxæˆ–macOSä¸‹è¿è¡Œæ—¶éœ€è¦åŠ ä¸Š<code>./</code>ï¼š</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">./mvnw clean <span class="class"><span class="keyword">package</span></span></span><br></pre></td></tr></table></figure>
<p>Maven Wrapper çš„å¦ä¸€ä¸ªä½œç”¨æ˜¯æŠŠé¡¹ç›®çš„<code>mvnw</code>ã€<code>mvnw.cmd</code>å’Œ<code>.mvn</code>æäº¤åˆ°ç‰ˆæœ¬åº“ä¸­ï¼Œå¯ä»¥ä½¿æ‰€æœ‰å¼€å‘äººå‘˜ä½¿ç”¨ç»Ÿä¸€çš„Mavenç‰ˆæœ¬ã€‚</p>
<h1 id="å‘å¸ƒ-artifact">5. å‘å¸ƒ Artifact</h1>
<p>å½“æˆ‘ä»¬ä½¿ç”¨<code>commons-logging</code>è¿™äº›ç¬¬ä¸‰æ–¹å¼€æºåº“çš„æ—¶å€™ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯é€šè¿‡ Maven è‡ªåŠ¨ä¸‹è½½å®ƒçš„ jaråŒ…ï¼Œå¹¶æ ¹æ®å…¶<code>pom.xml</code>è§£æä¾èµ–ï¼Œè‡ªåŠ¨æŠŠç›¸å…³ä¾èµ–åŒ…éƒ½ä¸‹è½½ååŠ å…¥åˆ° classpathã€‚</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šå½“æˆ‘ä»¬è‡ªå·±å†™äº†ä¸€ä¸ªç‰›é€¼çš„å¼€æºåº“æ—¶ï¼Œéå¸¸å¸Œæœ›åˆ«äººä¹Ÿèƒ½ä½¿ç”¨ï¼Œæ€»ä¸èƒ½ç›´æ¥æ”¾ä¸ª jar åŒ…çš„é“¾æ¥è®©åˆ«äººä¸‹è½½å§ï¼Ÿ</p>
<p>å¦‚æœæˆ‘ä»¬æŠŠè‡ªå·±çš„å¼€æºåº“æ”¾åˆ°Mavençš„repoä¸­ï¼Œé‚£ä¹ˆï¼Œåˆ«äººåªéœ€æŒ‰æ ‡å‡†å¼•ç”¨<code>groupId:artifactId:version</code>ï¼Œå³å¯è‡ªåŠ¨ä¸‹è½½ jar åŒ…ä»¥åŠç›¸å…³ä¾èµ–ã€‚</p>
<p>å› æ­¤ï¼Œæœ¬èŠ‚æˆ‘ä»¬ä»‹ç»å¦‚ä½•å‘å¸ƒä¸€ä¸ªåº“åˆ°Mavençš„repoä¸­ã€‚</p>
<p>æŠŠè‡ªå·±çš„åº“å‘å¸ƒåˆ° Maven çš„ repo ä¸­æœ‰å¥½å‡ ç§æ–¹æ³•ï¼Œæˆ‘ä»¬ä»‹ç»3ç§æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚</p>
<h2 id="ä»¥é™æ€æ–‡ä»¶å‘å¸ƒ">5.1 ä»¥é™æ€æ–‡ä»¶å‘å¸ƒ</h2>
<p>å¦‚æœæˆ‘ä»¬è§‚å¯Ÿä¸€ä¸ªä¸­å¤®ä»“åº“çš„Artifactç»“æ„ï¼Œä¾‹å¦‚<a href="https://commons.apache.org/proper/commons-math/">Commons Math</a>ï¼Œå®ƒçš„groupIdæ˜¯<code>org.apache.commons</code>ï¼ŒartifactId æ˜¯<code>commons-math3</code>ï¼Œä»¥ç‰ˆæœ¬<code>3.6.1</code>ä¸ºä¾‹ï¼Œå‘å¸ƒåœ¨ä¸­å¤®ä»“åº“çš„æ–‡ä»¶å¤¹è·¯å¾„å°±æ˜¯https://repo1.maven.org/maven2/org/apache/commons/commons-math3/3.6.1/ï¼Œåœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹ï¼Œ<code>commons-math3-3.6.1.jar</code>å°±æ˜¯å‘å¸ƒçš„jaråŒ…ï¼Œ<code>commons-math3-3.6.1.pom</code>å°±æ˜¯å®ƒçš„<code>pom.xml</code>æè¿°æ–‡ä»¶ï¼Œ<code>commons-math3-3.6.1-sources.jar</code>æ˜¯æºä»£ç ï¼Œ<code>commons-math3-3.6.1-javadoc.jar</code>æ˜¯æ–‡æ¡£ã€‚å…¶å®ƒä»¥<code>.asc</code>ã€<code>.md5</code>ã€<code>.sha1</code>ç»“å°¾çš„æ–‡ä»¶åˆ†åˆ«æ˜¯ GPG ç­¾åã€MD5 æ‘˜è¦å’ŒSHA-1 æ‘˜è¦ã€‚</p>
<p>æˆ‘ä»¬åªè¦æŒ‰ç…§è¿™ç§ç›®å½•ç»“æ„ç»„ç»‡æ–‡ä»¶ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ Maven ä»“åº“ã€‚</p>
<p>æˆ‘ä»¬ä»¥å¹¿å—å¥½è¯„çš„å¼€æºé¡¹ç›® <a href="https://github.com/michaelliao/how-to-become-rich">how-to-become-rich</a> ä¸ºä¾‹ï¼Œå…ˆåˆ›å»º Maven å·¥ç¨‹ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">how-to-become-rich</span><br><span class="line">â”œâ”€â”€ maven-repo        &lt;-- Mavenæœ¬åœ°æ–‡ä»¶ä»“åº“</span><br><span class="line">â”œâ”€â”€ pom.xml           &lt;-- é¡¹ç›®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ src</span><br><span class="line">â”‚   â”œâ”€â”€ main</span><br><span class="line">â”‚   â”‚   â”œâ”€â”€ java      &lt;-- æºç ç›®å½•</span><br><span class="line">â”‚   â”‚   â””â”€â”€ resources &lt;-- èµ„æºç›®å½•</span><br><span class="line">â”‚   â””â”€â”€ test</span><br><span class="line">â”‚       â”œâ”€â”€ java      &lt;-- æµ‹è¯•æºç ç›®å½•</span><br><span class="line">â”‚       â””â”€â”€ resources &lt;-- æµ‹è¯•èµ„æºç›®å½•</span><br><span class="line">â””â”€â”€ target            &lt;-- ç¼–è¯‘è¾“å‡ºç›®å½•</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>pom.xml</code>ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>local-repo-release<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>GitHub Release<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>file://$&#123;project.basedir&#125;/maven-repo<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-source-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-sources<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar-no-fork<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-javadoc-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-javadocs<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>package<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°<code>&lt;distributionManagement&gt;</code>ï¼Œå®ƒæŒ‡ç¤ºäº†å‘å¸ƒçš„è½¯ä»¶åŒ…çš„ä½ç½®ï¼Œè¿™é‡Œçš„<code>&lt;url&gt;</code>æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>maven-repo</code>ç›®å½•ï¼Œåœ¨<code>&lt;build&gt;</code>ä¸­å®šä¹‰çš„ä¸¤ä¸ªæ’ä»¶<code>maven-source-plugin</code>å’Œ<code>maven-javadoc-plugin</code>åˆ†åˆ«ç”¨æ¥åˆ›å»ºæºç å’Œ javadocï¼Œå¦‚æœä¸æƒ³å‘å¸ƒæºç ï¼Œå¯ä»¥æŠŠå¯¹åº”çš„æ’ä»¶å»æ‰ã€‚</p>
<p>æˆ‘ä»¬ç›´æ¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡ŒMavenå‘½ä»¤<code>mvn clean package deploy</code>ï¼Œå¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨<code>maven-repo</code>ç›®å½•ä¸‹æ‰¾åˆ°éƒ¨ç½²åçš„æ‰€æœ‰æ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">maven-repo</span><br><span class="line">â””â”€â”€ com</span><br><span class="line">    â””â”€â”€ itranswarp</span><br><span class="line">        â””â”€â”€ rich</span><br><span class="line">            â””â”€â”€ how-to-become-rich</span><br><span class="line">                â”œâ”€â”€ 1.0.0</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0-javadoc.jar</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0-javadoc.jar.md5</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0-javadoc.jar.sha1</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0-sources.jar</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0-sources.jar.md5</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0-sources.jar.sha1</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0.jar</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0.jar.md5</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0.jar.sha1</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0.pom</span><br><span class="line">                â”‚   â”œâ”€â”€ how-to-become-rich-1.0.0.pom.md5</span><br><span class="line">                â”‚   â””â”€â”€ how-to-become-rich-1.0.0.pom.sha1</span><br><span class="line">                â”œâ”€â”€ maven-metadata.xml</span><br><span class="line">                â”œâ”€â”€ maven-metadata.xml.md5</span><br><span class="line">                â””â”€â”€ maven-metadata.xml.sha1</span><br></pre></td></tr></table></figure>
<p>æœ€åä¸€æ­¥ï¼Œæ˜¯æŠŠè¿™ä¸ªå·¥ç¨‹æ¨åˆ° GitHubä¸Šï¼Œå¹¶é€‰æ‹©<code>Settings</code>-<code>GitHub Pages</code>ï¼Œé€‰æ‹©<code>master branch</code>å¯ç”¨PagesæœåŠ¡ï¼š</p>
<figure>
<img src="https://www.liaoxuefeng.com/files/attachments/1347989708734529/l" alt="enable-github-pages" /><figcaption aria-hidden="true">enable-github-pages</figcaption>
</figure>
<p>è¿™æ ·ï¼ŒæŠŠå…¨éƒ¨å†…å®¹æ¨é€è‡³ GitHub åï¼Œå³å¯ä½œä¸ºé™æ€ç½‘ç«™è®¿é—® Maven çš„ repoï¼Œå®ƒçš„åœ°å€æ˜¯https://michaelliao.github.io/how-to-become-rich/maven-repo/ã€‚ç‰ˆæœ¬<code>1.0.0</code>å¯¹åº”çš„jaråŒ…åœ°å€æ˜¯ï¼š</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">https:<span class="regexp">//mi</span>chaelliao.github.io<span class="regexp">/how-to-become-rich/m</span>aven-repo<span class="regexp">/com/i</span>transwarp<span class="regexp">/rich/</span>how-to-become-rich<span class="regexp">/1.0.0/</span>how-to-become-rich-<span class="number">1.0</span>.<span class="number">0</span>.jar</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œå¦‚æœå…¶ä»–äººå¸Œæœ›å¼•ç”¨è¿™ä¸ªMavenåŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å‘ŠçŸ¥å¦‚ä¸‹ä¾èµ–å³å¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.rich<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>how-to-become-rich<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œé™¤äº†æ­£å¸¸å¯¼å…¥ä¾èµ–å¤–ï¼Œå¯¹æ–¹è¿˜éœ€è¦å†æ·»åŠ ä¸€ä¸ª<code>&lt;repository&gt;</code>çš„å£°æ˜ï¼Œå³ä½¿ç”¨æ–¹å®Œæ•´çš„<code>pom.xml</code>å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>how-to-become-rich-usage<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>11<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>11<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>github-rich-repo<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>The Maven Repository on Github<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://michaelliao.github.io/how-to-become-rich/maven-repo/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp.rich<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>how-to-become-rich<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨<code>&lt;repository&gt;</code>ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»å£°æ˜å‘å¸ƒçš„Mavençš„repoåœ°å€ï¼Œå…¶ä¸­<code>&lt;id&gt;</code>å’Œ<code>&lt;name&gt;</code>å¯ä»¥ä»»æ„å¡«å†™ï¼Œ<code>&lt;url&gt;</code>å¡«å…¥GitHub Pagesæä¾›çš„åœ°å€+<code>/maven-repo/</code>åç¼€ã€‚ç°åœ¨ï¼Œå³å¯æ­£å¸¸å¼•ç”¨è¿™ä¸ªåº“å¹¶ç¼–å†™ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Millionaire millionaire = <span class="keyword">new</span> Millionaire();</span><br><span class="line">System.out.println(millionaire.howToBecomeRich());</span><br></pre></td></tr></table></figure>
<p>æœ‰çš„ç«¥é‹ä¼šé—®ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨<code>commons-logging</code>ç­‰ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œå¹¶ä¸éœ€è¦å£°æ˜repoåœ°å€ï¼Ÿè¿™æ˜¯å› ä¸ºè¿™äº›åº“éƒ½æ˜¯å‘å¸ƒåˆ°Mavenä¸­å¤®ä»“åº“çš„ï¼Œå‘å¸ƒåˆ°ä¸­å¤®ä»“åº“åï¼Œä¸éœ€è¦å‘Šè¯‰Mavenä»“åº“åœ°å€ï¼Œå› ä¸ºå®ƒçŸ¥é“ä¸­å¤®ä»“åº“çš„åœ°å€é»˜è®¤æ˜¯ https://repo1.maven.org/maven2/ï¼Œä¹Ÿå¯ä»¥é€šè¿‡<code>~/.m2/settings.xml</code>æŒ‡å®šä¸€ä¸ªä»£ç†ä»“åº“åœ°å€ä»¥æ›¿ä»£ä¸­å¤®ä»“åº“æ¥æé«˜é€Ÿåº¦ï¼ˆå‚è€ƒ<a href="https://www.liaoxuefeng.com/wiki/1252599548343744/1309301178105890">ä¾èµ–ç®¡ç†</a>çš„Mavené•œåƒï¼‰ã€‚</p>
<p>å› ä¸º GitHub Pages å¹¶ä¸ä¼šæŠŠæˆ‘ä»¬å‘å¸ƒçš„ Maven åŒ…åŒæ­¥åˆ°ä¸­å¤®ä»“åº“ï¼Œæ‰€ä»¥è‡ªç„¶ä½¿ç”¨æ–¹å¿…é¡»æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªæˆ‘ä»¬æä¾›çš„ä»“åº“åœ°å€ã€‚</p>
<p>æ­¤å¤–ï¼Œé€šè¿‡ GitHub Pages å‘å¸ƒ Maven repo æ—¶éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œå³ä¸è¦æ”¹åŠ¨å·²å‘å¸ƒçš„ç‰ˆæœ¬ã€‚å› ä¸ºMavençš„ä»“åº“æ˜¯ä¸å…è®¸ä¿®æ”¹ä»»ä½•ç‰ˆæœ¬çš„ï¼Œå¯¹ä¸€ä¸ªåº“è¿›è¡Œä¿®æ”¹çš„å”¯ä¸€æ–¹æ³•æ˜¯å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆæœ¬ã€‚ä½†æ˜¯é€šè¿‡é™æ€æ–‡ä»¶çš„æ–¹å¼å‘å¸ƒ repoï¼Œå®é™…ä¸Šæˆ‘ä»¬æ˜¯å¯ä»¥ä¿®æ”¹ jar æ–‡ä»¶çš„ï¼Œä½†æœ€å¥½éµå®ˆè§„èŒƒï¼Œä¸è¦ä¿®æ”¹å·²å‘å¸ƒç‰ˆæœ¬ã€‚</p>
<h2 id="é€šè¿‡-nexus-å‘å¸ƒåˆ°ä¸­å¤®ä»“åº“">5.2 é€šè¿‡ Nexus å‘å¸ƒåˆ°ä¸­å¤®ä»“åº“</h2>
<p>æœ‰çš„ç«¥é‹ä¼šé—®ï¼Œèƒ½ä¸èƒ½æŠŠè‡ªå·±çš„å¼€æºåº“å‘å¸ƒåˆ° Maven çš„ä¸­å¤®ä»“åº“ï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸éœ€è¦å£°æ˜ repo åœ°å€ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨ï¼Œæ˜¾å¾—æ›´ä¸“ä¸šã€‚</p>
<p>å½“ç„¶å¯ä»¥ï¼Œä½†æˆ‘ä»¬ä¸èƒ½ç›´æ¥å‘å¸ƒåˆ°Mavenä¸­å¤®ä»“åº“ï¼Œè€Œæ˜¯é€šè¿‡æ›²çº¿æ•‘å›½çš„æ–¹å¼ï¼Œå‘å¸ƒåˆ°<a href="https://central.sonatype.org/">central.sonatype.org</a>ï¼Œå®ƒä¼šå®šæœŸè‡ªåŠ¨åŒæ­¥åˆ° Maven çš„ä¸­å¤®ä»“åº“ã€‚<a href="https://www.sonatype.com/nexus-repository-oss">Nexus</a> æ˜¯ä¸€ä¸ªæ”¯æŒ Maven ä»“åº“çš„è½¯ä»¶ï¼Œç”± Sonatype å¼€å‘ï¼Œæœ‰å…è´¹ç‰ˆå’Œä¸“ä¸šç‰ˆä¸¤ä¸ªç‰ˆæœ¬ï¼Œå¾ˆå¤šå¤§å…¬å¸å†…éƒ¨éƒ½ä½¿ç”¨ Nexus ä½œä¸ºè‡ªå·±çš„ç§æœ‰Mavenä»“åº“ï¼Œè€Œè¿™ä¸ª <a href="https://central.sonatype.org/">central.sonatype.org</a> ç›¸å½“äºé¢å‘å¼€æºçš„ä¸€ä¸ªNexuså…¬å…±æœåŠ¡ã€‚</p>
<p>æ‰€ä»¥ï¼Œç¬¬ä¸€æ­¥æ˜¯åœ¨ <a href="https://central.sonatype.org/">central.sonatype.org</a> ä¸Šæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œæ³¨å†Œé“¾æ¥éå¸¸éšè”½ï¼Œå¯ä»¥è‡ªå·±å…ˆæ‰¾æ‰¾ï¼Œæ‰¾åŠå°æ—¶æ²¡æ‰¾åˆ°ç‚¹ <a href="javascript:showSonatypeSignUpLink()">è¿™é‡Œ</a> æŸ¥çœ‹æ”»ç•¥ã€‚</p>
<p>å¦‚æœæ³¨å†Œé¡ºåˆ©å¹¶å®¡æ ¸é€šè¿‡ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç™»å½•è´¦å·ï¼Œç„¶åï¼Œé€šè¿‡<a href="https://central.sonatype.org/pages/apache-maven.html">è¿™ä¸ªé¡µé¢</a>ä¸€æ­¥ä¸€æ­¥æ“ä½œå°±å¯ä»¥æˆåŠŸåœ°å°†è‡ªå·±çš„ Artifact å‘å¸ƒåˆ° Nexus ä¸Šï¼Œå†è€å¿ƒç­‰å¾…å‡ ä¸ªå°æ—¶åï¼Œä½ çš„ Artifact å°±ä¼šå‡ºç°åœ¨Mavençš„ä¸­å¤®ä»“åº“ä¸­ã€‚</p>
<p>è¿™é‡Œç®€å•æä¸€ä¸‹å‘å¸ƒé‡ç‚¹ä¸éš¾ç‚¹ï¼š</p>
<ul>
<li>å¿…é¡»æ­£ç¡®åˆ›å»º GPG ç­¾åï¼ŒLinux å’Œ Mac ä¸‹æ¨èä½¿ç”¨ gnupg2ï¼›</li>
<li>å¿…é¡»åœ¨<code>~/.m2/settings.xml</code>ä¸­é…ç½®å¥½ç™»å½•ç”¨æˆ·åå’Œå£ä»¤ï¼Œä»¥åŠ GPG å£ä»¤ï¼š</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">username</span>&gt;</span>OSSRH-USERNAME<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">password</span>&gt;</span>OSSRH-PASSWORD<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">profiles</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">profile</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">activeByDefault</span>&gt;</span>true<span class="tag">&lt;/<span class="name">activeByDefault</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gpg.executable</span>&gt;</span>gpg2<span class="tag">&lt;/<span class="name">gpg.executable</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gpg.passphrase</span>&gt;</span>GPG-PASSWORD<span class="tag">&lt;/<span class="name">gpg.passphrase</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">profile</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">profiles</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>åœ¨å¾…å‘å¸ƒçš„ Artifact çš„<code>pom.xml</code>ä¸­æ·»åŠ  OSS çš„ Maven repo åœ°å€ï¼Œä»¥åŠ<code>maven-jar-plugin</code>ã€<code>maven-source-plugin</code>ã€<code>maven-javadoc-plugin</code>ã€<code>maven-gpg-plugin</code>ã€<code>nexus-staging-maven-plugin</code>ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://oss.sonatype.org/content/repositories/snapshots<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">snapshotRepository</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>Nexus Release Repository<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://oss.sonatype.org/service/local/staging/deploy/maven2/<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-jar-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>test-jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-source-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-sources<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar-no-fork<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-javadoc-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>attach-javadocs<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">additionalOption</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">additionalOption</span>&gt;</span>-Xdoclint:none<span class="tag">&lt;/<span class="name">additionalOption</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">additionalOption</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-gpg-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">id</span>&gt;</span>sign-artifacts<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">phase</span>&gt;</span>verify<span class="tag">&lt;/<span class="name">phase</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>sign<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.sonatype.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>nexus-staging-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.6.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">extensions</span>&gt;</span>true<span class="tag">&lt;/<span class="name">extensions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">serverId</span>&gt;</span>ossrh<span class="tag">&lt;/<span class="name">serverId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">nexusUrl</span>&gt;</span>https://oss.sonatype.org/<span class="tag">&lt;/<span class="name">nexusUrl</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">autoReleaseAfterClose</span>&gt;</span>true<span class="tag">&lt;/<span class="name">autoReleaseAfterClose</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æœ€åæ‰§è¡Œå‘½ä»¤<code>mvn clean package deploy</code>å³å¯å‘å¸ƒè‡³ <a href="https://central.sonatype.org/">central.sonatype.org</a>ã€‚</p>
<p>æ­¤æ–¹æ³•å‰æœŸéœ€è¦å¤æ‚çš„ç”³è¯·è´¦å·å’Œé¡¹ç›®çš„æµç¨‹ï¼ŒåæœŸéœ€è¦å®‰è£…è°ƒè¯•GPGï¼Œä½†åªè¦è·‘é€šæµç¨‹ï¼Œåç»­å‘å¸ƒéƒ½åªéœ€è¦ä¸€è¡Œå‘½ä»¤ã€‚</p>
<h2 id="å‘å¸ƒåˆ°ç§æœ‰ä»“åº“">5.3 å‘å¸ƒåˆ°ç§æœ‰ä»“åº“</h2>
<p>é€šè¿‡<code>nexus-staging-maven-plugin</code>é™¤äº†å¯ä»¥å‘å¸ƒåˆ° <a href="https://central.sonatype.org/">central.sonatype.org</a> å¤–ï¼Œä¹Ÿå¯ä»¥å‘å¸ƒåˆ°ç§æœ‰ä»“åº“ï¼Œä¾‹å¦‚ï¼Œå…¬å¸å†…éƒ¨è‡ªå·±æ­å»ºçš„NexusæœåŠ¡å™¨ã€‚</p>
<p>å¦‚æœæ²¡æœ‰ç§æœ‰ Nexus æœåŠ¡å™¨ï¼Œè¿˜å¯ä»¥å‘å¸ƒåˆ° <a href="https://github.com/features/packages">GitHub Packages</a>ã€‚GitHub Packagesæ˜¯ GitHub æä¾›çš„ä»“åº“æœåŠ¡ï¼Œæ”¯æŒ Mavenã€NPMã€Docker ç­‰ã€‚ä½¿ç”¨ GitHub Packages æ—¶ï¼Œæ— è®ºæ˜¯å‘å¸ƒArtifactï¼Œè¿˜æ˜¯å¼•ç”¨å·²å‘å¸ƒçš„ Artifactï¼Œéƒ½éœ€è¦æ˜ç¡®çš„æˆæƒ Tokenï¼Œå› æ­¤ï¼ŒGitHub Packages åªèƒ½ä½œä¸ºç§æœ‰ä»“åº“ä½¿ç”¨ã€‚</p>
<p>åœ¨å‘å¸ƒå‰ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆç™»å½•ååœ¨ç”¨æˆ·çš„<code>Settings</code>-<code>Developer settings</code>-<code>Personal access tokens</code>ä¸­åˆ›å»ºä¸¤ä¸ªTokenï¼Œä¸€ä¸ªç”¨äºå‘å¸ƒï¼Œä¸€ä¸ªç”¨äºä½¿ç”¨ã€‚å‘å¸ƒArtifactçš„Tokenå¿…é¡»æœ‰<code>repo</code>ã€<code>write:packages</code>å’Œ<code>read:packages</code>æƒé™ï¼š</p>
<figure>
<img src="https://www.liaoxuefeng.com/files/attachments/1347999282233410/l" alt="token-scopes" /><figcaption aria-hidden="true">token-scopes</figcaption>
</figure>
<p>ä½¿ç”¨ Artifact çš„Tokenåªéœ€è¦<code>read:packages</code>æƒé™ã€‚</p>
<p>åœ¨å‘å¸ƒç«¯ï¼ŒæŠŠ GitHub çš„ç”¨æˆ·åå’Œå‘å¸ƒTokenå†™å…¥<code>~/.m2/settings.xml</code>é…ç½®ä¸­ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">servers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>github-release<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">username</span>&gt;</span>GITHUB-USERNAME<span class="tag">&lt;/<span class="name">username</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">password</span>&gt;</span>f052...c21f<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œåœ¨éœ€è¦å‘å¸ƒçš„ Artifact çš„<code>pom.xml</code>ä¸­ï¼Œæ·»åŠ ä¸€ä¸ª<code>&lt;repository&gt;</code>å£°æ˜ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>github-release<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>GitHub Release<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.pkg.github.com/michaelliao/complex<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">distributionManagement</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°<code>&lt;id&gt;</code>å’Œ<code>~/.m2/settings.xml</code>é…ç½®ä¸­çš„<code>&lt;id&gt;</code>è¦ä¿æŒä¸€è‡´ï¼Œå› ä¸ºå‘å¸ƒæ—¶Mavenæ ¹æ®idæ‰¾åˆ°ç”¨äºç™»å½•çš„ç”¨æˆ·åå’ŒTokenï¼Œæ‰èƒ½æˆåŠŸä¸Šä¼ æ–‡ä»¶åˆ°GitHubã€‚æˆ‘ä»¬ç›´æ¥é€šè¿‡å‘½ä»¤<code>mvn clean package deploy</code>éƒ¨ç½²ï¼ŒæˆåŠŸåï¼Œåœ¨GitHubç”¨æˆ·é¡µé¢å¯ä»¥çœ‹åˆ°è¯¥Artifactï¼š</p>
<figure>
<img src="https://www.liaoxuefeng.com/files/attachments/1348000710393922/l" alt="github-packages" /><figcaption aria-hidden="true">github-packages</figcaption>
</figure>
<p>å®Œæ•´çš„é…ç½®è¯·å‚è€ƒ <a href="https://github.com/michaelliao/complex/">complex</a> é¡¹ç›®ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ”¯æŒå¤æ•°è¿ç®—çš„åº“ã€‚</p>
<p>ä½¿ç”¨è¯¥Artifactæ—¶ï¼Œå› ä¸ºGitHubçš„Packageåªèƒ½ä½œä¸ºç§æœ‰ä»“åº“ä½¿ç”¨ï¼Œæ‰€ä»¥é™¤äº†åœ¨ä½¿ç”¨æ–¹çš„<code>pom.xml</code>ä¸­å£°æ˜<code>&lt;repository&gt;</code>å¤–ï¼š</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">...</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">repositories</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">repository</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">id</span>&gt;</span>github-release<span class="tag">&lt;/<span class="name">id</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>GitHub Release<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">url</span>&gt;</span>https://maven.pkg.github.com/michaelliao/complex<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">repository</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">repositories</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itranswarp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>complex<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿˜éœ€è¦æŠŠæœ‰è¯»æƒé™çš„Tokené…ç½®åˆ°<code>~/.m2/settings.xml</code>æ–‡ä»¶ä¸­ã€‚</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
        <category>Maven</category>
      </categories>
      <tags>
        <tag>Maven</tag>
      </tags>
  </entry>
</search>
